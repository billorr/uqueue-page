<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Cross-platform task management with Google Drive sync" />
    <meta name="theme-color" content="#4F81F5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="UQueue" />

    <title>UQueue - Task Manager</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json" />

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16.png" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />
    <script type="module" crossorigin>var Ea=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var P=(e,t,n)=>(Ea(e,t,"read from private field"),n?n.call(e):t.get(e)),J=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ae=(e,t,n,r)=>(Ea(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var R=(e,t,n)=>(Ea(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hd={exports:{}},oa={},Ud={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),_p=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Ap=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Bp=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),mu=Symbol.iterator;function Hp(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yd=Object.assign,Qd={};function Es(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Vd}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kd(){}Kd.prototype=Es.prototype;function vc(e,t,n){this.props=e,this.context=t,this.refs=Qd,this.updater=n||Vd}var yc=vc.prototype=new Kd;yc.constructor=vc;Yd(yc,Es.prototype);yc.isPureReactComponent=!0;var gu=Array.isArray,Gd=Object.prototype.hasOwnProperty,xc={current:null},Xd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Gd.call(t,r)&&!Xd.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:bl,type:e,key:l,ref:a,props:s,_owner:xc.current}}function Up(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function Vp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vu=/\/+/g;function Ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vp(""+e.key):t.toString(36)}function li(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bl:case _p:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ca(a,0):r,gu(s)?(n="",e!=null&&(n=e.replace(vu,"$&/")+"/"),li(s,t,n,"",function(d){return d})):s!=null&&(wc(s)&&(s=Up(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",gu(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Ca(l,o);a+=li(l,t,n,c,s)}else if(c=Hp(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Ca(l,o++),a+=li(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Fl(e,t,n){if(e==null)return e;var r=[],s=0;return li(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},ii={transition:null},Qp={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:ii,ReactCurrentOwner:xc};he.Children={map:Fl,forEach:function(e,t,n){Fl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fl(e,function(){t++}),t},toArray:function(e){return Fl(e,function(t){return t})||[]},only:function(e){if(!wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Es;he.Fragment=Mp;he.Profiler=Rp;he.PureComponent=vc;he.StrictMode=Lp;he.Suspense=$p;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yd({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=xc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Gd.call(t,c)&&!Xd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:bl,type:e.type,key:s,ref:l,props:r,_owner:a}};he.createContext=function(e){return e={$$typeof:zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ap,_context:e},e.Consumer=e};he.createElement=Zd;he.createFactory=function(e){var t=Zd.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Fp,render:e}};he.isValidElement=wc;he.lazy=function(e){return{$$typeof:Wp,_payload:{_status:-1,_result:e},_init:Yp}};he.memo=function(e,t){return{$$typeof:Bp,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ii.transition;ii.transition={};try{e()}finally{ii.transition=t}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(e,t){return vt.current.useCallback(e,t)};he.useContext=function(e){return vt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};he.useEffect=function(e,t){return vt.current.useEffect(e,t)};he.useId=function(){return vt.current.useId()};he.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return vt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};he.useRef=function(e){return vt.current.useRef(e)};he.useState=function(e){return vt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return vt.current.useTransition()};he.version="18.2.0";Ud.exports=he;var D=Ud.exports;const Jd=Op(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=D,Gp=Symbol.for("react.element"),Xp=Symbol.for("react.fragment"),Zp=Object.prototype.hasOwnProperty,Jp=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qp={key:!0,ref:!0,__self:!0,__source:!0};function qd(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Zp.call(t,r)&&!qp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Gp,type:e,key:l,ref:a,props:s,_owner:Jp.current}}oa.Fragment=Xp;oa.jsx=qd;oa.jsxs=qd;Hd.exports=oa;var i=Hd.exports,ef={exports:{}},Mt={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,$){var G=Q.length;Q.push($);e:for(;0<G;){var ce=G-1>>>1,oe=Q[ce];if(0<s(oe,$))Q[ce]=$,Q[G]=oe,G=ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var $=Q[0],G=Q.pop();if(G!==$){Q[0]=G;e:for(var ce=0,oe=Q.length,be=oe>>>1;ce<be;){var Me=2*(ce+1)-1,we=Q[Me],Le=Me+1,ke=Q[Le];if(0>s(we,G))Le<oe&&0>s(ke,we)?(Q[ce]=ke,Q[Le]=G,ce=Le):(Q[ce]=we,Q[Me]=G,ce=Me);else if(Le<oe&&0>s(ke,G))Q[ce]=ke,Q[Le]=G,ce=Le;else break e}}return $}function s(Q,$){var G=Q.sortIndex-$.sortIndex;return G!==0?G:Q.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],p=1,v=null,f=3,m=!1,E=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(Q){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=Q)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(d)}}function w(Q){if(j=!1,g(Q),!E)if(n(c)!==null)E=!0,Fe(N);else{var $=n(d);$!==null&&We(w,$.startTime-Q)}}function N(Q,$){E=!1,j&&(j=!1,h(O),O=-1),m=!0;var G=f;try{for(g($),v=n(c);v!==null&&(!(v.expirationTime>$)||Q&&!k());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,f=v.priorityLevel;var oe=ce(v.expirationTime<=$);$=e.unstable_now(),typeof oe=="function"?v.callback=oe:v===n(c)&&r(c),g($)}else r(c);v=n(c)}if(v!==null)var be=!0;else{var Me=n(d);Me!==null&&We(w,Me.startTime-$),be=!1}return be}finally{v=null,f=G,m=!1}}var T=!1,b=null,O=-1,M=5,K=-1;function k(){return!(e.unstable_now()-K<M)}function Y(){if(b!==null){var Q=e.unstable_now();K=Q;var $=!0;try{$=b(!0,Q)}finally{$?me():(T=!1,b=null)}}else T=!1}var me;if(typeof u=="function")me=function(){u(Y)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ke=le.port2;le.port1.onmessage=Y,me=function(){Ke.postMessage(null)}}else me=function(){S(Y,0)};function Fe(Q){b=Q,T||(T=!0,me())}function We(Q,$){O=S(function(){Q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){E||m||(E=!0,Fe(N))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var G=f;f=$;try{return Q()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,$){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var G=f;f=Q;try{return $()}finally{f=G}},e.unstable_scheduleCallback=function(Q,$,G){var ce=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,Q){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,Q={id:p++,callback:$,priorityLevel:Q,startTime:G,expirationTime:oe,sortIndex:-1},G>ce?(Q.sortIndex=G,t(d,Q),n(c)===null&&Q===n(d)&&(j?(h(O),O=-1):j=!0,We(w,G-ce))):(Q.sortIndex=oe,t(c,Q),E||m||(E=!0,Fe(N))),Q},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Q){var $=f;return function(){var G=f;f=$;try{return Q.apply(this,arguments)}finally{f=G}}}})(nf);tf.exports=nf;var em=tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=D,_t=em;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sf=new Set,ll={};function Lr(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(ll[e]=t,e=0;e<t.length;e++)sf.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},xu={};function nm(e){return po.call(xu,e)?!0:po.call(yu,e)?!1:tm.test(e)?xu[e]=!0:(yu[e]=!0,!1)}function rm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sm(e,t,n,r){if(t===null||typeof t>"u"||rm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,jc);lt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,jc);lt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,jc);lt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sc(e,t,n,r){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sm(t,n,s,r)&&(n=null),r||s===null?nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var In=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),af=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Ec=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),of=Symbol.for("react.offscreen"),wu=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Ta;function Vs(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var Pa=!1;function ba(e,t){if(!e||Pa)return"";Pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,o=l.length-1;1<=a&&0<=o&&s[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==l[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Pa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vs(e):""}function lm(e){switch(e.tag){case 5:return Vs(e.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 2:case 15:return e=ba(e.type,!1),e;case 11:return e=ba(e.type.render,!1),e;case 1:return e=ba(e.type,!0),e;default:return""}}function yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Br:return"Portal";case mo:return"Profiler";case Dc:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case af:return(e.displayName||"Context")+".Consumer";case lf:return(e._context.displayName||"Context")+".Provider";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ec:return t=e.displayName||null,t!==null?t:yo(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return yo(e(t))}catch{}}return null}function im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(t);case 8:return t===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function am(e){var t=cf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=am(e))}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xo(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ku(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function df(e,t){t=t.checked,t!=null&&Sc(e,"checked",t,!1)}function wo(e,t){df(e,t);var n=ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ko(e,t.type,n):t.hasOwnProperty("defaultValue")&&ko(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ju(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ko(e,t,n){(t!=="number"||Si(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ys=Array.isArray;function qr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function jo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Ys(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ur(n)}}function ff(e,t){var n=ur(t.value),r=ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,pf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},om=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){om.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function mf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function gf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var cm=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(e,t){if(t){if(cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function No(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Co=null,es=null,ts=null;function Nu(e){if(e=_l(e)){if(typeof Co!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ha(t),Co(e.stateNode,e.type,t))}}function vf(e){es?ts?ts.push(e):ts=[e]:es=e}function yf(){if(es){var e=es,t=ts;if(ts=es=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function xf(e,t){return e(t)}function wf(){}var Ia=!1;function kf(e,t,n){if(Ia)return e(t,n);Ia=!0;try{return xf(e,t,n)}finally{Ia=!1,(es!==null||ts!==null)&&(wf(),yf())}}function al(e,t){var n=e.stateNode;if(n===null)return null;var r=ha(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var To=!1;if(En)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){To=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{To=!1}function um(e,t,n,r,s,l,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Zs=!1,Di=null,Ni=!1,Po=null,dm={onError:function(e){Zs=!0,Di=e}};function fm(e,t,n,r,s,l,a,o,c){Zs=!1,Di=null,um.apply(dm,arguments)}function hm(e,t,n,r,s,l,a,o,c){if(fm.apply(this,arguments),Zs){if(Zs){var d=Di;Zs=!1,Di=null}else throw Error(U(198));Ni||(Ni=!0,Po=d)}}function Rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eu(e){if(Rr(e)!==e)throw Error(U(188))}function pm(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Eu(s),e;if(l===r)return Eu(s),t;l=l.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Sf(e){return e=pm(e),e!==null?Df(e):null}function Df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Df(e);if(t!==null)return t;e=e.sibling}return null}var Nf=_t.unstable_scheduleCallback,Cu=_t.unstable_cancelCallback,mm=_t.unstable_shouldYield,gm=_t.unstable_requestPaint,Ue=_t.unstable_now,vm=_t.unstable_getCurrentPriorityLevel,Tc=_t.unstable_ImmediatePriority,Ef=_t.unstable_UserBlockingPriority,Ei=_t.unstable_NormalPriority,ym=_t.unstable_LowPriority,Cf=_t.unstable_IdlePriority,ca=null,pn=null;function xm(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:jm,wm=Math.log,km=Math.LN2;function jm(e){return e>>>=0,e===0?32:31-(wm(e)/km|0)|0}var Hl=64,Ul=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Qs(o):(l&=a,l!==0&&(r=Qs(l)))}else a=n&~s,a!==0?r=Qs(a):l!==0&&(r=Qs(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),s=1<<n,r|=e[n],t&=~s;return r}function Sm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-en(l),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=Sm(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tf(){var e=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),e}function Oa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Il(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=n}function Nm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-en(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-en(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Se=0;function Pf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bf,bc,If,Of,_f,Io=!1,Vl=[],nr=null,rr=null,sr=null,ol=new Map,cl=new Map,Hn=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function As(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=_l(t),t!==null&&bc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Cm(e,t,n,r,s){switch(t){case"focusin":return nr=As(nr,e,t,n,r,s),!0;case"dragenter":return rr=As(rr,e,t,n,r,s),!0;case"mouseover":return sr=As(sr,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return ol.set(l,As(ol.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,cl.set(l,As(cl.get(l)||null,e,t,n,r,s)),!0}return!1}function Mf(e){var t=kr(e.target);if(t!==null){var n=Rr(t);if(n!==null){if(t=n.tag,t===13){if(t=jf(n),t!==null){e.blockedOn=t,_f(e.priority,function(){If(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Eo=r,n.target.dispatchEvent(r),Eo=null}else return t=_l(n),t!==null&&bc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pu(e,t,n){ai(e)&&n.delete(t)}function Tm(){Io=!1,nr!==null&&ai(nr)&&(nr=null),rr!==null&&ai(rr)&&(rr=null),sr!==null&&ai(sr)&&(sr=null),ol.forEach(Pu),cl.forEach(Pu)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,Io||(Io=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Tm)))}function ul(e){function t(s){return zs(s,e)}if(0<Vl.length){zs(Vl[0],e);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nr!==null&&zs(nr,e),rr!==null&&zs(rr,e),sr!==null&&zs(sr,e),ol.forEach(t),cl.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Mf(n),n.blockedOn===null&&Hn.shift()}var ns=In.ReactCurrentBatchConfig,Ti=!0;function Pm(e,t,n,r){var s=Se,l=ns.transition;ns.transition=null;try{Se=1,Ic(e,t,n,r)}finally{Se=s,ns.transition=l}}function bm(e,t,n,r){var s=Se,l=ns.transition;ns.transition=null;try{Se=4,Ic(e,t,n,r)}finally{Se=s,ns.transition=l}}function Ic(e,t,n,r){if(Ti){var s=Oo(e,t,n,r);if(s===null)Wa(e,t,r,Pi,n),Tu(e,r);else if(Cm(s,e,t,n,r))r.stopPropagation();else if(Tu(e,r),t&4&&-1<Em.indexOf(e)){for(;s!==null;){var l=_l(s);if(l!==null&&bf(l),l=Oo(e,t,n,r),l===null&&Wa(e,t,r,Pi,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Wa(e,t,r,null,n)}}var Pi=null;function Oo(e,t,n,r){if(Pi=null,e=Cc(r),e=kr(e),e!==null)if(t=Rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function Lf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case Tc:return 1;case Ef:return 4;case Ei:case ym:return 16;case Cf:return 536870912;default:return 16}default:return 16}}var er=null,Oc=null,oi=null;function Rf(){if(oi)return oi;var e,t=Oc,n=t.length,r,s="value"in er?er.value:er.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return oi=s.slice(e,1<r?1-r:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function bu(){return!1}function Lt(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Yl:bu,this.isPropagationStopped=bu,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=Lt(Cs),Ol=ze({},Cs,{view:0,detail:0}),Im=Lt(Ol),_a,Ma,Fs,ua=ze({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(_a=e.screenX-Fs.screenX,Ma=e.screenY-Fs.screenY):Ma=_a=0,Fs=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Iu=Lt(ua),Om=ze({},ua,{dataTransfer:0}),_m=Lt(Om),Mm=ze({},Ol,{relatedTarget:0}),La=Lt(Mm),Lm=ze({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Lt(Lm),Am=ze({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=Lt(Am),Fm=ze({},Cs,{data:0}),Ou=Lt(Fm),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function Mc(){return Hm}var Um=ze({},Ol,{key:function(e){if(e.key){var t=$m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=Lt(Um),Ym=ze({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=Lt(Ym),Qm=ze({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),Km=Lt(Qm),Gm=ze({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=Lt(Gm),Zm=ze({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=Lt(Zm),qm=[9,13,27,32],Lc=En&&"CompositionEvent"in window,Js=null;En&&"documentMode"in document&&(Js=document.documentMode);var eg=En&&"TextEvent"in window&&!Js,Af=En&&(!Lc||Js&&8<Js&&11>=Js),Mu=" ",Lu=!1;function zf(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function tg(e,t){switch(e){case"compositionend":return Ff(t);case"keypress":return t.which!==32?null:(Lu=!0,Mu);case"textInput":return e=t.data,e===Mu&&Lu?null:e;default:return null}}function ng(e,t){if(Hr)return e==="compositionend"||!Lc&&zf(e,t)?(e=Rf(),oi=Oc=er=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Af&&t.locale!=="ko"?null:t.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rg[e.type]:t==="textarea"}function $f(e,t,n,r){vf(r),t=bi(t,"onChange"),0<t.length&&(n=new _c("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qs=null,dl=null;function sg(e){Zf(e,0)}function da(e){var t=Yr(e);if(uf(t))return e}function lg(e,t){if(e==="change")return t}var Bf=!1;if(En){var Ra;if(En){var Aa="oninput"in document;if(!Aa){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Aa=typeof Au.oninput=="function"}Ra=Aa}else Ra=!1;Bf=Ra&&(!document.documentMode||9<document.documentMode)}function zu(){qs&&(qs.detachEvent("onpropertychange",Wf),dl=qs=null)}function Wf(e){if(e.propertyName==="value"&&da(dl)){var t=[];$f(t,dl,e,Cc(e)),kf(sg,t)}}function ig(e,t,n){e==="focusin"?(zu(),qs=t,dl=n,qs.attachEvent("onpropertychange",Wf)):e==="focusout"&&zu()}function ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(dl)}function og(e,t){if(e==="click")return da(t)}function cg(e,t){if(e==="input"||e==="change")return da(t)}function ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:ug;function fl(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(t,s)||!nn(e[s],t[s]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var n=Fu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fu(n)}}function Hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uf(){for(var e=window,t=Si();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Si(e.document)}return t}function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dg(e){var t=Uf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hf(n.ownerDocument.documentElement,n)){if(r!==null&&Rc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=$u(n,l);var a=$u(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fg=En&&"documentMode"in document&&11>=document.documentMode,Ur=null,_o=null,el=null,Mo=!1;function Bu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||Ur==null||Ur!==Si(r)||(r=Ur,"selectionStart"in r&&Rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&fl(el,r)||(el=r,r=bi(_o,"onSelect"),0<r.length&&(t=new _c("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ur)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},za={},Vf={};En&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function fa(e){if(za[e])return za[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vf)return za[e]=t[n];return e}var Yf=fa("animationend"),Qf=fa("animationiteration"),Kf=fa("animationstart"),Gf=fa("transitionend"),Xf=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){Xf.set(e,t),Lr(t,[e])}for(var Fa=0;Fa<Wu.length;Fa++){var $a=Wu[Fa],hg=$a.toLowerCase(),pg=$a[0].toUpperCase()+$a.slice(1);fr(hg,"on"+pg)}fr(Yf,"onAnimationEnd");fr(Qf,"onAnimationIteration");fr(Kf,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Gf,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Hu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hm(r,t,void 0,e),e.currentTarget=null}function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&s.isPropagationStopped())break e;Hu(s,o,d),l=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&s.isPropagationStopped())break e;Hu(s,o,d),l=c}}}if(Ni)throw e=Po,Ni=!1,Po=null,e}function Te(e,t){var n=t[Fo];n===void 0&&(n=t[Fo]=new Set);var r=e+"__bubble";n.has(r)||(Jf(t,e,2,!1),n.add(r))}function Ba(e,t,n){var r=0;t&&(r|=4),Jf(n,e,r,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function hl(e){if(!e[Kl]){e[Kl]=!0,sf.forEach(function(n){n!=="selectionchange"&&(mg.has(n)||Ba(n,!1,e),Ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Ba("selectionchange",!1,t))}}function Jf(e,t,n,r){switch(Lf(t)){case 1:var s=Pm;break;case 4:s=bm;break;default:s=Ic}n=s.bind(null,t,n,e),s=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wa(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=kr(o),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}o=o.parentNode}}r=r.return}kf(function(){var d=l,p=Cc(n),v=[];e:{var f=Xf.get(e);if(f!==void 0){var m=_c,E=e;switch(e){case"keypress":if(ci(n)===0)break e;case"keydown":case"keyup":m=Vm;break;case"focusin":E="focus",m=La;break;case"focusout":E="blur",m=La;break;case"beforeblur":case"afterblur":m=La;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Km;break;case Yf:case Qf:case Kf:m=Rm;break;case Gf:m=Xm;break;case"scroll":m=Im;break;case"wheel":m=Jm;break;case"copy":case"cut":case"paste":m=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_u}var j=(t&4)!==0,S=!j&&e==="scroll",h=j?f!==null?f+"Capture":null:f;j=[];for(var u=d,g;u!==null;){g=u;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,h!==null&&(w=al(u,h),w!=null&&j.push(pl(u,w,g)))),S)break;u=u.return}0<j.length&&(f=new m(f,E,null,n,p),v.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Eo&&(E=n.relatedTarget||n.fromElement)&&(kr(E)||E[Cn]))break e;if((m||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=d,E=E?kr(E):null,E!==null&&(S=Rr(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=d),m!==E)){if(j=Iu,w="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(j=_u,w="onPointerLeave",h="onPointerEnter",u="pointer"),S=m==null?f:Yr(m),g=E==null?f:Yr(E),f=new j(w,u+"leave",m,n,p),f.target=S,f.relatedTarget=g,w=null,kr(p)===d&&(j=new j(h,u+"enter",E,n,p),j.target=g,j.relatedTarget=S,w=j),S=w,m&&E)t:{for(j=m,h=E,u=0,g=j;g;g=Ar(g))u++;for(g=0,w=h;w;w=Ar(w))g++;for(;0<u-g;)j=Ar(j),u--;for(;0<g-u;)h=Ar(h),g--;for(;u--;){if(j===h||h!==null&&j===h.alternate)break t;j=Ar(j),h=Ar(h)}j=null}else j=null;m!==null&&Uu(v,f,m,j,!1),E!==null&&S!==null&&Uu(v,S,E,j,!0)}}e:{if(f=d?Yr(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=lg;else if(Ru(f))if(Bf)N=cg;else{N=ag;var T=ig}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=og);if(N&&(N=N(e,d))){$f(v,N,n,p);break e}T&&T(e,f,d),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&ko(f,"number",f.value)}switch(T=d?Yr(d):window,e){case"focusin":(Ru(T)||T.contentEditable==="true")&&(Ur=T,_o=d,el=null);break;case"focusout":el=_o=Ur=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Bu(v,n,p);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":Bu(v,n,p)}var b;if(Lc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Hr?zf(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Af&&n.locale!=="ko"&&(Hr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Hr&&(b=Rf()):(er=p,Oc="value"in er?er.value:er.textContent,Hr=!0)),T=bi(d,O),0<T.length&&(O=new Ou(O,e,null,n,p),v.push({event:O,listeners:T}),b?O.data=b:(b=Ff(n),b!==null&&(O.data=b)))),(b=eg?tg(e,n):ng(e,n))&&(d=bi(d,"onBeforeInput"),0<d.length&&(p=new Ou("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:d}),p.data=b))}Zf(v,t)})}function pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=al(e,n),l!=null&&r.unshift(pl(e,l,s)),l=al(e,t),l!=null&&r.push(pl(e,l,s))),e=e.return}return r}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uu(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=al(n,l),c!=null&&a.unshift(pl(n,c,o))):s||(c=al(n,l),c!=null&&a.push(pl(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var gg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(gg,`
`).replace(vg,"")}function Gl(e,t,n){if(t=Vu(t),Vu(e)!==t&&n)throw Error(U(425))}function Ii(){}var Lo=null,Ro=null;function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zo=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(wg)}:zo;function wg(e){setTimeout(function(){throw e})}function Ha(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ul(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ul(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ts,ml="__reactProps$"+Ts,Cn="__reactContainer$"+Ts,Fo="__reactEvents$"+Ts,kg="__reactListeners$"+Ts,jg="__reactHandles$"+Ts;function kr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qu(e);e!==null;){if(n=e[fn])return n;e=Qu(e)}return t}e=n,n=e.parentNode}return null}function _l(e){return e=e[fn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ha(e){return e[ml]||null}var $o=[],Qr=-1;function hr(e){return{current:e}}function Pe(e){0>Qr||(e.current=$o[Qr],$o[Qr]=null,Qr--)}function Ce(e,t){Qr++,$o[Qr]=e.current,e.current=t}var dr={},ht=hr(dr),St=hr(!1),br=dr;function ws(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function Oi(){Pe(St),Pe(ht)}function Ku(e,t,n){if(ht.current!==dr)throw Error(U(168));Ce(ht,t),Ce(St,n)}function qf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,im(e)||"Unknown",s));return ze({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,br=ht.current,Ce(ht,e),Ce(St,St.current),!0}function Gu(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=qf(e,t,br),r.__reactInternalMemoizedMergedChildContext=e,Pe(St),Pe(ht),Ce(ht,e)):Pe(St),Ce(St,n)}var wn=null,pa=!1,Ua=!1;function eh(e){wn===null?wn=[e]:wn.push(e)}function Sg(e){pa=!0,eh(e)}function pr(){if(!Ua&&wn!==null){Ua=!0;var e=0,t=Se;try{var n=wn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,pa=!1}catch(s){throw wn!==null&&(wn=wn.slice(e+1)),Nf(Tc,pr),s}finally{Se=t,Ua=!1}}return null}var Kr=[],Gr=0,Mi=null,Li=0,$t=[],Bt=0,Ir=null,Sn=1,Dn="";function yr(e,t){Kr[Gr++]=Li,Kr[Gr++]=Mi,Mi=e,Li=t}function th(e,t,n){$t[Bt++]=Sn,$t[Bt++]=Dn,$t[Bt++]=Ir,Ir=e;var r=Sn;e=Dn;var s=32-en(r)-1;r&=~(1<<s),n+=1;var l=32-en(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Sn=1<<32-en(t)+s|n<<s|r,Dn=l+e}else Sn=1<<l|n<<s|r,Dn=e}function Ac(e){e.return!==null&&(yr(e,1),th(e,1,0))}function zc(e){for(;e===Mi;)Mi=Kr[--Gr],Kr[Gr]=null,Li=Kr[--Gr],Kr[Gr]=null;for(;e===Ir;)Ir=$t[--Bt],$t[Bt]=null,Dn=$t[--Bt],$t[Bt]=null,Sn=$t[--Bt],$t[Bt]=null}var Ot=null,It=null,_e=!1,qt=null;function nh(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,It=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ir!==null?{id:Sn,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,It=null,!0):!1;default:return!1}}function Bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wo(e){if(_e){var t=It;if(t){var n=t;if(!Xu(e,t)){if(Bo(e))throw Error(U(418));t=lr(n.nextSibling);var r=Ot;t&&Xu(e,t)?nh(r,n):(e.flags=e.flags&-4097|2,_e=!1,Ot=e)}}else{if(Bo(e))throw Error(U(418));e.flags=e.flags&-4097|2,_e=!1,Ot=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Xl(e){if(e!==Ot)return!1;if(!_e)return Zu(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ao(e.type,e.memoizedProps)),t&&(t=It)){if(Bo(e))throw rh(),Error(U(418));for(;t;)nh(e,t),t=lr(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=lr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ot?lr(e.stateNode.nextSibling):null;return!0}function rh(){for(var e=It;e;)e=lr(e.nextSibling)}function ks(){It=Ot=null,_e=!1}function Fc(e){qt===null?qt=[e]:qt.push(e)}var Dg=In.ReactCurrentBatchConfig;function Xt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ri=hr(null),Ai=null,Xr=null,$c=null;function Bc(){$c=Xr=Ai=null}function Wc(e){var t=Ri.current;Pe(Ri),e._currentValue=t}function Ho(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){Ai=e,$c=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if($c!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Ai===null)throw Error(U(308));Xr=e,Ai.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var jr=null;function Hc(e){jr===null?jr=[e]:jr.push(e)}function sh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Tn(e,r)}function Tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Tn(e,n)}return s=r.interleaved,s===null?(t.next=t,Hc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Tn(e,n)}function ui(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}function Ju(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var s=e.updateQueue;Wn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?l=d:a.next=d,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(l!==null){var v=s.baseState;a=0,p=d=c=null,o=l;do{var f=o.lane,m=o.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var E=e,j=o;switch(f=t,m=n,j.tag){case 1:if(E=j.payload,typeof E=="function"){v=E.call(m,v,f);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=j.payload,f=typeof E=="function"?E.call(m,v,f):E,f==null)break e;v=ze({},v,f);break e;case 2:Wn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=m,c=v):p=p.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(p===null&&(c=v),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);_r|=a,e.lanes=a,e.memoizedState=v}}function qu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ih=new rf.Component().refs;function Uo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=or(e),l=Nn(r,s);l.payload=t,n!=null&&(l.callback=n),t=ir(e,l,s),t!==null&&(tn(t,e,s,r),ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=or(e),l=Nn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ir(e,l,s),t!==null&&(tn(t,e,s,r),ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=or(e),s=Nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=ir(e,s,r),t!==null&&(tn(t,e,r,n),ui(t,e,r))}};function ed(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!fl(n,r)||!fl(s,l):!0}function ah(e,t,n){var r=!1,s=dr,l=t.contextType;return typeof l=="object"&&l!==null?l=Ut(l):(s=Dt(t)?br:ht.current,r=t.contextTypes,l=(r=r!=null)?ws(e,s):dr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function td(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=ih,Uc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ut(l):(l=Dt(t)?br:ht.current,s.context=ws(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Uo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ma.enqueueReplaceState(s,s.state,null),zi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=s.refs;o===ih&&(o=s.refs={}),a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Zl(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nd(e){var t=e._init;return t(e._payload)}function oh(e){function t(h,u){if(e){var g=h.deletions;g===null?(h.deletions=[u],h.flags|=16):g.push(u)}}function n(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function r(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function s(h,u){return h=cr(h,u),h.index=0,h.sibling=null,h}function l(h,u,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<u?(h.flags|=2,u):g):(h.flags|=2,u)):(h.flags|=1048576,u)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,u,g,w){return u===null||u.tag!==6?(u=Za(g,h.mode,w),u.return=h,u):(u=s(u,g),u.return=h,u)}function c(h,u,g,w){var N=g.type;return N===Wr?p(h,u,g.props.children,w,g.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bn&&nd(N)===u.type)?(w=s(u,g.props),w.ref=$s(h,u,g),w.return=h,w):(w=gi(g.type,g.key,g.props,null,h.mode,w),w.ref=$s(h,u,g),w.return=h,w)}function d(h,u,g,w){return u===null||u.tag!==4||u.stateNode.containerInfo!==g.containerInfo||u.stateNode.implementation!==g.implementation?(u=Ja(g,h.mode,w),u.return=h,u):(u=s(u,g.children||[]),u.return=h,u)}function p(h,u,g,w,N){return u===null||u.tag!==7?(u=Pr(g,h.mode,w,N),u.return=h,u):(u=s(u,g),u.return=h,u)}function v(h,u,g){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Za(""+u,h.mode,g),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case $l:return g=gi(u.type,u.key,u.props,null,h.mode,g),g.ref=$s(h,null,u),g.return=h,g;case Br:return u=Ja(u,h.mode,g),u.return=h,u;case Bn:var w=u._init;return v(h,w(u._payload),g)}if(Ys(u)||Ls(u))return u=Pr(u,h.mode,g,null),u.return=h,u;Zl(h,u)}return null}function f(h,u,g,w){var N=u!==null?u.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:o(h,u,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $l:return g.key===N?c(h,u,g,w):null;case Br:return g.key===N?d(h,u,g,w):null;case Bn:return N=g._init,f(h,u,N(g._payload),w)}if(Ys(g)||Ls(g))return N!==null?null:p(h,u,g,w,null);Zl(h,g)}return null}function m(h,u,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(g)||null,o(u,h,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $l:return h=h.get(w.key===null?g:w.key)||null,c(u,h,w,N);case Br:return h=h.get(w.key===null?g:w.key)||null,d(u,h,w,N);case Bn:var T=w._init;return m(h,u,g,T(w._payload),N)}if(Ys(w)||Ls(w))return h=h.get(g)||null,p(u,h,w,N,null);Zl(u,w)}return null}function E(h,u,g,w){for(var N=null,T=null,b=u,O=u=0,M=null;b!==null&&O<g.length;O++){b.index>O?(M=b,b=null):M=b.sibling;var K=f(h,b,g[O],w);if(K===null){b===null&&(b=M);break}e&&b&&K.alternate===null&&t(h,b),u=l(K,u,O),T===null?N=K:T.sibling=K,T=K,b=M}if(O===g.length)return n(h,b),_e&&yr(h,O),N;if(b===null){for(;O<g.length;O++)b=v(h,g[O],w),b!==null&&(u=l(b,u,O),T===null?N=b:T.sibling=b,T=b);return _e&&yr(h,O),N}for(b=r(h,b);O<g.length;O++)M=m(b,h,O,g[O],w),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?O:M.key),u=l(M,u,O),T===null?N=M:T.sibling=M,T=M);return e&&b.forEach(function(k){return t(h,k)}),_e&&yr(h,O),N}function j(h,u,g,w){var N=Ls(g);if(typeof N!="function")throw Error(U(150));if(g=N.call(g),g==null)throw Error(U(151));for(var T=N=null,b=u,O=u=0,M=null,K=g.next();b!==null&&!K.done;O++,K=g.next()){b.index>O?(M=b,b=null):M=b.sibling;var k=f(h,b,K.value,w);if(k===null){b===null&&(b=M);break}e&&b&&k.alternate===null&&t(h,b),u=l(k,u,O),T===null?N=k:T.sibling=k,T=k,b=M}if(K.done)return n(h,b),_e&&yr(h,O),N;if(b===null){for(;!K.done;O++,K=g.next())K=v(h,K.value,w),K!==null&&(u=l(K,u,O),T===null?N=K:T.sibling=K,T=K);return _e&&yr(h,O),N}for(b=r(h,b);!K.done;O++,K=g.next())K=m(b,h,O,K.value,w),K!==null&&(e&&K.alternate!==null&&b.delete(K.key===null?O:K.key),u=l(K,u,O),T===null?N=K:T.sibling=K,T=K);return e&&b.forEach(function(Y){return t(h,Y)}),_e&&yr(h,O),N}function S(h,u,g,w){if(typeof g=="object"&&g!==null&&g.type===Wr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $l:e:{for(var N=g.key,T=u;T!==null;){if(T.key===N){if(N=g.type,N===Wr){if(T.tag===7){n(h,T.sibling),u=s(T,g.props.children),u.return=h,h=u;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bn&&nd(N)===T.type){n(h,T.sibling),u=s(T,g.props),u.ref=$s(h,T,g),u.return=h,h=u;break e}n(h,T);break}else t(h,T);T=T.sibling}g.type===Wr?(u=Pr(g.props.children,h.mode,w,g.key),u.return=h,h=u):(w=gi(g.type,g.key,g.props,null,h.mode,w),w.ref=$s(h,u,g),w.return=h,h=w)}return a(h);case Br:e:{for(T=g.key;u!==null;){if(u.key===T)if(u.tag===4&&u.stateNode.containerInfo===g.containerInfo&&u.stateNode.implementation===g.implementation){n(h,u.sibling),u=s(u,g.children||[]),u.return=h,h=u;break e}else{n(h,u);break}else t(h,u);u=u.sibling}u=Ja(g,h.mode,w),u.return=h,h=u}return a(h);case Bn:return T=g._init,S(h,u,T(g._payload),w)}if(Ys(g))return E(h,u,g,w);if(Ls(g))return j(h,u,g,w);Zl(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,u!==null&&u.tag===6?(n(h,u.sibling),u=s(u,g),u.return=h,h=u):(n(h,u),u=Za(g,h.mode,w),u.return=h,h=u),a(h)):n(h,u)}return S}var js=oh(!0),ch=oh(!1),Ml={},mn=hr(Ml),gl=hr(Ml),vl=hr(Ml);function Sr(e){if(e===Ml)throw Error(U(174));return e}function Vc(e,t){switch(Ce(vl,t),Ce(gl,e),Ce(mn,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:So(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=So(t,e)}Pe(mn),Ce(mn,t)}function Ss(){Pe(mn),Pe(gl),Pe(vl)}function uh(e){Sr(vl.current);var t=Sr(mn.current),n=So(t,e.type);t!==n&&(Ce(gl,e),Ce(mn,n))}function Yc(e){gl.current===e&&(Pe(mn),Pe(gl))}var Re=hr(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=[];function Qc(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var di=In.ReactCurrentDispatcher,Ya=In.ReactCurrentBatchConfig,Or=0,Ae=null,Ze=null,tt=null,$i=!1,tl=!1,yl=0,Ng=0;function ot(){throw Error(U(321))}function Kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function Gc(e,t,n,r,s,l){if(Or=l,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?Pg:bg,e=n(r,s),tl){l=0;do{if(tl=!1,yl=0,25<=l)throw Error(U(301));l+=1,tt=Ze=null,t.updateQueue=null,di.current=Ig,e=n(r,s)}while(tl)}if(di.current=Bi,t=Ze!==null&&Ze.next!==null,Or=0,tt=Ze=Ae=null,$i=!1,t)throw Error(U(300));return e}function Xc(){var e=yl!==0;return yl=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ae.memoizedState=tt=e:tt=tt.next=e,tt}function Vt(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=tt===null?Ae.memoizedState:tt.next;if(t!==null)tt=t,Ze=e;else{if(e===null)throw Error(U(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?Ae.memoizedState=tt=e:tt=tt.next=e}return tt}function xl(e,t){return typeof t=="function"?t(e):t}function Qa(e){var t=Vt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var o=a=null,c=null,d=l;do{var p=d.lane;if((Or&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var v={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=v,a=r):c=c.next=v,Ae.lanes|=p,_r|=p}d=d.next}while(d!==null&&d!==l);c===null?a=r:c.next=o,nn(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Ae.lanes|=l,_r|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ka(e){var t=Vt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);nn(l,t.memoizedState)||(jt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function dh(){}function fh(e,t){var n=Ae,r=Vt(),s=t(),l=!nn(r.memoizedState,s);if(l&&(r.memoizedState=s,jt=!0),r=r.queue,Zc(mh.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,wl(9,ph.bind(null,n,r,s,t),void 0,null),nt===null)throw Error(U(349));Or&30||hh(n,t,s)}return s}function hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ph(e,t,n,r){t.value=n,t.getSnapshot=r,gh(t)&&vh(e)}function mh(e,t,n){return n(function(){gh(t)&&vh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function vh(e){var t=Tn(e,1);t!==null&&tn(t,e,1,-1)}function rd(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=Tg.bind(null,Ae,e),[t.memoizedState,e]}function wl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yh(){return Vt().memoizedState}function fi(e,t,n,r){var s=sn();Ae.flags|=e,s.memoizedState=wl(1|t,n,void 0,r===void 0?null:r)}function ga(e,t,n,r){var s=Vt();r=r===void 0?null:r;var l=void 0;if(Ze!==null){var a=Ze.memoizedState;if(l=a.destroy,r!==null&&Kc(r,a.deps)){s.memoizedState=wl(t,n,l,r);return}}Ae.flags|=e,s.memoizedState=wl(1|t,n,l,r)}function sd(e,t){return fi(8390656,8,e,t)}function Zc(e,t){return ga(2048,8,e,t)}function xh(e,t){return ga(4,2,e,t)}function wh(e,t){return ga(4,4,e,t)}function kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,n){return n=n!=null?n.concat([e]):null,ga(4,4,kh.bind(null,t,e),n)}function Jc(){}function Sh(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dh(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nh(e,t,n){return Or&21?(nn(n,t)||(n=Tf(),Ae.lanes|=n,_r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function Eg(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Ya.transition;Ya.transition={};try{e(!1),t()}finally{Se=n,Ya.transition=r}}function Eh(){return Vt().memoizedState}function Cg(e,t,n){var r=or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ch(e))Th(t,n);else if(n=sh(e,t,n,r),n!==null){var s=gt();tn(n,e,r,s),Ph(n,t,r)}}function Tg(e,t,n){var r=or(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ch(e))Th(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,n);if(s.hasEagerState=!0,s.eagerState=o,nn(o,a)){var c=t.interleaved;c===null?(s.next=s,Hc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=sh(e,t,s,r),n!==null&&(s=gt(),tn(n,e,r,s),Ph(n,t,r))}}function Ch(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Th(e,t){tl=$i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ph(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}var Bi={readContext:Ut,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Pg={readContext:Ut,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:sd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fi(4194308,4,kh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cg.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:rd,useDebugValue:Jc,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=rd(!1),t=e[0];return e=Eg.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,s=sn();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),nt===null)throw Error(U(349));Or&30||hh(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,sd(mh.bind(null,r,l,e),[e]),r.flags|=2048,wl(9,ph.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=sn(),t=nt.identifierPrefix;if(_e){var n=Dn,r=Sn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ng++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bg={readContext:Ut,useCallback:Sh,useContext:Ut,useEffect:Zc,useImperativeHandle:jh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Dh,useReducer:Qa,useRef:yh,useState:function(){return Qa(xl)},useDebugValue:Jc,useDeferredValue:function(e){var t=Vt();return Nh(t,Ze.memoizedState,e)},useTransition:function(){var e=Qa(xl)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:Eh,unstable_isNewReconciler:!1},Ig={readContext:Ut,useCallback:Sh,useContext:Ut,useEffect:Zc,useImperativeHandle:jh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Dh,useReducer:Ka,useRef:yh,useState:function(){return Ka(xl)},useDebugValue:Jc,useDeferredValue:function(e){var t=Vt();return Ze===null?t.memoizedState=e:Nh(t,Ze.memoizedState,e)},useTransition:function(){var e=Ka(xl)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:fh,useId:Eh,unstable_isNewReconciler:!1};function Ds(e,t){try{var n="",r=t;do n+=lm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Og=typeof WeakMap=="function"?WeakMap:Map;function bh(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,nc=r),Yo(e,t)},n}function Ih(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Yo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Yo(e,t),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ld(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Og;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Yg.bind(null,e,t,n),t.then(e,e))}function id(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ad(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e)}var _g=In.ReactCurrentOwner,jt=!1;function mt(e,t,n,r){t.child=e===null?ch(t,null,n,r):js(t,e.child,n,r)}function od(e,t,n,r,s){n=n.render;var l=t.ref;return rs(t,s),r=Gc(e,t,n,r,l,s),n=Xc(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(_e&&n&&Ac(t),t.flags|=1,mt(e,t,r,s),t.child)}function cd(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!iu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Oh(e,t,l,r,s)):(e=gi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(a,r)&&e.ref===t.ref)return Pn(e,t,s)}return t.flags|=1,e=cr(l,r),e.ref=t.ref,e.return=t,t.child=e}function Oh(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(fl(l,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,Pn(e,t,s)}return Qo(e,t,n,r,s)}function _h(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Jr,bt),bt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Jr,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Ce(Jr,bt),bt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Ce(Jr,bt),bt|=r;return mt(e,t,s,n),t.child}function Mh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qo(e,t,n,r,s){var l=Dt(n)?br:ht.current;return l=ws(t,l),rs(t,s),n=Gc(e,t,n,r,l,s),r=Xc(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Pn(e,t,s)):(_e&&r&&Ac(t),t.flags|=1,mt(e,t,n,s),t.child)}function ud(e,t,n,r,s){if(Dt(n)){var l=!0;_i(t)}else l=!1;if(rs(t,s),t.stateNode===null)hi(e,t),ah(t,n,r),Vo(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=Dt(n)?br:ht.current,d=ws(t,d));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&td(t,a,r,d),Wn=!1;var f=t.memoizedState;a.state=f,zi(t,r,a,s),c=t.memoizedState,o!==r||f!==c||St.current||Wn?(typeof p=="function"&&(Uo(t,n,p,r),c=t.memoizedState),(o=Wn||ed(t,n,o,r,f,c,d))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,lh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Xt(t.type,o),a.props=d,v=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=Dt(n)?br:ht.current,c=ws(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==v||f!==c)&&td(t,a,r,c),Wn=!1,f=t.memoizedState,a.state=f,zi(t,r,a,s);var E=t.memoizedState;o!==v||f!==E||St.current||Wn?(typeof m=="function"&&(Uo(t,n,m,r),E=t.memoizedState),(d=Wn||ed(t,n,d,r,f,E,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),a.props=r,a.state=E,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ko(e,t,n,r,l,s)}function Ko(e,t,n,r,s,l){Mh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Gu(t,n,!1),Pn(e,t,l);r=t.stateNode,_g.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=js(t,e.child,null,l),t.child=js(t,null,o,l)):mt(e,t,o,l),t.memoizedState=r.state,s&&Gu(t,n,!0),t.child}function Lh(e){var t=e.stateNode;t.pendingContext?Ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ku(e,t.context,!1),Vc(e,t.containerInfo)}function dd(e,t,n,r,s){return ks(),Fc(s),t.flags|=256,mt(e,t,n,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rh(e,t,n){var r=t.pendingProps,s=Re.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Re,s&1),e===null)return Wo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=xa(a,r,0,null),e=Pr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Xo(n),t.memoizedState=Go,e):qc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Mg(e,t,a,r,o,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=cr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?l=cr(o,l):(l=Pr(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Xo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Go,r}return l=e.child,e=l.sibling,r=cr(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qc(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,n,r){return r!==null&&Fc(r),js(t,e.child,null,n),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mg(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=Ga(Error(U(422))),Jl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=xa({mode:"visible",children:r.children},s,0,null),l=Pr(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&js(t,e.child,null,a),t.child.memoizedState=Xo(a),t.memoizedState=Go,l);if(!(t.mode&1))return Jl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(U(419)),r=Ga(l,r,void 0),Jl(e,t,a,r)}if(o=(a&e.childLanes)!==0,jt||o){if(r=nt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Tn(e,s),tn(r,e,s,-1))}return lu(),r=Ga(Error(U(421))),Jl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,It=lr(s.nextSibling),Ot=t,_e=!0,qt=null,e!==null&&($t[Bt++]=Sn,$t[Bt++]=Dn,$t[Bt++]=Ir,Sn=e.id,Dn=e.overflow,Ir=t),t=qc(t,r.children),t.flags|=4096,t)}function fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ho(e.return,t,n)}function Xa(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Ah(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(mt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,n,t);else if(e.tag===19)fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xa(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xa(t,!0,n,null,l);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lg(e,t,n){switch(t.tag){case 3:Lh(t),ks();break;case 5:uh(t);break;case 1:Dt(t.type)&&_i(t);break;case 4:Vc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ce(Ri,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Rh(e,t,n):(Ce(Re,Re.current&1),e=Pn(e,t,n),e!==null?e.sibling:null);Ce(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ah(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,_h(e,t,n)}return Pn(e,t,n)}var zh,Zo,Fh,$h;zh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zo=function(){};Fh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(mn.current);var l=null;switch(n){case"input":s=xo(e,s),r=xo(e,r),l=[];break;case"select":s=ze({},s,{value:void 0}),r=ze({},r,{value:void 0}),l=[];break;case"textarea":s=jo(e,s),r=jo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ii)}Do(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ll.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ll.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Te("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};$h=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rg(e,t,n){var r=t.pendingProps;switch(zc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Dt(t.type)&&Oi(),ct(t),null;case 3:return r=t.stateNode,Ss(),Pe(St),Pe(ht),Qc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(lc(qt),qt=null))),Zo(e,t),ct(t),null;case 5:Yc(t);var s=Sr(vl.current);if(n=t.type,e!==null&&t.stateNode!=null)Fh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ct(t),null}if(e=Sr(mn.current),Xl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[fn]=t,r[ml]=l,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Ks.length;s++)Te(Ks[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":ku(r,l),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Te("invalid",r);break;case"textarea":Su(r,l),Te("invalid",r)}Do(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Gl(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Gl(r.textContent,o,e),s=["children",""+o]):ll.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Te("scroll",r)}switch(n){case"input":Bl(r),ju(r,l,!0);break;case"textarea":Bl(r),Du(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ii)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[fn]=t,e[ml]=r,zh(e,t,!1,!1),t.stateNode=e;e:{switch(a=No(n,r),n){case"dialog":Te("cancel",e),Te("close",e),s=r;break;case"iframe":case"object":case"embed":Te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ks.length;s++)Te(Ks[s],e);s=r;break;case"source":Te("error",e),s=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=r;break;case"details":Te("toggle",e),s=r;break;case"input":ku(e,r),s=xo(e,r),Te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ze({},r,{value:void 0}),Te("invalid",e);break;case"textarea":Su(e,r),s=jo(e,r),Te("invalid",e);break;default:s=r}Do(n,s),o=s;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?gf(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pf(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&il(e,c):typeof c=="number"&&il(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ll.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Te("scroll",e):c!=null&&Sc(e,l,c,a))}switch(n){case"input":Bl(e),ju(e,r,!1);break;case"textarea":Bl(e),Du(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ur(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?qr(e,!!r.multiple,l,!1):r.defaultValue!=null&&qr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)$h(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Sr(vl.current),Sr(mn.current),Xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(l=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Gl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return ct(t),null;case 13:if(Pe(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&It!==null&&t.mode&1&&!(t.flags&128))rh(),ks(),t.flags|=98560,l=!1;else if(l=Xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[fn]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),l=!1}else qt!==null&&(lc(qt),qt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Je===0&&(Je=3):lu())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Ss(),Zo(e,t),e===null&&hl(t.stateNode.containerInfo),ct(t),null;case 10:return Wc(t.type._context),ct(t),null;case 17:return Dt(t.type)&&Oi(),ct(t),null;case 19:if(Pe(Re),l=t.memoizedState,l===null)return ct(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)Bs(l,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Fi(e),a!==null){for(t.flags|=128,Bs(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Re,Re.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ue()>Ns&&(t.flags|=128,r=!0,Bs(l,!1),t.lanes=4194304)}else{if(!r)if(e=Fi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!_e)return ct(t),null}else 2*Ue()-l.renderingStartTime>Ns&&n!==1073741824&&(t.flags|=128,r=!0,Bs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ue(),t.sibling=null,n=Re.current,Ce(Re,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Ag(e,t){switch(zc(t),t.tag){case 1:return Dt(t.type)&&Oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),Pe(St),Pe(ht),Qc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(Pe(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Re),null;case 4:return Ss(),null;case 10:return Wc(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var ql=!1,ft=!1,zg=typeof WeakSet=="function"?WeakSet:Set,q=null;function Zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function Jo(e,t,n){try{n()}catch(r){Be(e,t,r)}}var hd=!1;function Fg(e,t){if(Lo=Ti,e=Uf(),Rc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,p=0,v=e,f=null;t:for(;;){for(var m;v!==n||s!==0&&v.nodeType!==3||(o=a+s),v!==l||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(m=v.firstChild)!==null;)f=v,v=m;for(;;){if(v===e)break t;if(f===n&&++d===s&&(o=a),f===l&&++p===r&&(c=a),(m=v.nextSibling)!==null)break;v=f,f=v.parentNode}v=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:e,selectionRange:n},Ti=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var j=E.memoizedProps,S=E.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:Xt(t.type,j),S);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){Be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return E=hd,hd=!1,E}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Jo(t,n,l)}s=s.next}while(s!==r)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[ml],delete t[Fo],delete t[kg],delete t[jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ii));else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}var rt=null,Jt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)Hh(e,t,n),n=n.sibling}function Hh(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ca,n)}catch{}switch(n.tag){case 5:ft||Zr(n,t);case 6:var r=rt,s=Jt;rt=null,Mn(e,t,n),rt=r,Jt=s,rt!==null&&(Jt?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(Jt?(e=rt,n=n.stateNode,e.nodeType===8?Ha(e.parentNode,n):e.nodeType===1&&Ha(e,n),ul(e)):Ha(rt,n.stateNode));break;case 4:r=rt,s=Jt,rt=n.stateNode.containerInfo,Jt=!0,Mn(e,t,n),rt=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Jo(n,t,a),s=s.next}while(s!==r)}Mn(e,t,n);break;case 1:if(!ft&&(Zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Be(n,t,o)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,Mn(e,t,n),ft=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zg),t.forEach(function(r){var s=Kg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:rt=o.stateNode,Jt=!1;break e;case 3:rt=o.stateNode.containerInfo,Jt=!0;break e;case 4:rt=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(rt===null)throw Error(U(160));Hh(l,a,s),rt=null,Jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Be(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uh(t,e),t=t.sibling}function Uh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),rn(e),r&4){try{nl(3,e,e.return),va(3,e)}catch(j){Be(e,e.return,j)}try{nl(5,e,e.return)}catch(j){Be(e,e.return,j)}}break;case 1:Gt(t,e),rn(e),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(Gt(t,e),rn(e),r&512&&n!==null&&Zr(n,n.return),e.flags&32){var s=e.stateNode;try{il(s,"")}catch(j){Be(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&df(s,l),No(o,a);var d=No(o,l);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?gf(s,v):p==="dangerouslySetInnerHTML"?pf(s,v):p==="children"?il(s,v):Sc(s,p,v,d)}switch(o){case"input":wo(s,l);break;case"textarea":ff(s,l);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?qr(s,!!l.multiple,m,!1):f!==!!l.multiple&&(l.defaultValue!=null?qr(s,!!l.multiple,l.defaultValue,!0):qr(s,!!l.multiple,l.multiple?[]:"",!1))}s[ml]=l}catch(j){Be(e,e.return,j)}}break;case 6:if(Gt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(j){Be(e,e.return,j)}}break;case 3:if(Gt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(t.containerInfo)}catch(j){Be(e,e.return,j)}break;case 4:Gt(t,e),rn(e);break;case 13:Gt(t,e),rn(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(nu=Ue())),r&4&&md(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(d=ft)||p,Gt(t,e),ft=d):Gt(t,e),rn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(q=e,p=e.child;p!==null;){for(v=q=p;q!==null;){switch(f=q,m=f.child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zr(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(j){Be(r,n,j)}}break;case 5:Zr(f,f.return);break;case 22:if(f.memoizedState!==null){vd(v);continue}}m!==null?(m.return=f,q=m):vd(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{s=v.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=mf("display",a))}catch(j){Be(e,e.return,j)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(j){Be(e,e.return,j)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Gt(t,e),rn(e),r&4&&md(e);break;case 21:break;default:Gt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wh(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(il(s,""),r.flags&=-33);var l=pd(e);tc(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=pd(e);ec(e,o,a);break;default:throw Error(U(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $g(e,t,n){q=e,Vh(e)}function Vh(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ql;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||ft;o=ql;var d=ft;if(ql=a,(ft=c)&&!d)for(q=s;q!==null;)a=q,c=a.child,a.tag===22&&a.memoizedState!==null?yd(s):c!==null?(c.return=a,q=c):yd(s);for(;l!==null;)q=l,Vh(l),l=l.sibling;q=s,ql=o,ft=d}gd(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,q=l):gd(e)}}function gd(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||va(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Xt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&qu(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qu(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&ul(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ft||t.flags&512&&qo(t)}catch(f){Be(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function vd(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function yd(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(c){Be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Be(t,s,c)}}var l=t.return;try{qo(t)}catch(c){Be(t,l,c)}break;case 5:var a=t.return;try{qo(t)}catch(c){Be(t,a,c)}}}catch(c){Be(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var Bg=Math.ceil,Wi=In.ReactCurrentDispatcher,eu=In.ReactCurrentOwner,Ht=In.ReactCurrentBatchConfig,ve=0,nt=null,Qe=null,st=0,bt=0,Jr=hr(0),Je=0,kl=null,_r=0,ya=0,tu=0,rl=null,kt=null,nu=0,Ns=1/0,xn=null,Hi=!1,nc=null,ar=null,ei=!1,tr=null,Ui=0,sl=0,rc=null,pi=-1,mi=0;function gt(){return ve&6?Ue():pi!==-1?pi:pi=Ue()}function or(e){return e.mode&1?ve&2&&st!==0?st&-st:Dg.transition!==null?(mi===0&&(mi=Tf()),mi):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Lf(e.type)),e):1}function tn(e,t,n,r){if(50<sl)throw sl=0,rc=null,Error(U(185));Il(e,n,r),(!(ve&2)||e!==nt)&&(e===nt&&(!(ve&2)&&(ya|=n),Je===4&&Un(e,st)),Nt(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ns=Ue()+500,pa&&pr()))}function Nt(e,t){var n=e.callbackNode;Dm(e,t);var r=Ci(e,e===nt?st:0);if(r===0)n!==null&&Cu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cu(n),t===1)e.tag===0?Sg(xd.bind(null,e)):eh(xd.bind(null,e)),xg(function(){!(ve&6)&&pr()}),n=null;else{switch(Pf(r)){case 1:n=Tc;break;case 4:n=Ef;break;case 16:n=Ei;break;case 536870912:n=Cf;break;default:n=Ei}n=qh(n,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yh(e,t){if(pi=-1,mi=0,ve&6)throw Error(U(327));var n=e.callbackNode;if(ss()&&e.callbackNode!==n)return null;var r=Ci(e,e===nt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vi(e,r);else{t=r;var s=ve;ve|=2;var l=Kh();(nt!==e||st!==t)&&(xn=null,Ns=Ue()+500,Tr(e,t));do try{Ug();break}catch(o){Qh(e,o)}while(!0);Bc(),Wi.current=l,ve=s,Qe!==null?t=0:(nt=null,st=0,t=Je)}if(t!==0){if(t===2&&(s=bo(e),s!==0&&(r=s,t=sc(e,s))),t===1)throw n=kl,Tr(e,0),Un(e,r),Nt(e,Ue()),n;if(t===6)Un(e,r);else{if(s=e.current.alternate,!(r&30)&&!Wg(s)&&(t=Vi(e,r),t===2&&(l=bo(e),l!==0&&(r=l,t=sc(e,l))),t===1))throw n=kl,Tr(e,0),Un(e,r),Nt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:xr(e,kt,xn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=nu+500-Ue(),10<t)){if(Ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zo(xr.bind(null,e,kt,xn),t);break}xr(e,kt,xn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-en(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bg(r/1960))-r,10<r){e.timeoutHandle=zo(xr.bind(null,e,kt,xn),r);break}xr(e,kt,xn);break;case 5:xr(e,kt,xn);break;default:throw Error(U(329))}}}return Nt(e,Ue()),e.callbackNode===n?Yh.bind(null,e):null}function sc(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=Vi(e,t),e!==2&&(t=kt,kt=n,t!==null&&lc(t)),e}function lc(e){kt===null?kt=e:kt.push.apply(kt,e)}function Wg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!nn(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~tu,t&=~ya,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function xd(e){if(ve&6)throw Error(U(327));ss();var t=Ci(e,0);if(!(t&1))return Nt(e,Ue()),null;var n=Vi(e,t);if(e.tag!==0&&n===2){var r=bo(e);r!==0&&(t=r,n=sc(e,r))}if(n===1)throw n=kl,Tr(e,0),Un(e,t),Nt(e,Ue()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,kt,xn),Nt(e,Ue()),null}function ru(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ns=Ue()+500,pa&&pr())}}function Mr(e){tr!==null&&tr.tag===0&&!(ve&6)&&ss();var t=ve;ve|=1;var n=Ht.transition,r=Se;try{if(Ht.transition=null,Se=1,e)return e()}finally{Se=r,Ht.transition=n,ve=t,!(ve&6)&&pr()}}function su(){bt=Jr.current,Pe(Jr)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yg(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(zc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oi();break;case 3:Ss(),Pe(St),Pe(ht),Qc();break;case 5:Yc(r);break;case 4:Ss();break;case 13:Pe(Re);break;case 19:Pe(Re);break;case 10:Wc(r.type._context);break;case 22:case 23:su()}n=n.return}if(nt=e,Qe=e=cr(e.current,null),st=bt=t,Je=0,kl=null,tu=ya=_r=0,kt=rl=null,jr!==null){for(t=0;t<jr.length;t++)if(n=jr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}jr=null}return e}function Qh(e,t){do{var n=Qe;try{if(Bc(),di.current=Bi,$i){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$i=!1}if(Or=0,tt=Ze=Ae=null,tl=!1,yl=0,eu.current=null,n===null||n.return===null){Je=1,kl=t,Qe=null;break}e:{var l=e,a=n.return,o=n,c=t;if(t=st,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=id(a);if(m!==null){m.flags&=-257,ad(m,a,o,l,t),m.mode&1&&ld(l,d,t),t=m,c=d;var E=t.updateQueue;if(E===null){var j=new Set;j.add(c),t.updateQueue=j}else E.add(c);break e}else{if(!(t&1)){ld(l,d,t),lu();break e}c=Error(U(426))}}else if(_e&&o.mode&1){var S=id(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ad(S,a,o,l,t),Fc(Ds(c,o));break e}}l=c=Ds(c,o),Je!==4&&(Je=2),rl===null?rl=[l]:rl.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=bh(l,c,t);Ju(l,h);break e;case 1:o=c;var u=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ar===null||!ar.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Ih(l,o,t);Ju(l,w);break e}}l=l.return}while(l!==null)}Xh(n)}catch(N){t=N,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Kh(){var e=Wi.current;return Wi.current=Bi,e===null?Bi:e}function lu(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(_r&268435455)&&!(ya&268435455)||Un(nt,st)}function Vi(e,t){var n=ve;ve|=2;var r=Kh();(nt!==e||st!==t)&&(xn=null,Tr(e,t));do try{Hg();break}catch(s){Qh(e,s)}while(!0);if(Bc(),ve=n,Wi.current=r,Qe!==null)throw Error(U(261));return nt=null,st=0,Je}function Hg(){for(;Qe!==null;)Gh(Qe)}function Ug(){for(;Qe!==null&&!mm();)Gh(Qe)}function Gh(e){var t=Jh(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Xh(e):Qe=t,eu.current=null}function Xh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ag(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Qe=null;return}}else if(n=Rg(n,t,bt),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Je===0&&(Je=5)}function xr(e,t,n){var r=Se,s=Ht.transition;try{Ht.transition=null,Se=1,Vg(e,t,n,r)}finally{Ht.transition=s,Se=r}return null}function Vg(e,t,n,r){do ss();while(tr!==null);if(ve&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Nm(e,l),e===nt&&(Qe=nt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ei||(ei=!0,qh(Ei,function(){return ss(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ht.transition,Ht.transition=null;var a=Se;Se=1;var o=ve;ve|=4,eu.current=null,Fg(e,n),Uh(n,e),dg(Ro),Ti=!!Lo,Ro=Lo=null,e.current=n,$g(n),gm(),ve=o,Se=a,Ht.transition=l}else e.current=n;if(ei&&(ei=!1,tr=e,Ui=s),l=e.pendingLanes,l===0&&(ar=null),xm(n.stateNode),Nt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hi)throw Hi=!1,e=nc,nc=null,e;return Ui&1&&e.tag!==0&&ss(),l=e.pendingLanes,l&1?e===rc?sl++:(sl=0,rc=e):sl=0,pr(),null}function ss(){if(tr!==null){var e=Pf(Ui),t=Ht.transition,n=Se;try{if(Ht.transition=null,Se=16>e?16:e,tr===null)var r=!1;else{if(e=tr,tr=null,Ui=0,ve&6)throw Error(U(331));var s=ve;for(ve|=4,q=e.current;q!==null;){var l=q,a=l.child;if(q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(q=d;q!==null;){var p=q;switch(p.tag){case 0:case 11:case 15:nl(8,p,l)}var v=p.child;if(v!==null)v.return=p,q=v;else for(;q!==null;){p=q;var f=p.sibling,m=p.return;if(Bh(p),p===d){q=null;break}if(f!==null){f.return=m,q=f;break}q=m}}}var E=l.alternate;if(E!==null){var j=E.child;if(j!==null){E.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}q=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,q=a;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:nl(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,q=h;break e}q=l.return}}var u=e.current;for(q=u;q!==null;){a=q;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,q=g;else e:for(a=u;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:va(9,o)}}catch(N){Be(o,o.return,N)}if(o===a){q=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,q=w;break e}q=o.return}}if(ve=s,pr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ca,e)}catch{}r=!0}return r}finally{Se=n,Ht.transition=t}}return!1}function wd(e,t,n){t=Ds(n,t),t=bh(e,t,1),e=ir(e,t,1),t=gt(),e!==null&&(Il(e,1,t),Nt(e,t))}function Be(e,t,n){if(e.tag===3)wd(e,e,n);else for(;t!==null;){if(t.tag===3){wd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){e=Ds(n,e),e=Ih(t,e,1),t=ir(t,e,1),e=gt(),t!==null&&(Il(t,1,e),Nt(t,e));break}}t=t.return}}function Yg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(st&n)===n&&(Je===4||Je===3&&(st&130023424)===st&&500>Ue()-nu?Tr(e,0):tu|=n),Nt(e,t)}function Zh(e,t){t===0&&(e.mode&1?(t=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):t=1);var n=gt();e=Tn(e,t),e!==null&&(Il(e,t,n),Nt(e,n))}function Qg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zh(e,n)}function Kg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Zh(e,n)}var Jh;Jh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,Lg(e,t,n);jt=!!(e.flags&131072)}else jt=!1,_e&&t.flags&1048576&&th(t,Li,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hi(e,t),e=t.pendingProps;var s=ws(t,ht.current);rs(t,n),s=Gc(null,t,r,e,s,n);var l=Xc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(l=!0,_i(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uc(t),s.updater=ma,t.stateNode=s,s._reactInternals=t,Vo(t,r,e,n),t=Ko(null,t,r,!0,l,n)):(t.tag=0,_e&&l&&Ac(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Xg(r),e=Xt(r,e),s){case 0:t=Qo(null,t,r,e,n);break e;case 1:t=ud(null,t,r,e,n);break e;case 11:t=od(null,t,r,e,n);break e;case 14:t=cd(null,t,r,Xt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xt(r,s),Qo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xt(r,s),ud(e,t,r,s,n);case 3:e:{if(Lh(t),e===null)throw Error(U(387));r=t.pendingProps,l=t.memoizedState,s=l.element,lh(e,t),zi(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ds(Error(U(423)),t),t=dd(e,t,r,n,s);break e}else if(r!==s){s=Ds(Error(U(424)),t),t=dd(e,t,r,n,s);break e}else for(It=lr(t.stateNode.containerInfo.firstChild),Ot=t,_e=!0,qt=null,n=ch(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===s){t=Pn(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return uh(t),e===null&&Wo(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,Ao(r,s)?a=null:l!==null&&Ao(r,l)&&(t.flags|=32),Mh(e,t),mt(e,t,a,n),t.child;case 6:return e===null&&Wo(t),null;case 13:return Rh(e,t,n);case 4:return Vc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=js(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xt(r,s),od(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,Ce(Ri,r._currentValue),r._currentValue=a,l!==null)if(nn(l.value,a)){if(l.children===s.children&&!St.current){t=Pn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Nn(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Ho(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(U(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ho(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,rs(t,n),s=Ut(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=Xt(r,t.pendingProps),s=Xt(r.type,s),cd(e,t,r,s,n);case 15:return Oh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xt(r,s),hi(e,t),t.tag=1,Dt(r)?(e=!0,_i(t)):e=!1,rs(t,n),ah(t,r,s),Vo(t,r,s,n),Ko(null,t,r,!0,e,n);case 19:return Ah(e,t,n);case 22:return _h(e,t,n)}throw Error(U(156,t.tag))};function qh(e,t){return Nf(e,t)}function Gg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new Gg(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xg(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nc)return 11;if(e===Ec)return 14}return 2}function cr(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gi(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")iu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return Pr(n.children,s,l,t);case Dc:a=8,s|=8;break;case mo:return e=Wt(12,n,t,s|2),e.elementType=mo,e.lanes=l,e;case go:return e=Wt(13,n,t,s),e.elementType=go,e.lanes=l,e;case vo:return e=Wt(19,n,t,s),e.elementType=vo,e.lanes=l,e;case of:return xa(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lf:a=10;break e;case af:a=9;break e;case Nc:a=11;break e;case Ec:a=14;break e;case Bn:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Wt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Pr(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function xa(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=of,e.lanes=n,e.stateNode={isHidden:!1},e}function Za(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function Ja(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function au(e,t,n,r,s,l,a,o,c){return e=new Zg(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(l),e}function Jg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ep(e){if(!e)return dr;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Dt(n))return qf(e,n,t)}return t}function tp(e,t,n,r,s,l,a,o,c){return e=au(n,r,!0,e,s,l,a,o,c),e.context=ep(null),n=e.current,r=gt(),s=or(n),l=Nn(r,s),l.callback=t??null,ir(n,l,s),e.current.lanes=s,Il(e,s,r),Nt(e,r),e}function wa(e,t,n,r){var s=t.current,l=gt(),a=or(s);return n=ep(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ir(s,t,a),e!==null&&(tn(e,s,a,l),ui(e,s,a)),a}function Yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ou(e,t){kd(e,t),(e=e.alternate)&&kd(e,t)}function qg(){return null}var np=typeof reportError=="function"?reportError:function(e){console.error(e)};function cu(e){this._internalRoot=e}ka.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));wa(e,t,null,null)};ka.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){wa(null,e,null,null)}),t[Cn]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Of();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Mf(e)}};function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function ev(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=Yi(a);l.call(d)}}var a=tp(t,r,e,0,null,!1,!1,"",jd);return e._reactRootContainer=a,e[Cn]=a.current,hl(e.nodeType===8?e.parentNode:e),Mr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=Yi(c);o.call(d)}}var c=au(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=c,e[Cn]=c.current,hl(e.nodeType===8?e.parentNode:e),Mr(function(){wa(t,c,n,r)}),c}function Sa(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var o=s;s=function(){var c=Yi(a);o.call(c)}}wa(t,a,e,s)}else a=ev(n,t,e,s,r);return Yi(a)}bf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qs(t.pendingLanes);n!==0&&(Pc(t,n|1),Nt(t,Ue()),!(ve&6)&&(Ns=Ue()+500,pr()))}break;case 13:Mr(function(){var r=Tn(e,1);if(r!==null){var s=gt();tn(r,e,1,s)}}),ou(e,1)}};bc=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var n=gt();tn(t,e,134217728,n)}ou(e,134217728)}};If=function(e){if(e.tag===13){var t=or(e),n=Tn(e,t);if(n!==null){var r=gt();tn(n,e,t,r)}ou(e,t)}};Of=function(){return Se};_f=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Co=function(e,t,n){switch(t){case"input":if(wo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ha(r);if(!s)throw Error(U(90));uf(r),wo(r,s)}}}break;case"textarea":ff(e,n);break;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}};xf=ru;wf=Mr;var tv={usingClientEntryPoint:!1,Events:[_l,Yr,ha,vf,yf,ru]},Ws={findFiberByHostInstance:kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nv={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{ca=ti.inject(nv),pn=ti}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(t))throw Error(U(200));return Jg(e,t,null,n)};Mt.createRoot=function(e,t){if(!uu(e))throw Error(U(299));var n=!1,r="",s=np;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=au(e,1,!1,null,null,n,!1,r,s),e[Cn]=t.current,hl(e.nodeType===8?e.parentNode:e),new cu(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Sf(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Mr(e)};Mt.hydrate=function(e,t,n){if(!ja(t))throw Error(U(200));return Sa(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!uu(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=np;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=tp(t,null,e,1,n??null,s,!1,l,a),e[Cn]=t.current,hl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ka(t)};Mt.render=function(e,t,n){if(!ja(t))throw Error(U(200));return Sa(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!ja(e))throw Error(U(40));return e._reactRootContainer?(Mr(function(){Sa(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Mt.unstable_batchedUpdates=ru;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ja(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Sa(e,t,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";function rp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rp)}catch(e){console.error(e)}}rp(),ef.exports=Mt;var rv=ef.exports,sp,Sd=rv;sp=Sd.createRoot,Sd.hydrateRoot;const Da=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"9 18 15 12 9 6"})}),Ll=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"6 9 12 15 18 9"})}),bn=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ic=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("polyline",{points:"12 6 12 12 16 14"})]}),lp=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("circle",{cx:"12",cy:"12",r:"10"})}),ip=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"m9 12 2 2 4-4"})]}),sv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),mr=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),lv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"20 6 9 17 4 12"})}),Dd=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),qa=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),i.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),ac=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),iv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),av=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),ov=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M12 1v6m0 6v6m0-6h6m-6 0H6"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});function du(e,t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)?new Date(t):t}function cv(e){return e==null?e:JSON.parse(JSON.stringify(e),du)}var ln,is,Qi,ap;class uv{constructor(t="uqueue:"){J(this,Qi);J(this,ln,void 0);J(this,is,new Set);ae(this,ln,t)}async read(t){try{const n=localStorage.getItem(P(this,ln)+t);return n?JSON.parse(n,du):null}catch(n){return console.error(`LocalStorage read error for ${t}:`,n),null}}async write(t,n){try{const r=JSON.stringify(n);localStorage.setItem(P(this,ln)+t,r)}catch(r){throw console.error(`LocalStorage write error for ${t}:`,r),r.name==="QuotaExceededError"&&R(this,Qi,ap).call(this,{type:"quota-exceeded",key:t}),r}}async delete(t){localStorage.removeItem(P(this,ln)+t)}async keys(){const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&r.startsWith(P(this,ln))&&t.push(r.slice(P(this,ln).length))}return t}async isOnline(){return!0}onStateChange(t){return P(this,is).add(t),()=>P(this,is).delete(t)}getPrefix(){return P(this,ln)}}ln=new WeakMap,is=new WeakMap,Qi=new WeakSet,ap=function(t){P(this,is).forEach(n=>{try{n(t)}catch(r){console.error("Error in storage listener:",r)}})};var zt,et,Ct,Vn,Dr,as,os,jl,oc,Nr,Gs,Ki,op,Gi,cp,Xi,up,ut,xt,an,An;class dv{constructor(t){J(this,jl);J(this,Nr);J(this,Ki);J(this,Gi);J(this,Xi);J(this,ut);J(this,an);J(this,zt,void 0);J(this,et,null);J(this,Ct,[]);J(this,Vn,new Map);J(this,Dr,"idle");J(this,as,!1);J(this,os,null);ae(this,zt,t),typeof window<"u"&&(window.addEventListener("online",()=>R(this,Gi,cp).call(this)),window.addEventListener("offline",()=>R(this,Xi,up).call(this)))}getLocalProvider(){return P(this,zt)}setRemoteProvider(t){ae(this,et,t),t&&R(this,Nr,Gs).call(this)}hasRemoteProvider(){return P(this,et)!==null}async read(t){return P(this,zt).read(t)}async write(t,n){await P(this,zt).write(t,n),P(this,et)&&R(this,jl,oc).call(this,{type:"write",key:t,data:n,timestamp:Date.now()})}async delete(t){await P(this,zt).delete(t),P(this,et)&&R(this,jl,oc).call(this,{type:"delete",key:t,timestamp:Date.now()})}async keys(){return P(this,zt).keys()}getSyncState(){return P(this,Dr)}getPendingCount(){return P(this,Ct).length}async fullSync(){if(!P(this,et))throw new Error("No remote provider connected");if(!await P(this,et).isOnline()){R(this,ut,xt).call(this,"offline");return}R(this,ut,xt).call(this,"syncing");try{const t=await P(this,zt).keys();for(const n of t){const r=await P(this,zt).read(n);r!==null&&await P(this,et).write(n,r)}R(this,ut,xt).call(this,"idle"),R(this,an,An).call(this,"sync-completed",{syncedKeys:t})}catch(t){throw console.error("Full sync failed:",t),R(this,ut,xt).call(this,"error"),R(this,an,An).call(this,"sync-error",{error:t}),t}}async pullFromRemote(){if(!P(this,et))throw new Error("No remote provider connected");if(!await P(this,et).isOnline()){R(this,ut,xt).call(this,"offline");return}R(this,ut,xt).call(this,"syncing");try{const t=await P(this,et).keys();for(const n of t){const r=await P(this,et).read(n);r!==null&&await P(this,zt).write(n,r)}R(this,ut,xt).call(this,"idle"),R(this,an,An).call(this,"pull-completed",{pulledKeys:t})}catch(t){throw console.error("Pull from remote failed:",t),R(this,ut,xt).call(this,"error"),t}}on(t,n){return P(this,Vn).has(t)||P(this,Vn).set(t,new Set),P(this,Vn).get(t).add(n),()=>{var r;return(r=P(this,Vn).get(t))==null?void 0:r.delete(n)}}}zt=new WeakMap,et=new WeakMap,Ct=new WeakMap,Vn=new WeakMap,Dr=new WeakMap,as=new WeakMap,os=new WeakMap,jl=new WeakSet,oc=function(t){const n=P(this,Ct).findIndex(r=>r.key===t.key&&r.type===t.type);n>=0?P(this,Ct)[n]=t:P(this,Ct).push(t),R(this,an,An).call(this,"queue-changed",{pendingCount:P(this,Ct).length}),R(this,Nr,Gs).call(this)},Nr=new WeakSet,Gs=async function(){if(P(this,as)||!P(this,et)||P(this,Ct).length===0)return;if(!await P(this,et).isOnline()){R(this,ut,xt).call(this,"offline");return}ae(this,as,!0),R(this,ut,xt).call(this,"syncing");try{for(;P(this,Ct).length>0;){const n=P(this,Ct)[0];n.type==="write"?await P(this,et).write(n.key,n.data):n.type==="delete"&&await P(this,et).delete(n.key),P(this,Ct).shift(),R(this,an,An).call(this,"queue-changed",{pendingCount:P(this,Ct).length})}R(this,ut,xt).call(this,"idle")}catch(n){console.error("Sync queue processing failed:",n),R(this,ut,xt).call(this,"error"),R(this,an,An).call(this,"sync-error",{error:n}),R(this,Ki,op).call(this)}finally{ae(this,as,!1)}},Ki=new WeakSet,op=function(){P(this,os)||ae(this,os,setTimeout(()=>{ae(this,os,null),R(this,Nr,Gs).call(this)},5e3))},Gi=new WeakSet,cp=function(){P(this,Dr)==="offline"&&R(this,Nr,Gs).call(this)},Xi=new WeakSet,up=function(){R(this,ut,xt).call(this,"offline")},ut=new WeakSet,xt=function(t){P(this,Dr)!==t&&(ae(this,Dr,t),R(this,an,An).call(this,"sync-state-changed",{state:t}))},an=new WeakSet,An=function(t,n){const r=P(this,Vn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})};var zr={};const fv="https://www.googleapis.com/auth/drive.file",Nd="todolist.uqueue",hv="https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",pv="AIzaSyDyPPG0fPsK2dZx2wBMu54Hoj8Qn1mChfI",mv="977194632556-o4pkb6kngrvhhu1s9j4pissft2n6gein.apps.googleusercontent.com";var Yn,Zi,Qn,wt,Zt,Kn,cs,us,Er,Ji,qi,ea,dp,jn,wr,ds,vi,ta,fp,na,hp,ra,pp,on,zn;class gv{constructor(t=null,n=null){J(this,ea);J(this,jn);J(this,ds);J(this,ta);J(this,na);J(this,ra);J(this,on);J(this,Yn,void 0);J(this,Zi,void 0);J(this,Qn,null);J(this,wt,null);J(this,Zt,null);J(this,Kn,null);J(this,cs,!1);J(this,us,new Set);J(this,Er,null);J(this,Ji,!1);J(this,qi,!1);ae(this,Yn,t||(zr==null?void 0:zr.VITE_GOOGLE_CLIENT_ID)||mv),ae(this,Zi,n||(zr==null?void 0:zr.VITE_GOOGLE_API_KEY)||pv)}hasClientId(){return!!P(this,Yn)}setClientId(t){ae(this,Yn,t)}async initialize(){if(!P(this,cs)){if(!P(this,Yn))throw new Error("Google Client ID not configured. Set VITE_GOOGLE_CLIENT_ID in .env or pass to constructor.");await Promise.all([R(this,ra,pp).call(this),R(this,na,hp).call(this)]),await new Promise((t,n)=>{window.gapi.load("client",async()=>{try{await window.gapi.client.init({discoveryDocs:[hv]}),ae(this,Ji,!0),t()}catch(r){n(r)}})}),ae(this,Qn,window.google.accounts.oauth2.initTokenClient({client_id:P(this,Yn),scope:fv,callback:t=>{if(t.error){console.error("OAuth error:",t.error),R(this,on,zn).call(this,{type:"auth-error",error:t.error});return}t.access_token&&(ae(this,wt,t.access_token),R(this,on,zn).call(this,{type:"authenticated"}))}})),ae(this,qi,!0),ae(this,cs,!0)}}async authenticate(){return P(this,cs)||await this.initialize(),new Promise((t,n)=>{try{const r=P(this,Qn).callback;P(this,Qn).callback=async s=>{if(s.error){n(new Error(s.error));return}if(s.access_token){ae(this,wt,s.access_token),R(this,on,zn).call(this,{type:"authenticated"});try{const l=await R(this,ea,dp).call(this);t(l)}catch(l){n(l)}}},window.gapi.client.getToken()===null?P(this,Qn).requestAccessToken({prompt:"consent"}):P(this,Qn).requestAccessToken({prompt:""})}catch(r){n(r)}})}async signOut(){if(P(this,wt)){try{window.google.accounts.oauth2.revoke(P(this,wt))}catch(t){console.warn("Token revocation failed:",t)}ae(this,wt,null),ae(this,Zt,null),ae(this,Kn,null),ae(this,Er,null),R(this,on,zn).call(this,{type:"signed-out"})}}isAuthenticated(){return!!P(this,wt)&&!!P(this,Zt)}async read(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await R(this,jn,wr).call(this);return(n==null?void 0:n[t])??null}async write(t,n){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const r=await R(this,jn,wr).call(this)||{};r[t]=n,r._lastModified=new Date().toISOString(),await R(this,ds,vi).call(this,r)}async delete(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await R(this,jn,wr).call(this)||{};delete n[t],n._lastModified=new Date().toISOString(),await R(this,ds,vi).call(this,n)}async keys(){if(!this.isAuthenticated())return[];const t=await R(this,jn,wr).call(this)||{};return Object.keys(t).filter(n=>!n.startsWith("_"))}async isOnline(){return navigator.onLine&&this.isAuthenticated()}onStateChange(t){return P(this,us).add(t),()=>P(this,us).delete(t)}}Yn=new WeakMap,Zi=new WeakMap,Qn=new WeakMap,wt=new WeakMap,Zt=new WeakMap,Kn=new WeakMap,cs=new WeakMap,us=new WeakMap,Er=new WeakMap,Ji=new WeakMap,qi=new WeakMap,ea=new WeakSet,dp=async function(){const n=(await window.gapi.client.drive.files.list({q:`name='${Nd}' and trashed=false`,fields:"files(id, name, modifiedTime)",spaces:"drive"})).result.files;if(n&&n.length>0)return ae(this,Zt,n[0].id),await R(this,jn,wr).call(this),P(this,Zt);const r=await window.gapi.client.drive.files.create({resource:{name:Nd,mimeType:"application/json"},fields:"id"});return ae(this,Zt,r.result.id),await R(this,ds,vi).call(this,{_created:new Date().toISOString(),_lastModified:new Date().toISOString()}),P(this,Zt)},jn=new WeakSet,wr=async function(){const t=await fetch(`https://www.googleapis.com/drive/v3/files/${P(this,Zt)}?alt=media`,{headers:{Authorization:`Bearer ${P(this,wt)}`}});if(!t.ok)throw t.status===401?(ae(this,wt,null),R(this,on,zn).call(this,{type:"token-expired"}),new Error("Token expired")):new Error(`Failed to read file: ${t.status}`);const n=t.headers.get("ETag");n&&ae(this,Kn,n);const r=await t.text();return r?(ae(this,Er,JSON.parse(r,du)),P(this,Er)):null},ds=new WeakSet,vi=async function(t){const n=JSON.stringify(t),r={Authorization:`Bearer ${P(this,wt)}`,"Content-Type":"application/json"};P(this,Kn)&&(r["If-Match"]=P(this,Kn));const s=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${P(this,Zt)}?uploadType=media`,{method:"PATCH",headers:r,body:n});if(!s.ok){if(s.status===401)throw ae(this,wt,null),R(this,on,zn).call(this,{type:"token-expired"}),new Error("Token expired");if(s.status===412){console.warn("Write conflict detected, creating backup file"),await R(this,ta,fp).call(this,n),R(this,on,zn).call(this,{type:"write-conflict"}),await R(this,jn,wr).call(this);return}throw new Error(`Failed to write file: ${s.status}`)}const l=s.headers.get("ETag");l&&ae(this,Kn,l),ae(this,Er,t)},ta=new WeakSet,fp=async function(t){const r=new Date().toISOString().replace(/[:.]/g,"-").replace("T","_").slice(0,19),s=Math.random().toString(36).slice(2,8),l=`todolist.${r}-${s}.uqueue`,a="-------314159265358979324",o=`\r
--`+a+`\r
`,c=`\r
--`+a+"--",d={name:l,mimeType:"application/json"},p=o+`Content-Type: application/json\r
\r
`+JSON.stringify(d)+o+`Content-Type: application/json\r
\r
`+t+c,v=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${P(this,wt)}`,"Content-Type":`multipart/related; boundary="${a}"`},body:p});v.ok?console.log(`Created conflict backup: ${l}`):console.error(`Failed to create conflict backup ${l}: ${v.status}`)},na=new WeakSet,hp=function(){return new Promise((t,n)=>{var s,l;if((l=(s=window.google)==null?void 0:s.accounts)!=null&&l.oauth2){t();return}const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google Identity Services")),document.head.appendChild(r)})},ra=new WeakSet,pp=function(){return new Promise((t,n)=>{if(window.gapi){t();return}const r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google API client")),document.head.appendChild(r)})},on=new WeakSet,zn=function(t){P(this,us).forEach(n=>{try{n(t)}catch(r){console.error("Error in GoogleDriveProvider listener:",r)}})};let eo=null;function vv(){return eo||(eo=new gv),eo}let to=null,no=null;function yv(){return to||(to=new uv("uqueue:")),to}function Na(){return no||(no=new dv(yv())),no}var Gn,Cr,Xn,cn,fs,hs,ps,yi,ms,xi;class fu{constructor(t,n,r=null){J(this,ps);J(this,ms);J(this,Gn,void 0);J(this,Cr,void 0);J(this,Xn,new Map);J(this,cn,null);J(this,fs,void 0);J(this,hs,!1);ae(this,Gn,t),ae(this,Cr,n),ae(this,fs,r)}async initialize(){if(P(this,hs))return;const t=await P(this,Cr).read(P(this,Gn));t!==null?ae(this,cn,t):P(this,fs)!==null?(ae(this,cn,R(this,ms,xi).call(this,P(this,fs))),await P(this,Cr).write(P(this,Gn),P(this,cn))):ae(this,cn,null),ae(this,hs,!0),R(this,ps,yi).call(this,"data-changed",{data:this.getData()})}isInitialized(){return P(this,hs)}async save(t){ae(this,cn,t),await P(this,Cr).write(P(this,Gn),t),R(this,ps,yi).call(this,"data-changed",{data:this.getData()})}getData(){return R(this,ms,xi).call(this,P(this,cn))}getRawData(){return P(this,cn)}getStorageKey(){return P(this,Gn)}on(t,n){return P(this,Xn).has(t)||P(this,Xn).set(t,new Set),P(this,Xn).get(t).add(n),()=>this.off(t,n)}off(t,n){var r;(r=P(this,Xn).get(t))==null||r.delete(n)}emit(t,n){R(this,ps,yi).call(this,t,n)}generateId(t="id"){return`${t}-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}clone(t){return R(this,ms,xi).call(this,t)}}Gn=new WeakMap,Cr=new WeakMap,Xn=new WeakMap,cn=new WeakMap,fs=new WeakMap,hs=new WeakMap,ps=new WeakSet,yi=function(t,n){const r=P(this,Xn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},ms=new WeakSet,xi=function(t){return cv(t)};const xv=[{id:"1",title:"Design new landing page",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-30T14:00:00"),estimate:4,tags:["design","urgent"],description:"",featurePath:"frontend",children:[{id:"1.1",title:"Create wireframes",completed:!0,backend:"local",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-28T10:00:00"),estimate:1,tags:[],description:"",children:[]},{id:"1.2",title:"Get stakeholder feedback",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-01-28T10:00:00"),dueDate:new Date("2026-01-29T12:00:00"),estimate:1,dependencies:["1.1"],tags:[],description:"",children:[]},{id:"1.3",title:"Finalize design system",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-01-29T12:00:00"),dueDate:new Date("2026-01-30T16:00:00"),estimate:2,dependencies:["1.2"],tags:[],description:"",children:[]}]},{id:"2",title:"Implement authentication flow",completed:!1,backend:"our_backend",level:"story",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:["backend","security"],description:"",featurePath:"backend",children:[{id:"2.1",title:"Set up OAuth providers",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-05T17:00:00"),estimate:3,tags:[],description:"",children:[]},{id:"2.2",title:"Write integration tests",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-02-05T17:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:2,dependencies:["2.1"],tags:[],description:"",children:[]}]},{id:"3",title:"Update documentation",completed:!1,backend:"google_drive",assignee:"carol",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-04T17:00:00"),estimate:2,tags:["docs"],description:"",children:[]},{id:"4",title:"Code review for PR #234",completed:!1,backend:"github",assignee:"dave",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-03T18:00:00"),estimate:1,tags:["review","urgent"],description:"",children:[]},{id:"5",title:"Weekly team sync",completed:!0,backend:"local",dueDate:new Date("2026-01-28T09:00:00"),tags:["meeting"],description:"",children:[]},{id:"10",title:"v2.0 Platform Redesign",completed:!1,backend:"our_backend",level:"epic",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-03-20T17:00:00"),estimate:30,tags:["platform","v2"],description:"Complete redesign of the platform for v2.0 launch.",children:[{id:"10.1",title:"New auth system",completed:!1,backend:"our_backend",level:"story",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:12,tags:["auth"],description:"",children:[{id:"10.1.1",title:"OAuth integration",completed:!1,backend:"our_backend",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.1.2",title:"Session management",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:4,dependencies:["10.1.1"],tags:[],description:"",children:[]},{id:"10.1.3",title:"Auth security review",completed:!1,backend:"local",assignee:"carol",startDate:new Date("2026-02-17T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:3,dependencies:["10.1.2"],tags:[],description:"",children:[]}]},{id:"10.2",title:"API overhaul",completed:!1,backend:"our_backend",level:"story",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:10,tags:["api"],description:"",children:[{id:"10.2.1",title:"API endpoint migration",completed:!1,backend:"our_backend",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-19T17:00:00"),estimate:6,tags:[],description:"",children:[]},{id:"10.2.2",title:"API integration tests",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-02-19T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:4,dependencies:["10.2.1"],tags:[],description:"",children:[]}]},{id:"10.3",title:"Frontend refresh",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:12,tags:["frontend"],description:"",children:[{id:"10.3.1",title:"Component library update",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-03T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.3.2",title:"Dashboard redesign",completed:!1,backend:"github",assignee:"bob",startDate:new Date("2026-03-03T09:00:00"),dueDate:new Date("2026-03-10T17:00:00"),estimate:5,dependencies:["10.3.1"],tags:[],description:"",children:[]},{id:"10.3.3",title:"E2E testing",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-03-10T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:2,dependencies:["10.3.2"],tags:[],description:"",children:[]}]}]},{id:"11",title:"Database migration",completed:!1,backend:"our_backend",level:"story",assignee:"dave",startDate:new Date("2026-02-05T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:8,tags:["database","infra"],description:"Migrate from PostgreSQL 14 to 16 with schema changes.",children:[]},{id:"6",title:"Daily standup notes",completed:!1,type:"chore",recurrence:"daily",backend:"local",dueDate:new Date("2026-02-03T09:30:00"),tags:["team"],description:"Write up standup notes and share with team.",instances:{"2026-02-01":{completed:!0,notes:""},"2026-02-02":{completed:!0,notes:"Weekend catch-up"},"2026-02-03":{completed:!1,notes:""}},children:[]},{id:"7",title:"Sprint retrospective report",completed:!1,type:"assignment",assignees:["alice","bob","carol"],backend:"local",dueDate:new Date("2026-02-07T17:00:00"),tags:["process"],description:"Each team member writes their section of the retro report.",instances:{alice:{completed:!0,notes:"Submitted Friday"},bob:{completed:!1,notes:""},carol:{completed:!1,notes:"WIP"}},children:[]}];var gs,wi,Sl,cc,vs,ki;class wv extends fu{constructor(n){super("todos:v2",n,xv);J(this,gs);J(this,Sl);J(this,vs)}async getTodos(){return this.getData()}async setTodos(n){await this.save(n)}findById(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findById(n,l.children);if(a)return a}}return null}findParent(n,r=null,s=null){const l=r??this.getData();for(const a of l){if(a.id===n)return s;if(a.children&&a.children.length>0){const o=this.findParent(n,a.children,a);if(o!==void 0)return o}}return null}async addTodo(n,r=null,s={}){const l=this.getData(),a={id:this.generateId("todo"),title:n,completed:!1,backend:"local",dueDate:null,tags:[],description:"",children:[],...s};if(r){const o=R(this,gs,wi).call(this,l,r,a);await this.save(o)}else await this.save([...l,a]);return a}async updateTodo(n,r){const s=this.getData(),l=R(this,Sl,cc).call(this,s,n,r);return await this.save(l),l}async deleteTodo(n){const r=this.getData(),s=R(this,vs,ki).call(this,r,n);return await this.save(s),s}async toggleTodo(n){const r=this.findById(n);return r?this.updateTodo(n,{completed:!r.completed}):this.getData()}async moveTodo(n,r){const s=this.getData(),l=this.findById(n);if(!l)return s;let a=R(this,vs,ki).call(this,s,n);return r?a=R(this,gs,wi).call(this,a,r,this.clone(l)):a=[...a,this.clone(l)],await this.save(a),a}async reorderTodos(n,r,s){const l=this.getData(),a=(c,d)=>{if(d===null){const p=[...c],[v]=p.splice(r,1);return p.splice(s,0,v),p}return c.map(p=>{if(p.id===d){const v=[...p.children||[]],[f]=v.splice(r,1);return v.splice(s,0,f),{...p,children:v}}return p.children&&p.children.length>0?{...p,children:a(p.children,d)}:p})},o=a(l,n);return await this.save(o),o}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}gs=new WeakSet,wi=function(n,r,s){return n.map(l=>l.id===r?{...l,children:[...l.children||[],s]}:l.children&&l.children.length>0?{...l,children:R(this,gs,wi).call(this,l.children,r,s)}:l)},Sl=new WeakSet,cc=function(n,r,s){return n.map(l=>l.id===r?{...l,...s}:l.children&&l.children.length>0?{...l,children:R(this,Sl,cc).call(this,l.children,r,s)}:l)},vs=new WeakSet,ki=function(n,r){return n.filter(s=>s.id!==r).map(s=>s.children&&s.children.length>0?{...s,children:R(this,vs,ki).call(this,s.children,r)}:s)};const kv=[{id:"unassigned",name:"Unassigned",avatar:"",email:"",enabled:!0,isSystem:!0}],mp=["","","","","","","","","","","","","","","","","","","","","","","","","","",""];class jv extends fu{constructor(t){super("people:v2",t,kv)}async getPeople(){return this.getData()}async setPeople(t){await this.save(t)}getPerson(t){return this.getData().find(n=>n.id===t)||null}getEnabledPeople(){return this.getData().filter(t=>t.enabled)}getRegularPeople(){return this.getData().filter(t=>!t.isSystem)}getSystemPeople(){return this.getData().filter(t=>t.isSystem)}async addPerson(t){const n=this.getData(),r={id:this.generateId("person"),name:t.name||"New Person",avatar:t.avatar||"",email:t.email||"",enabled:!0,...t,id:t.id||this.generateId("person")};return await this.save([...n,r]),r.id}async updatePerson(t,n){const r=this.getData(),s=r.find(a=>a.id===t);if(s!=null&&s.isSystem&&(n.name!==void 0||n.id!==void 0)){console.warn("Cannot modify system entry name or ID");return}const l=r.map(a=>a.id===t?{...a,...n}:a);await this.save(l)}async deletePerson(t){const n=this.getData(),r=n.find(l=>l.id===t);if(r!=null&&r.isSystem){console.warn("Cannot delete system entry");return}const s=n.filter(l=>l.id!==t);await this.save(s)}async toggleEnabled(t){const n=this.getPerson(t);!n||n.isSystem||await this.updatePerson(t,{enabled:!n.enabled})}async reorderPeople(t,n){const r=[...this.getData()],[s]=r.splice(t,1);r.splice(n,0,s),await this.save(r)}subscribe(t){return this.on("data-changed",({data:n})=>t(n))}}const Sv=[{id:"frontend",name:"Frontend",description:"Frontend features and UI development",memberIds:["alice","bob"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["alice","bob"],overrides:[]},resources:[{id:"res-fe-1",label:"Frontend Wiki",url:"#",type:"wiki",visibility:"public"},{id:"res-fe-2",label:"UI Components Repo",url:"#",type:"repo",visibility:"public"},{id:"res-fe-3",label:"Analytics Dashboard",url:"#",type:"dashboard",visibility:"team-only"}],partnerTeamIds:["backend"],children:[]},{id:"backend",name:"Backend",description:"Backend services and API development",memberIds:["carol","dave"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["carol","dave"],overrides:[]},resources:[{id:"res-be-1",label:"API Spec",url:"#",type:"spec",visibility:"public"},{id:"res-be-2",label:"Services Repo",url:"#",type:"repo",visibility:"public"},{id:"res-be-3",label:"Cloud Budget",url:"#",type:"budget",visibility:"restricted"}],partnerTeamIds:["frontend"],children:[]}],gp={daily:1,weekly:7,biweekly:14};function vp(e,t=new Date){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return null;const n=gp[e.rotationPeriod]||7;if(e.overrides&&e.overrides.length>0)for(const d of e.overrides){const p=new Date(d.date);p.setHours(0,0,0,0);const v=new Date(p);v.setDate(v.getDate()+n);const f=new Date(t);if(f.setHours(0,0,0,0),f>=p&&f<v)return d.memberId}const r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date(t);s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=e.memberOrder.length,c=(a%o+o)%o;return e.memberOrder[c]}function Dv(e,t=8){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return[];const n=gp[e.rotationPeriod]||7,r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date;s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=[];for(let c=0;c<t;c++){const d=a+c,p=new Date(r);p.setDate(p.getDate()+d*n);const v=new Date(p);v.setDate(v.getDate()+n-1);let f=null;if(e.overrides)for(const m of e.overrides){const E=new Date(m.date);if(E.setHours(0,0,0,0),E>=p&&E<=v){f=m.memberId;break}}if(!f){const m=e.memberOrder.length,E=(d%m+m)%m;f=e.memberOrder[E]}o.push({startDate:p,endDate:v,memberId:f,isCurrent:c===0})}return o}var Dl,uc,Nl,dc,El,fc,Cl,hc,Zn,Fr;class Nv extends fu{constructor(n){super("feature-tree:v2",n,Sv);J(this,Dl);J(this,Nl);J(this,El);J(this,Cl);J(this,Zn)}async getTree(){return this.getData()}async setTree(n){await this.save(n)}findNode(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findNode(n,l.children);if(a)return a}}return null}flattenTree(){const n=[],r=(s,l=0)=>{for(const a of s)n.push({id:a.id,name:a.name,depth:l}),a.children&&a.children.length>0&&r(a.children,l+1)};return r(this.getData()),n}async addNode(n,r){const s={id:this.generateId("ft"),name:r.name||"New Feature",description:r.description||"",memberIds:r.memberIds||[],oncall:r.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:new Date().toISOString().slice(0,10),memberOrder:[],overrides:[]},resources:[],partnerTeamIds:[],children:[],...r,id:r.id||this.generateId("ft")},l=this.getData(),a=R(this,Dl,uc).call(this,n,s,l);return await this.save(a),s.id}async updateNode(n,r){const s=this.getData(),l=R(this,Nl,dc).call(this,n,r,s);await this.save(l)}async deleteNode(n){let r=this.getData();r=R(this,Cl,hc).call(this,r,n),r=R(this,El,fc).call(this,n,r),await this.save(r)}async addResource(n,r){const s=this.findNode(n);if(!s)return;const l={id:this.generateId("res"),label:r.label||"",url:r.url||"",type:r.type||"other",visibility:r.visibility||"public"},a=[...s.resources||[],l];return await this.updateNode(n,{resources:a}),l.id}async removeResource(n,r){const s=this.findNode(n);if(!s)return;const l=(s.resources||[]).filter(a=>a.id!==r);await this.updateNode(n,{resources:l})}async updateResource(n,r,s){const l=this.findNode(n);if(!l)return;const a=(l.resources||[]).map(o=>o.id===r?{...o,...s}:o);await this.updateNode(n,{resources:a})}async addPartnerTeam(n,r){const s=this.getData(),l=R(this,Zn,Fr).call(this,n,s),a=R(this,Zn,Fr).call(this,r,s);!l||!a||(l.partnerTeamIds||(l.partnerTeamIds=[]),a.partnerTeamIds||(a.partnerTeamIds=[]),l.partnerTeamIds.includes(r)||l.partnerTeamIds.push(r),a.partnerTeamIds.includes(n)||a.partnerTeamIds.push(n),await this.save(s))}async removePartnerTeam(n,r){const s=this.getData(),l=R(this,Zn,Fr).call(this,n,s),a=R(this,Zn,Fr).call(this,r,s);l&&l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(o=>o!==r)),a&&a.partnerTeamIds&&(a.partnerTeamIds=a.partnerTeamIds.filter(o=>o!==n)),await this.save(s)}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}Dl=new WeakSet,uc=function(n,r,s){return n===null?[...s,r]:s.map(l=>l.id===n?{...l,children:[...l.children||[],r]}:l.children&&l.children.length>0?{...l,children:R(this,Dl,uc).call(this,n,r,l.children)}:l)},Nl=new WeakSet,dc=function(n,r,s){return s.map(l=>l.id===n?{...l,...r}:l.children&&l.children.length>0?{...l,children:R(this,Nl,dc).call(this,n,r,l.children)}:l)},El=new WeakSet,fc=function(n,r){return r.filter(s=>s.id!==n).map(s=>s.children&&s.children.length>0?{...s,children:R(this,El,fc).call(this,n,s.children)}:s)},Cl=new WeakSet,hc=function(n,r){return n.map(s=>{const l={...s};return l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(a=>a!==r)),l.children&&l.children.length>0&&(l.children=R(this,Cl,hc).call(this,l.children,r)),l})},Zn=new WeakSet,Fr=function(n,r){for(const s of r){if(s.id===n)return s;if(s.children&&s.children.length>0){const l=R(this,Zn,Fr).call(this,n,s.children);if(l)return l}}return null};let ro=null,so=null,lo=null;function Fn(){return ro||(ro=new wv(Na())),ro}function ls(){return so||(so=new jv(Na())),so}function hn(){return lo||(lo=new Nv(Na())),lo}var dt,Tt,pt,Pt,Jn,Ft,qn,gc,ys,Tl,sa,yp,Pl,pc,un,$n,la,xp,ia,wp,$e,Ye,aa,kp;class Ev{constructor(t=[]){J(this,sa);J(this,Pl);J(this,un);J(this,la);J(this,ia);J(this,$e);J(this,aa);J(this,dt,null);J(this,Tt,[]);J(this,pt,new Set);J(this,Pt,new Set);J(this,Jn,[]);J(this,Ft,[]);J(this,qn,new Map);J(this,gc,new Map);J(this,ys,new Map);J(this,Tl,!1);t.forEach(n=>P(this,Pt).add(n)),ae(this,dt,Fn()),R(this,sa,yp).call(this)}isInitialized(){return P(this,Tl)}setFilterFunction(t){ae(this,Jn,t?[t]:[]),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"filter-changed",{visibleCount:P(this,Ft).length})}async appendItem(t,n){R(this,aa,kp).call(this);try{const r=await P(this,dt).addTodo(n.title,t);return(n.dueDate!==void 0||n.description||n.priority)&&await P(this,dt).updateTodo(r.id,{description:n.description,priority:n.priority,...n}),r.id}catch(r){throw R(this,$e,Ye).call(this,"error",{operation:"appendItem",error:r}),r}}async insertAt(t,n,r){return this.appendItem(t,r)}async insertAfter(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async insertBefore(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async deleteItem(t){try{return await P(this,dt).deleteTodo(t),P(this,pt).has(t)&&(P(this,pt).delete(t),R(this,$e,Ye).call(this,"selection-changed",{selectedIds:Array.from(P(this,pt))})),!0}catch(n){throw R(this,$e,Ye).call(this,"error",{operation:"deleteItem",error:n}),n}}async updateItem(t,n){try{return await P(this,dt).updateTodo(t,n),!0}catch(r){throw R(this,$e,Ye).call(this,"error",{operation:"updateItem",error:r}),r}}async toggleComplete(t,n=!0){var r;try{const s=this.getItem(t);if(!s)return!1;if(await P(this,dt).toggleTodo(t),n&&((r=s.children)==null?void 0:r.length)>0){const l=a=>{a.forEach(o=>{P(this,dt).toggleTodo(o.id),o.children&&l(o.children)})};l(s.children)}return!0}catch(s){throw R(this,$e,Ye).call(this,"error",{operation:"toggleComplete",error:s}),s}}async makeChild(t,n){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);if(!this.getItem(n))throw new Error(`Parent ${n} not found`);if(R(this,ia,wp).call(this,n,t))throw new Error("Cannot make item a child of its own descendant");return await P(this,dt).moveTodo(t,n),this.expand(n),!0}catch(r){throw R(this,$e,Ye).call(this,"error",{operation:"makeChild",error:r}),r}}async indent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t),s=r?r.children:P(this,Tt),l=s.findIndex(o=>o.id===t);if(l<=0)return!1;const a=s[l-1];return await this.makeChild(t,a.id)}catch(n){throw R(this,$e,Ye).call(this,"error",{operation:"indent",error:n}),n}}async outdent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t);if(!r)return!1;const s=this.getParent(r.id),l=(s==null?void 0:s.id)||null;return await P(this,dt).moveTodo(t,l),!0}catch(n){throw R(this,$e,Ye).call(this,"error",{operation:"outdent",error:n}),n}}expand(t){P(this,Pt).has(t)||(P(this,Pt).add(t),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"expansion-changed",{expandedIds:Array.from(P(this,Pt))}))}collapse(t){P(this,Pt).has(t)&&(P(this,Pt).delete(t),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"expansion-changed",{expandedIds:Array.from(P(this,Pt))}))}toggleExpand(t){P(this,Pt).has(t)?this.collapse(t):this.expand(t)}select(t,n=!0){n&&P(this,pt).clear(),P(this,pt).add(t),R(this,$e,Ye).call(this,"selection-changed",{selectedIds:Array.from(P(this,pt))})}deselect(t){P(this,pt).delete(t),R(this,$e,Ye).call(this,"selection-changed",{selectedIds:Array.from(P(this,pt))})}clearSelection(){P(this,pt).clear(),R(this,$e,Ye).call(this,"selection-changed",{selectedIds:[]})}multiSelect(t){t.forEach(n=>P(this,pt).add(n)),R(this,$e,Ye).call(this,"selection-changed",{selectedIds:Array.from(P(this,pt))})}getItem(t){return P(this,ys).get(t)}getParent(t){const n=r=>{var s;for(const l of r){if((s=l.children)!=null&&s.some(a=>a.id===t))return l;if(l.children){const a=n(l.children);if(a)return a}}return null};return n(P(this,Tt))}getChildren(t){const n=this.getItem(t);return(n==null?void 0:n.children)||[]}getSiblings(t){const n=this.getParent(t);return(n?n.children:P(this,Tt)).filter(s=>s.id!==t)}getAllItems(){return P(this,Tt)}getSelectedIds(){return Array.from(P(this,pt))}getExpandedIds(){return Array.from(P(this,Pt))}getVisibleItems(){return P(this,Ft)}getItemsInRange(t,n){return P(this,Ft).slice(t,n)}getItemPosition(t){return P(this,Ft).findIndex(n=>n.id===t)}getVisibleCount(){return P(this,Ft).length}addFilter(t){P(this,Jn).push(t),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"filter-changed",{visibleCount:P(this,Ft).length})}clearFilters(){ae(this,Jn,[]),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"filter-changed",{visibleCount:P(this,Ft).length})}on(t,n){P(this,qn).has(t)||P(this,qn).set(t,new Set),P(this,qn).get(t).add(n)}off(t,n){var r;(r=P(this,qn).get(t))==null||r.delete(n)}}dt=new WeakMap,Tt=new WeakMap,pt=new WeakMap,Pt=new WeakMap,Jn=new WeakMap,Ft=new WeakMap,qn=new WeakMap,gc=new WeakMap,ys=new WeakMap,Tl=new WeakMap,sa=new WeakSet,yp=async function(){P(this,dt).isInitialized()||await P(this,dt).initialize(),ae(this,Tt,await P(this,dt).getTodos()),R(this,Pl,pc).call(this),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"items-changed",{items:P(this,Tt)}),P(this,dt).on("data-changed",({data:t})=>{ae(this,Tt,t),R(this,Pl,pc).call(this),R(this,un,$n).call(this),R(this,$e,Ye).call(this,"items-changed",{items:P(this,Tt)})}),ae(this,Tl,!0)},Pl=new WeakSet,pc=function(){P(this,ys).clear();const t=n=>{n.forEach(r=>{P(this,ys).set(r.id,r),r.children&&t(r.children)})};t(P(this,Tt))},un=new WeakSet,$n=function(){ae(this,Ft,[]);const t=(n,r=0)=>{n.forEach(s=>{var l;R(this,la,xp).call(this,s)&&(P(this,Ft).push({id:s.id,depth:r,item:s}),P(this,Pt).has(s.id)&&((l=s.children)==null?void 0:l.length)>0&&t(s.children,r+1))})};t(P(this,Tt))},la=new WeakSet,xp=function(t){return P(this,Jn).length===0?!0:P(this,Jn).every(n=>n(t))},ia=new WeakSet,wp=function(t,n){const r=this.getItem(n);if(!r||!r.children)return!1;const s=l=>{for(const a of l)if(a.id===t||a.children&&s(a.children))return!0;return!1};return s(r.children)},$e=new WeakSet,Ye=function(t,n){const r=P(this,qn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},aa=new WeakSet,kp=function(){return`op-${Date.now()}-${Math.random().toString(36).slice(2,9)}`};let io=null;function Cv(e){return io||(io=new Ev(e||["1","2"])),io}function jp(e){return!!(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0)}function Tv(e){const t=e.getDay();return t>=1&&t<=5}function Pv(e,t,n,r,s=!1){const l=[],a=new Date(t);a.setHours(0,0,0,0);const o=new Date(n);if(o.setHours(23,59,59,999),e==="daily"){const c=new Date(a);for(;c<=o;)(!s||Tv(c))&&l.push(new Date(c)),c.setDate(c.getDate()+1)}else if(e==="weekly"||e==="biweekly"){const c=e==="biweekly"?14:7,d=r?r.getDay():1,p=new Date(a);for(;p.getDay()!==d;)p.setDate(p.getDate()+1);for(;p<=o;)l.push(new Date(p)),p.setDate(p.getDate()+c)}else if(e==="monthly"){const c=r?r.getDate():1,d=new Date(a.getFullYear(),a.getMonth(),c);for(d<a&&d.setMonth(d.getMonth()+1);d<=o;)l.push(new Date(d)),d.setMonth(d.getMonth()+1)}return l}function Ed(e,t,n={}){var s;const r=((s=e.instances)==null?void 0:s[t])||{};return{...e,id:`${e.id}:${t}`,masterId:e.id,isInstance:!0,instanceKey:t,completed:r.completed||!1,notes:r.notes||"",...n,children:[]}}function bv(e,t,n,r,s={}){const{showAllInstances:l=!1}=s;if(e.type==="chore"&&e.recurrence){const a=Pv(e.recurrence,t,n,e.dueDate,e.workdaysOnly||!1);return a.length===0?[]:(l?a:[Iv(a)]).map(c=>{const d=c.toISOString().slice(0,10);return Ed(e,d,{instanceDate:c,recurrence:void 0})})}if(e.type==="assignment"&&e.assignees&&e.assignees.length>0){if(e.dueDate){const a=new Date(e.dueDate);if(a<t||a>n)return[]}return e.assignees.map(a=>{const o=r==null?void 0:r.find(c=>c.id===a);return Ed(e,a,{instanceAssignee:a,instanceAssigneeName:(o==null?void 0:o.name)||a,instanceAssigneeAvatar:(o==null?void 0:o.avatar)||"",assignee:a,assignees:void 0})})}return[]}function Iv(e){if(e.length===0)return null;const t=new Date;t.setHours(0,0,0,0);const n=t.toISOString().slice(0,10),r=e.find(a=>a.toISOString().slice(0,10)===n);if(r)return r;const s=e.filter(a=>a>=t).sort((a,o)=>a-o);return s.length>0?s[0]:e.filter(a=>a<t).sort((a,o)=>o-a)[0]}function Ov(e){if(e.type==="chore"&&e.recurrence){const t=Object.keys(e.instances||{}).length;if(t>0)return t;switch(e.recurrence){case"daily":return"~30/mo";case"weekly":return"~4/mo";case"biweekly":return"~2/mo";case"monthly":return"~1/mo";default:return"?"}}return e.type==="assignment"&&e.assignees?e.assignees.length:0}function _v(e){var l;const t=e.instances||{},n=Object.keys(t),r=e.type==="assignment"?((l=e.assignees)==null?void 0:l.length)||0:n.length,s=n.filter(a=>{var o;return(o=t[a])==null?void 0:o.completed}).length;return{total:r,completed:s}}function Mv(e,t,n,r){return{...e||{},[t]:{...(e==null?void 0:e[t])||{},[n]:r}}}const Lv={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""};function Sp({todo:e,depth:t=0,isExpanded:n,isSelected:r,expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:d,onDoubleClick:p,onContextMenu:v,onDragStart:f,onDragOver:m,onDrop:E,onDragEnd:j,dragOverId:S,dragOverPosition:h,draggedId:u,onNavigateToMaster:g,teamMembers:w}){const N=e.children&&e.children.length>0,T=e.isInstance,b=!T&&jp(e),O=$=>{$.stopPropagation(),f&&f(e.id,$)},M=$=>{$.preventDefault(),$.stopPropagation(),m&&m(e.id,$)},K=$=>{$.preventDefault(),$.stopPropagation(),E&&E(e.id,$)},k=$=>{$.stopPropagation(),j&&j($)},Y=S===e.id&&h==="middle",me=u===e.id,le=!e.completed&&e.dueDate&&new Date(e.dueDate)<new Date(new Date().setHours(0,0,0,0)),Ke=D.useRef(0),Fe=()=>{const $=Date.now();$-Ke.current<350?(Ke.current=0,p&&p(e.id)):(Ke.current=$,d(e.id))};let We=null;if(T)if(e.instanceDate){const $=new Date(e.instanceDate),G=$.toLocaleDateString("en-US",{weekday:"short"}),ce=`${$.getMonth()+1}/${$.getDate()}`;We=`${G} ${ce}`}else e.instanceAssignee&&(We=`${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`);let Q=null;if(b){const $=Ov(e),G=_v(e);Q=i.jsxs("span",{className:"master-instance-count",title:G.total>0?`${G.completed}/${G.total} completed`:"",children:[" ",typeof $=="number"?`${$} instances`:$,G.total>0&&` (${G.completed})`]})}return i.jsxs("div",{style:{marginLeft:`${t*24}px`},children:[i.jsxs("div",{"data-item-id":e.id,className:`todo-item ${r?a.has(e.id)?"multi-selected":"selected":""} ${e.completed?"completed":""} ${Y?"drop-indicator-middle":""} ${me?"dragging":""} ${T?`instance instance-${e.type}`:""} ${b?"master":""} ${le?"past-due":""}`,onClick:Fe,onContextMenu:$=>{$.preventDefault(),v&&v(e.id,$.clientX,$.clientY)},draggable:!T,onDragStart:O,onDragOver:M,onDrop:K,onDragEnd:k,children:[N?i.jsx("button",{className:"expand-btn",onClick:$=>{$.stopPropagation(),o(e.id)},"aria-label":"toggle-expand",children:n?i.jsx(Ll,{size:16}):i.jsx(Da,{size:16})}):i.jsx("div",{className:"expand-spacer"}),!T&&i.jsxs("span",{className:"task-number",children:["#",e.id]}),i.jsx("button",{className:"checkbox",onClick:$=>{$.stopPropagation(),c(e.id)},"aria-label":"toggle-complete",children:e.completed?i.jsx(ip,{size:18}):i.jsx(lp,{size:18})}),i.jsx("span",{className:"backend-icon",children:Lv[e.backend]}),e.type&&e.type!=="task"&&i.jsxs("span",{className:`type-pill type-${e.type}`,children:[e.type==="bug"&&"",e.type==="issue"&&"",e.type==="feature"&&"",e.type==="assignment"&&"",e.type==="chore"&&""," ",e.type]}),i.jsx("span",{className:"todo-title",children:e.title}),We&&i.jsx("span",{className:"instance-context",children:We}),T&&g&&i.jsx("button",{className:"master-link",onClick:$=>{$.stopPropagation(),g(e.masterId)},title:`Open master #${e.masterId}`,children:""}),Q,!T&&e.assignees&&e.assignees.length>0&&i.jsxs("span",{className:"assignee-count",title:e.assignees.join(", "),children:[" ",e.assignees.length]}),!T&&e.recurrence&&i.jsxs("span",{className:"recurrence-badge",children:[" ",e.recurrence]}),e.dependencies&&e.dependencies.length>0&&i.jsxs("span",{className:"dependency-indicator",title:`Depends on: ${e.dependencies.map($=>"#"+$).join(", ")}`,children:[" ",e.dependencies.length]}),e.tags&&e.tags.length>0&&i.jsx("div",{className:"tags",children:e.tags.map($=>i.jsx("span",{className:"tag",children:$},$))}),e.dueDate&&!T&&i.jsxs("span",{className:"due-date",children:[i.jsx(ic,{size:12}),new Date(e.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),N&&n&&i.jsx("div",{className:"children",children:e.children.map($=>i.jsx(Sp,{todo:$,depth:t+1,isExpanded:s.has($.id),isSelected:$.id===l||a.has($.id),expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:d,onDoubleClick:p,onContextMenu:v,onDragStart:f,onDragOver:m,onDrop:E,onDragEnd:j,dragOverId:S,dragOverPosition:h,draggedId:u,onNavigateToMaster:g,teamMembers:w},$.id))})]})}const Rv={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""},ao=[{id:"unassigned",name:"Unassigned",avatar:""},{id:"alice",name:"Alice Chen",avatar:""},{id:"bob",name:"Bob Smith",avatar:""},{id:"carol",name:"Carol White",avatar:""},{id:"dave",name:"Dave Brown",avatar:""}],Av=[{id:"task",label:"Task"},{id:"bug",label:"Bug"},{id:"issue",label:"Issue"},{id:"feature",label:"Feature"},{id:"assignment",label:"Assignment"},{id:"chore",label:"Chore"},{id:"buffer",label:"Buffer Time"}],zv=[{id:"daily",label:"Daily"},{id:"weekly",label:"Weekly"},{id:"biweekly",label:"Biweekly"},{id:"monthly",label:"Monthly"}],Fv=["P0","P1","P2","P3","P4"],$v=["Critical","High","Medium","Low"],Bv=["untriaged","backlog","triaged","in_progress","fixed","closed"],Wv=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"api",name:"API"},{id:"database",name:"Database"},{id:"auth",name:"Authentication"},{id:"infra",name:"Infrastructure"},{id:"other",name:"Other"}];function Hv({todo:e,onUpdate:t,onClose:n,style:r,teamMembers:s,featureOptions:l,onNavigateToMaster:a}){if(!e)return null;const o=e.isInstance,c=!o&&(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0),d=k=>{const Y=k.target.value?new Date(k.target.value):null;t(e.id,{dueDate:Y})},p=k=>{t(e.id,{description:k.target.value})},v=k=>{if(k.key==="Enter"&&k.target.value.trim()){const Y=[...e.tags||[],k.target.value.trim()];t(e.id,{tags:Y}),k.target.value=""}},f=k=>{const Y=(e.tags||[]).filter(me=>me!==k);t(e.id,{tags:Y})},m=k=>{if(k.key==="Enter"&&k.target.value.trim()){const Y=k.target.value.trim().replace(/^#/,""),me=[...e.dependencies||[],Y];t(e.id,{dependencies:me}),k.target.value=""}},E=k=>{const Y=(e.dependencies||[]).filter(me=>me!==k);t(e.id,{dependencies:Y})},j=k=>{const Y=parseFloat(k.target.value);t(e.id,{estimate:isNaN(Y)?null:Y})},S=k=>{t(e.id,{assignee:k.target.value})},h=k=>{t(e.id,{type:k.target.value})},u=k=>{t(e.id,{priority:k.target.value})},g=k=>{t(e.id,{severity:k.target.value})},w=k=>{t(e.id,{triageStatus:k.target.value})},N=k=>{t(e.id,{featureArea:k.target.value})},T=e.type==="bug"||e.type==="issue",b=T?[{key:"environment",label:"Environment / Setup"},{key:"reproSteps",label:"Steps to Reproduce"},{key:"expectedBehavior",label:"Expected Behavior"},{key:"actualBehavior",label:"Actual Behavior"}]:[],O=b.filter(k=>e[k.key]&&e[k.key].trim()).length,M=k=>Y=>{t(e.id,{[k]:Y.target.value})},K=k=>{t(e.id,{debugInfo:k.target.value})};return i.jsxs("aside",{className:"detail-panel",style:r,children:[i.jsxs("div",{className:"detail-header",children:[i.jsx("h2",{children:e.title}),i.jsx("button",{className:"close-btn",onClick:n,children:i.jsx(mr,{size:16})})]}),o&&i.jsxs("div",{className:"instance-banner",children:[i.jsxs("span",{className:"instance-banner-label",children:["Instance of #",e.masterId,e.instanceDate&&`  ${new Date(e.instanceDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}`,e.instanceAssignee&&`  ${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`]}),a&&i.jsx("button",{className:"instance-banner-link",onClick:()=>a(e.masterId),children:" Open Master"})]}),i.jsx("div",{className:"detail-backend",children:i.jsxs("span",{className:"backend-badge",children:[Rv[e.backend]," ",e.backend.replace("_"," ")]})}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(qa,{size:16})," Type"]}),i.jsx("select",{className:"detail-input",value:e.type||"task",onChange:h,children:Av.map(k=>i.jsx("option",{value:k.id,children:k.label},k.id))})]}),T&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Priority"}),i.jsxs("select",{className:"detail-input",value:e.priority||"",onChange:u,children:[i.jsx("option",{value:"",children:"No Priority"}),Fv.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Severity"}),i.jsxs("select",{className:"detail-input",value:e.severity||"",onChange:g,children:[i.jsx("option",{value:"",children:"No Severity"}),$v.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Triage Status"}),i.jsx("select",{className:"detail-input",value:e.triageStatus||"untriaged",onChange:w,children:Bv.map(k=>i.jsx("option",{value:k,children:k.replace("_"," ").replace(/\b\w/g,Y=>Y.toUpperCase())},k))})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature Area"}),i.jsxs("select",{className:"detail-input",value:e.featureArea||"",onChange:N,children:[i.jsx("option",{value:"",children:"No Feature Area"}),Wv.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"bug-completeness",children:[i.jsx("div",{className:"bug-completeness-bar",children:i.jsx("div",{className:"bug-completeness-fill",style:{width:`${O/4*100}%`}})}),i.jsxs("span",{className:"bug-completeness-label",children:[O,"/4 details filled"]})]}),b.map(k=>i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{className:`bug-field-header ${e[k.key]&&e[k.key].trim()?"filled":"empty"}`,children:[e[k.key]&&e[k.key].trim()?"":""," ",k.label]}),i.jsx("textarea",{className:"detail-textarea bug-field-textarea",placeholder:k.key==="environment"?"OS, browser, device, app version, relevant config...":k.key==="reproSteps"?`1. Go to...
2. Click on...
3. Observe...`:k.key==="expectedBehavior"?"What should have happened...":"What actually happened, error messages, stack traces...",rows:k.key==="reproSteps"?5:3,value:e[k.key]||"",onChange:M(k.key)})]},k.key)),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Attachments"}),i.jsx("div",{className:"bug-attachment-zone",children:i.jsxs("div",{className:"bug-attachment-placeholder",children:[i.jsx("span",{className:"bug-attachment-icon",children:""}),i.jsx("span",{className:"bug-attachment-text",children:"Screenshots, videos, crash dumps"}),i.jsx("span",{className:"bug-attachment-hint",children:"Drag & drop or click to attach (not yet implemented)"})]})})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Debug Info"}),i.jsx("textarea",{className:"detail-textarea bug-debug-textarea",placeholder:"Paste logs, telemetry data, stack traces, device info...",rows:6,value:e.debugInfo||"",onChange:K})]})]}),e.type==="assignment"&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(ac,{size:16})," Assignees"]}),i.jsx("div",{className:"assignee-checklist",children:(s||ao).filter(k=>k.id!=="unassigned").map(k=>{const Y=e.assignees||[],me=Y.includes(k.id);return i.jsxs("label",{className:"assignee-check-row",children:[i.jsx("input",{type:"checkbox",checked:me,onChange:()=>{const le=me?Y.filter(Ke=>Ke!==k.id):[...Y,k.id];t(e.id,{assignees:le})}}),i.jsx("span",{className:"assignee-check-avatar",children:k.avatar}),i.jsx("span",{className:"assignee-check-name",children:k.name})]},k.id)})})]}),e.type==="chore"&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Recurrence"}),i.jsxs("select",{className:"detail-input",value:e.recurrence||"",onChange:k=>t(e.id,{recurrence:k.target.value}),children:[i.jsx("option",{value:"",children:"No Recurrence"}),zv.map(k=>i.jsx("option",{value:k.id,children:k.label},k.id))]}),e.recurrence==="daily"&&i.jsxs("label",{className:"workdays-only-toggle",children:[i.jsx("input",{type:"checkbox",checked:e.workdaysOnly||!1,onChange:k=>t(e.id,{workdaysOnly:k.target.checked})}),i.jsx("span",{children:"Workdays only (Mon-Fri)"})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(ic,{size:16})," Due Date"]}),i.jsx("input",{type:"datetime-local",className:"detail-input",value:e.dueDate&&e.dueDate instanceof Date?e.dueDate.toISOString().slice(0,16):"",onChange:d})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(ic,{size:16})," Estimate (days)"]}),i.jsx("input",{type:"number",className:"detail-input",placeholder:"Enter estimate in days...",min:"0.5",step:"0.5",value:e.estimate||"",onChange:j})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(ac,{size:16})," Assigned To"]}),i.jsxs("select",{className:"detail-input",value:e.assignee||"unassigned",onChange:S,children:[i.jsx("option",{value:"unassigned",children:" Unassigned"}),(s||ao).filter(k=>k.id!=="unassigned").map(k=>i.jsxs("option",{value:k.id,children:[k.avatar," ",k.name]},k.id))]})]}),l&&l.length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature"}),i.jsxs("select",{className:"detail-input",value:e.featurePath||"",onChange:k=>t(e.id,{featurePath:k.target.value||null}),children:[i.jsx("option",{value:"",children:"No Feature"}),l.map(k=>i.jsxs("option",{value:k.id,children:["".repeat(k.depth),k.name]},k.id))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(qa,{size:16})," Tags"]}),i.jsxs("div",{className:"tag-input",children:[(e.tags||[]).map(k=>i.jsxs("span",{className:"tag editable",children:[k,i.jsx("button",{onClick:()=>f(k),children:""})]},k)),i.jsx("input",{type:"text",placeholder:"Add tag...",className:"detail-input-inline",onKeyDown:v})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(qa,{size:16})," Dependencies"]}),i.jsxs("div",{className:"tag-input",children:[(e.dependencies||[]).map(k=>i.jsxs("span",{className:"tag editable dependency-tag",children:["#",k,i.jsx("button",{onClick:()=>E(k),children:""})]},k)),i.jsx("input",{type:"text",placeholder:"Add dependency (e.g., #123)...",className:"detail-input-inline",onKeyDown:m})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Dd,{size:16})," Description"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add detailed description...",rows:6,value:e.description||"",onChange:p})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(av,{size:16})," Attachments"]}),i.jsx("div",{className:"attachments",children:i.jsx("button",{className:"attachment-btn",disabled:!0,children:"Add File (not implemented)"})})]}),o&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Dd,{size:16})," Instance Notes"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add notes for this instance...",rows:4,value:e.notes||"",onChange:k=>t(e.id,{notes:k.target.value})})]}),c&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Instances"}),i.jsxs("div",{className:"instance-list",children:[e.type==="assignment"&&(e.assignees||[]).map(k=>{var le;const Y=(s||ao).find(Ke=>Ke.id===k),me=((le=e.instances)==null?void 0:le[k])||{};return i.jsxs("div",{className:`instance-list-row ${me.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:me.completed?"":""}),i.jsx("span",{className:"instance-list-avatar",children:(Y==null?void 0:Y.avatar)||""}),i.jsx("span",{className:"instance-list-name",children:(Y==null?void 0:Y.name)||k}),me.notes&&i.jsx("span",{className:"instance-list-notes",children:me.notes})]},k)}),e.type==="chore"&&Object.entries(e.instances||{}).sort(([k],[Y])=>k.localeCompare(Y)).map(([k,Y])=>{const le=new Date(k).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return i.jsxs("div",{className:`instance-list-row ${Y.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:Y.completed?"":""}),i.jsx("span",{className:"instance-list-name",children:le}),Y.notes&&i.jsx("span",{className:"instance-list-notes",children:Y.notes})]},k)}),(!e.instances||Object.keys(e.instances).length===0)&&i.jsx("div",{className:"instance-list-empty",children:"No instances yet. Instances appear in day/sprint views."})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(iv,{size:16})," Comments"]}),i.jsx("div",{className:"comments",children:i.jsx("textarea",{className:"comment-input",placeholder:"Add a comment...",rows:3,disabled:!0})})]})]})}function Uv({todos:e}){const n=(()=>{const s=new Date,l=[],a=j=>{j.forEach(S=>{S.completed||l.push(S),S.children&&a(S.children)})};if(a(e),l.length===0)return{percentage:0,status:"safe",message:"All clear!"};const o=l.filter(j=>j.dueDate).sort((j,S)=>new Date(j.dueDate)-new Date(S.dueDate));if(o.length===0)return{percentage:0,status:"safe",message:"No upcoming deadlines"};const c=o[0],p=(new Date(c.dueDate)-s)/(1e3*60*60),v=o.length,f=Math.min(100,v/p*100);let m="safe",E="On track";return f>80?(m="critical",E="High pressure! Focus time needed"):f>50&&(m="warning",E="Getting busy - stay focused"),{percentage:Math.max(0,f),status:m,message:E}})(),r={safe:"#3fb950",warning:"#fb8500",critical:"#f85149"};return i.jsxs("div",{className:"stress-meter",children:[i.jsxs("div",{className:"stress-header",children:[i.jsx(sv,{size:14}),i.jsx("span",{children:"Stress Meter"})]}),i.jsx("div",{className:"stress-bar-bg",children:i.jsx("div",{className:`stress-bar-fill stress-${n.status}`,style:{width:`${n.percentage}%`,backgroundColor:r[n.status]}})}),i.jsx("div",{className:"stress-message",children:n.message})]})}const Vv=[{id:"day",label:"Today",emoji:""},{id:"week",label:"Week",emoji:""},{id:"sprint",label:"Sprint",emoji:""},{id:"half",label:"Half",emoji:""},{id:"year",label:"Year",emoji:""},{id:"global",label:"Global",emoji:""}];function Yv({activeRange:e,onRangeChange:t,onDropToRange:n,periodOffset:r,onPeriodChange:s}){const[l,a]=D.useState(null),o=(E,j)=>{E.preventDefault(),a(j)},c=()=>{a(null)},d=(E,j)=>{E.preventDefault(),a(null),n&&n(j)},p=()=>{s&&s(r-1)},v=()=>{s&&s(r+1)},f=()=>{s&&s(0)},m=()=>{if(r===0)return e==="day"?"Today":`Current ${e}`;const E=r>0?"Next":"Previous",j=Math.abs(r);return j===1?e==="day"?r>0?"Tomorrow":"Yesterday":`${E} ${e}`:`${j} ${e}s ${r>0?"ahead":"ago"}`};return i.jsxs("div",{className:"time-range-tabs",children:[i.jsxs("div",{className:"time-range-navigation",children:[i.jsx("button",{className:"nav-button",onClick:p,title:"Previous period",children:""}),i.jsx("button",{className:"nav-today",onClick:f,title:"Go to current period",disabled:r===0,children:m()}),i.jsx("button",{className:"nav-button",onClick:v,title:"Next period",children:""})]}),Vv.map(E=>i.jsxs("button",{className:`time-tab ${e===E.id?"active":""} ${l===E.id?"drag-over":""}`,onClick:()=>t(E.id),onDragOver:j=>o(j,E.id),onDragLeave:c,onDrop:j=>d(j,E.id),children:[i.jsx("span",{className:"tab-emoji",children:E.emoji}),i.jsx("span",{className:"tab-label",children:E.label})]},E.id))]})}const Qv=[{id:"local",name:"Local Storage",icon:"",enabled:!0},{id:"our_backend",name:"Cloud Sync",icon:"",enabled:!0},{id:"github",name:"GitHub Issues",icon:"",enabled:!1},{id:"google_drive",name:"Google Drive",icon:"",enabled:!1},{id:"azure_devops",name:"Azure DevOps",icon:"",enabled:!1},{id:"onenote",name:"OneNote",icon:"",enabled:!1}];function Kv({showCompleted:e,onToggleCompleted:t,viewMode:n,teamMembers:r,onUpdateTeamMembers:s,onOpenTimeBlockManager:l,ghostItemsInline:a,onToggleGhostItemsInline:o,todos:c,featureTree:d,onImportData:p}){const[v,f]=D.useState(!1),[m,E]=D.useState(Qv),[j,S]=D.useState(r||[]),h=D.useRef(null),u=O=>{E(M=>M.map(K=>K.id===O?{...K,enabled:!K.enabled}:K))},g=O=>{const M=j.map(K=>K.id===O?{...K,enabled:!K.enabled}:K);S(M),s&&s(M)},w=(O,M)=>{const K=[...j],[k]=K.splice(O,1);K.splice(M,0,k),S(K),s&&s(K)},N=()=>{const O={version:"1.0",exportedAt:new Date().toISOString(),todos:c||[],people:r||[],featureTree:d||[]},M=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),K=URL.createObjectURL(M),k=document.createElement("a");k.href=K,k.download=`uqueue-export-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(K)},T=()=>{var O;(O=h.current)==null||O.click()},b=async O=>{var K;const M=(K=O.target.files)==null?void 0:K[0];if(M){try{const k=await M.text(),Y=JSON.parse(k);if(!Y.version||!Y.todos){alert("Invalid export file format");return}p&&(p(Y),f(!1))}catch(k){alert("Failed to parse import file: "+k.message)}O.target.value=""}};return v?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"settings-overlay",onClick:()=>f(!1)}),i.jsxs("div",{className:"settings-modal",children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h2",{children:"Settings"}),i.jsx("button",{className:"close-btn",onClick:()=>f(!1),children:i.jsx(mr,{size:18})})]}),i.jsxs("div",{className:"settings-content",children:[n==="team"&&j&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Team Members"}),i.jsx("p",{className:"settings-description",children:"Manage team members and their display order"}),i.jsx("div",{className:"backend-list",children:j.map((O,M)=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:O.avatar}),i.jsx("span",{className:"backend-item-name",children:O.name})]}),i.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[i.jsx("button",{className:"reorder-btn",onClick:()=>M>0&&w(M,M-1),disabled:M===0,title:"Move up",children:""}),i.jsx("button",{className:"reorder-btn",onClick:()=>M<j.length-1&&w(M,M+1),disabled:M===j.length-1,title:"Move down",children:""}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:O.enabled!==!1,onChange:()=>g(O.id)}),i.jsx("span",{className:"toggle-slider"})]})]})]},O.id))}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(bn,{size:16}),"Add Team Member (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Connected Services"}),i.jsx("p",{className:"settings-description",children:"Manage which services can sync your tasks"}),i.jsx("div",{className:"backend-list",children:m.map(O=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:O.icon}),i.jsx("span",{className:"backend-item-name",children:O.name})]}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:O.enabled,onChange:()=>u(O.id)}),i.jsx("span",{className:"toggle-slider"})]})]},O.id))}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(bn,{size:16}),"Add Custom Service (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Time Management"}),i.jsx("p",{className:"settings-description",children:"Create recurring time blocks to organize your day"}),i.jsx("button",{className:"add-service-btn",onClick:()=>{f(!1),l&&l()},children:" Manage Time Blocks"})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Data Management"}),i.jsx("p",{className:"settings-description",children:"Export or import all your data (todos, people, feature tree)"}),i.jsxs("div",{className:"data-management-buttons",children:[i.jsx("button",{className:"add-service-btn",onClick:N,children:" Export Data"}),i.jsx("button",{className:"add-service-btn",onClick:T,children:" Import Data"}),i.jsx("input",{ref:h,type:"file",accept:".json",onChange:b,style:{display:"none"}})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Preferences"}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:e,onChange:O=>t(O.target.checked)}),"Show completed tasks"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Show stress meter"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Auto-expand parent items"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox"}),"Enable notifications"]})}),n==="personal"&&i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:a||!1,onChange:O=>o&&o(O.target.checked)}),"Show ghost entries inline (below tasks)"]})})]})]}),i.jsx("div",{className:"settings-footer",children:i.jsx("button",{className:"settings-close-btn",onClick:()=>f(!1),children:"Close"})})]})]}):i.jsx("button",{className:"settings-button",onClick:()=>f(!0),title:"Settings",children:i.jsx(ov,{size:18})})}const Gv=[{id:"day",label:"Day",emoji:"",options:[{label:"Today",offset:0},{label:"Tomorrow",offset:1}]},{id:"week",label:"Week",emoji:"",options:[{label:"This Week",offset:0},{label:"Next Week",offset:1}]},{id:"sprint",label:"Sprint",emoji:"",options:[{label:"This Sprint",offset:0},{label:"Next Sprint",offset:1}]},{id:"half",label:"Half",emoji:"",options:[{label:"This Half",offset:0},{label:"Next Half",offset:1}]},{id:"year",label:"Year",emoji:"",options:[{label:"This Year",offset:0},{label:"Next Year",offset:1}]}];function Xv({x:e,y:t,todo:n,onClose:r,onMoveToDate:s,getDueDateForRange:l}){const a=D.useRef(null),[o,c]=D.useState(null);if(D.useEffect(()=>{const f=E=>{a.current&&!a.current.contains(E.target)&&r()},m=E=>{E.key==="Escape"&&r()};return document.addEventListener("mousedown",f),document.addEventListener("keydown",m),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",m)}},[r]),!n)return null;const d=(f,m)=>{const E=l(f,m);s(n.id,E),r()},p=()=>{s(n.id,null),r()},v=f=>{c(m=>m===f?null:f)};return i.jsxs("div",{ref:a,className:"context-menu",style:{left:e,top:t},children:[i.jsx("div",{className:"context-menu-header",children:"Move to..."}),i.jsxs("div",{className:"context-menu-items",children:[Gv.map(f=>i.jsxs("div",{className:"context-menu-submenu-trigger",onMouseEnter:()=>c(f.id),onMouseLeave:()=>c(null),children:[i.jsxs("button",{className:`context-menu-item ${o===f.id?"active":""}`,onClick:()=>v(f.id),children:[i.jsx("span",{className:"context-menu-icon",children:f.emoji}),i.jsx("span",{className:"context-menu-label",children:f.label}),i.jsx("span",{className:"context-menu-arrow",children:""})]}),o===f.id&&i.jsx("div",{className:"context-submenu",children:f.options.map(m=>i.jsx("button",{className:"context-menu-item",onClick:()=>d(f.id,m.offset),children:i.jsx("span",{className:"context-menu-label",children:m.label})},m.label))})]},f.id)),i.jsx("div",{className:"context-menu-divider"}),i.jsxs("button",{className:"context-menu-item",onClick:p,children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Backlog"})]})]})]})}const oo=[{id:"personal",label:"Personal",icon:""},{id:"team",label:"Team",icon:""},{id:"timeline",label:"Timeline",icon:""},{id:"bugs",label:"Bugs",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"features",label:"Features",icon:""},{id:"people",label:"People",icon:""}];function Zv({activeMode:e,onModeChange:t}){const[n,r]=D.useState(!1),s=D.useRef(null),l=oo.find(o=>o.id===e)||oo[0];D.useEffect(()=>{const o=d=>{s.current&&!s.current.contains(d.target)&&r(!1)},c=d=>{d.key==="Escape"&&r(!1)};return n&&(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}},[n]);const a=o=>{t(o),r(!1)};return i.jsxs("div",{className:"mode-selector",ref:s,children:[i.jsxs("button",{className:"mode-selector-button",onClick:()=>r(!n),children:[i.jsx("span",{className:"mode-icon",children:l.icon}),i.jsx("span",{className:"mode-label",children:l.label}),i.jsx(Ll,{size:14})]}),n&&i.jsx("div",{className:"mode-dropdown",children:oo.map(o=>i.jsxs("button",{className:`mode-option ${o.id===e?"active":""}`,onClick:()=>a(o.id),children:[i.jsx("span",{className:"mode-option-icon",children:o.icon}),i.jsx("span",{className:"mode-option-label",children:o.label})]},o.id))})]})}const Cd=1.5;function Jv({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:a=[],onSelect:o,onDoubleClick:c,onContextMenu:d,onUpdate:p,periodBounds:v}){const[f,m]=D.useState(()=>new Set(["sprint","backlog"])),[E,j]=D.useState(null),[S,h]=D.useState(!1),[u,g]=D.useState(""),w=(_,X=null)=>{const ee=[],ie=(je,Ie=X)=>{je.forEach(xe=>{!r&&xe.completed||(ee.push({...xe,featureId:Ie||xe.featureId}),xe.children&&xe.children.length>0&&ie(xe.children,Ie||xe.featureId))})};return ie(_),ee},N=D.useMemo(()=>w(e),[e,r]),{sprintTasks:T,backlogTasks:b}=D.useMemo(()=>{const _=[],X=[];return N.forEach(ee=>{const ie=ee.dueDate?new Date(ee.dueDate):null;ie&&v&&ie>=v.start&&ie<=v.end?_.push(ee):X.push(ee)}),{sprintTasks:_,backlogTasks:X}},[N,v]),O=D.useMemo(()=>new Set((l==null?void 0:l.map(_=>_.id))||[]),[l]),M=D.useMemo(()=>{const _=new Map;return T.forEach(X=>{const ee=X.assignee||"unassigned",ie=ee!=="unassigned"&&!O.has(ee)?"unassigned":ee;_.has(ie)||_.set(ie,[]),_.get(ie).push(X)}),_.forEach(X=>{X.sort((ee,ie)=>(ee.teamOrder||0)-(ie.teamOrder||0))}),_},[T,O]),K=D.useMemo(()=>{const _=new Map;return _.set("_uncategorized",[]),b.forEach(X=>{const ee=X.featurePath||X.featureId||"_uncategorized";_.has(ee)||_.set(ee,[]),_.get(ee).push(X)}),_.get("_uncategorized").length===0&&_.delete("_uncategorized"),_},[b]),k=_=>{if(_==="_uncategorized")return"Uncategorized";const X=ee=>{for(const ie of ee){if(ie.id===_)return ie.name;if(ie.children){const je=X(ie.children);if(je)return je}}return null};return X(a)||_},Y=_=>(l==null?void 0:l.find(X=>X.id===_))||{id:_,name:_,avatar:""},me=_=>{m(X=>{const ee=new Set(X);return ee.has(_)?ee.delete(_):ee.add(_),ee})},le=_=>f.has(_),Ke=_=>_===t||(n==null?void 0:n.has(_)),Fe=_=>{const X=_.reduce((ie,je)=>ie+(je.estimate||Cd),0),ee=_.filter(ie=>ie.completed).length;return{total:X.toFixed(1),count:_.length,completed:ee}},We=(_,X)=>{_.stopPropagation(),_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",X.id),_.dataTransfer.setData("taskId",X.id)},Q=(_,X,ee)=>{_.preventDefault(),_.stopPropagation(),_.dataTransfer.dropEffect="move",j({type:X,id:ee})},$=_=>{_.currentTarget.contains(_.relatedTarget)||j(null)},G=(_,X,ee)=>{_.preventDefault(),_.stopPropagation(),j(null);const ie=_.dataTransfer.getData("taskId");if(!(!ie||!p))if(X==="person"){const je={assignee:ee==="unassigned"?null:ee};v&&(je.dueDate=v.end),p(ie,je)}else X==="backlog"?p(ie,{dueDate:null}):X==="feature"&&p(ie,{dueDate:null,featurePath:ee==="_uncategorized"?null:ee})},ce=()=>{j(null)},oe=()=>{h(!0),g(""),m(_=>{const X=new Set(_);return X.add("backlog"),X})},be=()=>{u.trim(),h(!1),g("")},Me=_=>{_.key==="Enter"&&be(),_.key==="Escape"&&(h(!1),g(""))},we=(_,X)=>(E==null?void 0:E.type)===_&&(E==null?void 0:E.id)===X,Le=(_,X=0)=>{const ee=_.estimate||Cd,ie=Y(_.assignee||"unassigned");return i.jsxs("div",{className:`condensed-task-row ${Ke(_.id)?"selected":""} ${_.completed?"completed":""}`,style:{paddingLeft:`${(X+1)*24}px`},draggable:!0,onDragStart:je=>We(je,_),onDragEnd:ce,onClick:()=>o(_.id),onDoubleClick:()=>c&&c(_.id),onContextMenu:je=>{je.preventDefault(),d&&d(_.id,je.clientX,je.clientY)},children:[i.jsx("button",{className:"checkbox",onClick:je=>{je.stopPropagation(),p&&p(_.id,{completed:!_.completed})},children:_.completed?i.jsx(ip,{size:16}):i.jsx(lp,{size:16})}),i.jsx("span",{className:"condensed-task-title",children:_.title}),i.jsxs("span",{className:"condensed-task-meta",children:[i.jsxs("span",{className:"condensed-task-estimate",children:[ee,"d"]}),i.jsx("span",{className:"condensed-task-assignee",title:ie.name,children:ie.avatar})]})]},_.id)},ke=(_,X,ee,ie,je=0,Ie={})=>{const xe=le(_);return i.jsxs("div",{className:`condensed-group-header ${Ie.dragOverClass||""}`,style:{paddingLeft:`${je*24}px`},onClick:()=>me(_),...Ie.dropHandlers,children:[i.jsx("span",{className:"condensed-expand-icon",children:xe?i.jsx(Ll,{size:14}):i.jsx(Da,{size:14})}),ee&&i.jsx("span",{className:"condensed-group-icon",children:ee}),i.jsx("span",{className:"condensed-group-label",children:X}),i.jsxs("span",{className:"condensed-group-stats",children:[ie.completed,"/",ie.count," (",ie.total,"d)"]}),Ie.action]})},Rt=D.useMemo(()=>(l==null?void 0:l.filter(_=>_.enabled!==!1))||[],[l]);return i.jsxs("div",{className:"condensed-team-view",children:[i.jsxs("div",{className:"condensed-section",children:[ke("sprint","Current Sprint","",Fe(T)),le("sprint")&&i.jsxs("div",{className:"condensed-section-content",children:[Rt.map(_=>{const X=M.get(_.id)||[],ee=`sprint-${_.id}`,ie=Fe(X),je=we("person",_.id);return i.jsxs("div",{className:"condensed-person-group",children:[ke(ee,_.name,_.avatar,ie,1,{dragOverClass:je?"drag-over":"",dropHandlers:{onDragOver:Ie=>Q(Ie,"person",_.id),onDragLeave:$,onDrop:Ie=>{Ie.stopPropagation(),G(Ie,"person",_.id)}}}),le(ee)&&X.length>0&&i.jsx("div",{className:"condensed-person-tasks",children:X.map(Ie=>Le(Ie,2))})]},ee)}),M.has("unassigned")&&i.jsxs("div",{className:"condensed-person-group",children:[ke("sprint-unassigned","Unassigned","",Fe(M.get("unassigned")),1,{dragOverClass:we("person","unassigned")?"drag-over":"",dropHandlers:{onDragOver:_=>Q(_,"person","unassigned"),onDragLeave:$,onDrop:_=>{_.stopPropagation(),G(_,"person","unassigned")}}}),le("sprint-unassigned")&&i.jsx("div",{className:"condensed-person-tasks",children:M.get("unassigned").map(_=>Le(_,2))})]})]})]}),i.jsxs("div",{className:"condensed-section",children:[ke("backlog","Backlog","",Fe(b),0,{dragOverClass:we("backlog","_root")?"drag-over":"",dropHandlers:{onDragOver:_=>Q(_,"backlog","_root"),onDragLeave:$,onDrop:_=>{_.stopPropagation(),G(_,"backlog","_root")}},action:i.jsx("button",{className:"condensed-add-folder-btn",onClick:_=>{_.stopPropagation(),oe()},title:"Add folder",children:i.jsx(bn,{size:14})})}),le("backlog")&&i.jsxs("div",{className:"condensed-section-content",children:[S&&i.jsxs("div",{className:"condensed-add-folder-row",style:{paddingLeft:"24px"},children:[i.jsx("span",{className:"condensed-group-icon",children:""}),i.jsx("input",{type:"text",className:"condensed-folder-input",placeholder:"Folder name...",value:u,onChange:_=>g(_.target.value),onKeyDown:Me,onBlur:()=>{h(!1),g("")},autoFocus:!0})]}),Array.from(K.entries()).map(([_,X])=>{const ee=`backlog-${_}`,ie=Fe(X),je=k(_),Ie=we("feature",_);return i.jsxs("div",{className:"condensed-feature-group",children:[ke(ee,je,"",ie,1,{dragOverClass:Ie?"drag-over":"",dropHandlers:{onDragOver:xe=>Q(xe,"feature",_),onDragLeave:$,onDrop:xe=>{xe.stopPropagation(),G(xe,"feature",_)}}}),le(ee)&&i.jsx("div",{className:"condensed-feature-tasks",children:X.map(xe=>Le(xe,2))})]},ee)}),K.size===0&&!S&&i.jsx("div",{className:"condensed-empty",style:{paddingLeft:"48px"},children:"No tasks in backlog"})]})]})]})}const Hs=1.5,qv=60,ey=[{id:"block",label:"Block View"},{id:"condensed",label:"Condensed View"}];function ty({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,teams:a=[],featureTree:o=[],selectedTeamId:c,onTeamChange:d,onSelect:p,onDoubleClick:v,onContextMenu:f,onUpdate:m,onReorderTeamMembers:E,periodBounds:j}){const[S,h]=D.useState("block"),[u,g]=D.useState(null),[w,N]=D.useState(null),[T,b]=D.useState(null),[O,M]=D.useState(null),[K,k]=D.useState(null),[Y,me]=D.useState(""),le=c?a.find(V=>V.id===c):null,Ke=D.useMemo(()=>{let V=(l==null?void 0:l.filter(te=>te.enabled!==!1))||[];if(le&&le.memberIds){const te=new Set(le.memberIds);V=V.filter(ge=>te.has(ge.id))}return V},[l,le]),Fe=V=>{const te=[],ge=it=>{it.forEach(Oe=>{if(!(!r&&Oe.completed)){if(s==="global")te.push(Oe);else{const at=Oe.dueDate?new Date(Oe.dueDate):null;at&&j&&at>=j.start&&at<=j.end&&te.push(Oe)}Oe.children&&Oe.children.length>0&&ge(Oe.children)}})};return ge(V),te},We=D.useMemo(()=>Fe(e),[e,r,s,j]),Q=V=>We.filter(te=>(te.assignee||"unassigned")===V).sort((te,ge)=>(te.teamOrder||0)-(ge.teamOrder||0)),$=(V,te)=>{if(!V.dependencies||V.dependencies.length===0)return!1;const ge=new Date;return V.dependencies.some(it=>{const Oe=te.find(at=>at.id===it);return!Oe||Oe.completed?!1:Oe.dueDate?new Date(Oe.dueDate)<ge:!1})},G=V=>Q(V).reduce((ge,it)=>ge+(it.estimate||Hs),0),oe=(()=>{switch(s){case"day":return 1;case"week":return 5;case"sprint":return 10;case"half":return 60;case"year":return 240;case"global":return 999;default:return 10}})(),be=(V,te)=>{V.stopPropagation(),g(te),V.dataTransfer.effectAllowed="move",V.dataTransfer.setData("taskId",te.id)},Me=(V,te,ge)=>{V.preventDefault(),V.stopPropagation(),u&&M({memberId:te,index:ge})},we=(V,te,ge)=>{if(V.preventDefault(),V.stopPropagation(),!u)return;(u.assignee||"unassigned")!==te&&m&&m(u.id,{assignee:te}),Q(te).map((de,Et)=>de.id===u.id?{id:de.id,order:ge}:Et>=ge?{id:de.id,order:Et+1}:{id:de.id,order:Et}).forEach(({id:de,order:Et})=>{m&&m(de,{teamOrder:Et})}),g(null),M(null)},Le=(V,te)=>{N(te),V.dataTransfer.effectAllowed="move"},ke=(V,te)=>{V.preventDefault(),w!==null&&b(te)},Rt=(V,te)=>{if(V.preventDefault(),w===null||w===te){N(null),b(null);return}E&&E(w,te),N(null),b(null)},_=()=>{g(null),N(null),b(null),M(null)},X=V=>V.id===t||n.has(V.id),ee=V=>!V.children||V.children.length===0?V.completed?V.estimate||Hs:0:V.children.reduce((te,ge)=>te+ee(ge),0),ie=V=>{const te=V.estimate||Hs;if(!V.children||V.children.length===0)return te;const ge=V.children.reduce((it,Oe)=>it+ie(Oe),0);return Math.max(te,ge)},je=V=>{const te=ie(V),ge=ee(V);return te>0?ge/te*100:0},Ie=(V,te)=>{te.stopPropagation(),k(V.id),me((V.estimate||Hs).toString())},xe=V=>{me(V.target.value)},Ge=()=>{if(K&&m){const V=parseFloat(Y);!isNaN(V)&&V>0&&m(K,{estimate:V})}k(null),me("")},Yt=V=>{V.key==="Enter"?Ge():V.key==="Escape"&&(k(null),me(""))};return i.jsxs("div",{className:"team-view-sprint",children:[i.jsxs("div",{className:"team-selector-bar",children:[a.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"team-selector-label",children:"Team:"}),i.jsxs("select",{className:"team-selector-dropdown",value:c||"",onChange:V=>d&&d(V.target.value||null),children:[i.jsx("option",{value:"",children:"All Teams"}),a.map(V=>{var te;return i.jsxs("option",{value:V.id,children:[V.name," (",((te=V.memberIds)==null?void 0:te.length)||0," members)"]},V.id)})]})]}),i.jsx("label",{className:"team-selector-label",children:"View:"}),i.jsx("select",{className:"team-selector-dropdown",value:S,onChange:V=>h(V.target.value),children:ey.map(V=>i.jsx("option",{value:V.id,children:V.label},V.id))})]}),S==="condensed"?i.jsx(Jv,{todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:o,periodBounds:j,onSelect:p,onDoubleClick:v,onContextMenu:f,onUpdate:m}):i.jsx("div",{className:"team-columns-container",children:Ke.map((V,te)=>{const ge=Q(V.id),it=G(V.id),Oe=Math.min(it/oe*100,100),at=it>oe;return i.jsxs("div",{className:`team-member-column ${T===te?"drag-over":""}`,draggable:!0,onDragStart:de=>Le(de,te),onDragOver:de=>ke(de,te),onDrop:de=>Rt(de,te),onDragEnd:_,children:[i.jsxs("div",{className:"team-member-header",children:[i.jsxs("div",{className:"team-member-info",children:[i.jsx("span",{className:"team-member-avatar",children:V.avatar}),i.jsxs("div",{className:"team-member-details",children:[i.jsx("div",{className:"team-member-name",children:V.name}),i.jsxs("div",{className:`team-capacity ${at?"over-capacity":""}`,children:[it.toFixed(1),"d / ",oe,"d"]})]})]}),i.jsx("div",{className:"capacity-bar",children:i.jsx("div",{className:`capacity-fill ${at?"over-capacity":""}`,style:{width:`${Math.min(Oe,100)}%`}})})]}),i.jsx("div",{className:"team-tasks-container",onDragOver:de=>Me(de,V.id,ge.length),onDrop:de=>we(de,V.id,ge.length),children:ge.length===0?i.jsx("div",{className:"team-empty-state",children:"No tasks assigned"}):ge.map((de,Et)=>{const Ps=(de.estimate||Hs)*qv,gn=je(de),Qt=$(de,We),Kt=de.dueDate?Math.ceil((new Date(de.dueDate)-new Date)/(1e3*60*60*24)):null;return i.jsxs("div",{style:{position:"relative"},onDragOver:qe=>Me(qe,V.id,Et),onDrop:qe=>we(qe,V.id,Et),children:[(O==null?void 0:O.memberId)===V.id&&(O==null?void 0:O.index)===Et&&i.jsx("div",{className:"task-drop-indicator"}),i.jsxs("div",{className:`team-task-box ${X(de)?"selected":""} ${de.completed?"completed":""} ${Qt?"blocked":""}`,style:{height:`${Ps}px`},draggable:!0,onDragStart:qe=>be(qe,de),onDragEnd:_,onClick:()=>p(de.id),onDoubleClick:()=>v&&v(de.id),onContextMenu:qe=>{qe.preventDefault(),f&&f(de.id,qe.clientX,qe.clientY)},children:[i.jsx("div",{className:"task-progress-fill",style:{height:`${gn}%`}}),i.jsxs("div",{className:"task-content",children:[i.jsxs("div",{className:"task-header-row",children:[i.jsxs("span",{className:"task-id",children:["#",de.id]}),Qt&&i.jsx("span",{className:"task-blocked-icon",title:"Blocked by late dependency",children:""})]}),i.jsx("div",{className:"task-title-text",children:de.title}),i.jsxs("div",{className:"task-footer-row",children:[K===de.id?i.jsx("input",{type:"number",step:"0.5",min:"0",className:"task-estimate-input",value:Y,onChange:xe,onBlur:Ge,onKeyDown:Yt,autoFocus:!0,onClick:qe=>qe.stopPropagation()}):i.jsxs("span",{className:"task-estimate clickable",onClick:qe=>Ie(de,qe),title:"Click to edit estimate",children:[ee(de).toFixed(1),"/",ie(de).toFixed(1),"d"]}),Kt!==null&&i.jsx("span",{className:`task-days-remaining ${Kt<0?"overdue":""}`,children:Kt<0?`${Math.abs(Kt)}d overdue`:`${Kt}d left`})]})]})]})]},de.id)})})]},V.id)})})]})}const ye=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Ln=(e,t)=>(new Date(t).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0))/864e5,mc=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},ni=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},co={day:1,week:7,sprint:14,month:30,quarter:90,half:182,year:365,global:730},Td=e=>{const t=new Date;switch(t.setHours(0,0,0,0),e){case"day":return t;case"week":return mc(t);case"sprint":{const n=new Date("2024-01-01"),r=Math.floor((mc(t)-n)/(1e3*60*60*24*7)),s=Math.floor(r/2);return ye(n,s*14)}case"month":return new Date(t.getFullYear(),t.getMonth(),1);case"quarter":{const n=Math.floor(t.getMonth()/3);return new Date(t.getFullYear(),n*3,1)}case"half":{const n=t.getMonth()<6?0:6;return new Date(t.getFullYear(),n,1)}case"year":return new Date(t.getFullYear(),0,1);case"global":return ye(t,-365);default:return t}},De=80,ny=250,ry=1,sy=1095,ly=.002,vr=1;function iy({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s="sprint",periodOffset:l=0,teamMembers:a=[],teams:o=[],timeBlocks:c=[],onSelect:d,onDoubleClick:p,onContextMenu:v,onUpdate:f}){const[m,E]=D.useState(()=>new Set(o.map(x=>x.id))),j=D.useRef(null),[S,h]=D.useState(800),[u,g]=D.useState(null),[w,N]=D.useState(null),[T,b]=D.useState(null),[O,M]=D.useState(null),[K,k]=D.useState(null),[Y,me]=D.useState(()=>co[s]||14),[le,Ke]=D.useState(()=>Td(s)),[Fe,We]=D.useState(!1),[Q,$]=D.useState(null);D.useEffect(()=>{const x=()=>{j.current&&h(j.current.clientWidth)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const G=S/Y,ce=D.useMemo(()=>Y<=3?"hour":Y<=60?"day":Y<=180?"week":"month",[Y]),oe=D.useMemo(()=>{const x=ye(ni(le),-vr),L=ye(ni(le),Math.ceil(Y)+vr);return L.setHours(23,59,59,999),{start:x,end:L}},[le,Y]),be=D.useMemo(()=>{const x=ni(le),L=ye(x,Math.ceil(Y));return L.setHours(23,59,59,999),{start:x,end:L}},[le,Y]),Me=D.useMemo(()=>{const x=[],L=oe.start,B=oe.end;if(ce==="hour"){let I=new Date(L);for(;I<=B;){for(let z=0;z<24;z++){const H=new Date(I);H.setHours(z,0,0,0);const Z=Ln(le,I);x.push({date:H,hour:z,dayOffset:Z,isWeekend:[0,6].includes(I.getDay()),isWorkHour:z>=9&&z<17,x:(Z+z/24)*G,width:G/24})}I=ye(I,1)}}else if(ce==="day"){let I=new Date(L);for(;I<=B;){const z=Ln(le,I);x.push({date:new Date(I),dayOffset:z,isWeekend:[0,6].includes(I.getDay()),x:z*G,width:G}),I=ye(I,1)}}else if(ce==="week"){let I=mc(L);for(;I<=B;){const z=Ln(le,I);x.push({date:new Date(I),dayOffset:z,isWeekend:!1,x:z*G,width:7*G}),I=ye(I,7)}}else{let I=new Date(L.getFullYear(),L.getMonth(),1);for(;I<=B;){const z=Ln(le,I),H=new Date(I.getFullYear(),I.getMonth()+1,0).getDate();x.push({date:new Date(I),dayOffset:z,isWeekend:!1,x:z*G,width:H*G}),I=new Date(I.getFullYear(),I.getMonth()+1,1)}}return x},[oe,ce,le,G]),we=D.useMemo(()=>{const x=[],L=B=>{B.forEach(I=>{if(!r&&I.completed)return;I.children&&I.children.length>0&&(r||I.children.some(H=>!H.completed))?L(I.children):x.push(I)})};return L(e),x},[e,r]),{regularTasks:Le,bufferTasks:ke,undatedTasks:Rt}=D.useMemo(()=>{const x=[],L=[],B=[];return we.forEach(I=>{I.type==="buffer"?L.push(I):!I.startDate&&!I.dueDate?B.push(I):x.push(I)}),L.sort((I,z)=>{const H=I.startDate||I.dueDate||new Date("2099-01-01"),Z=z.startDate||z.dueDate||new Date("2099-01-01");return new Date(H)-new Date(Z)}),{regularTasks:x,bufferTasks:L,undatedTasks:B}},[we]),_=D.useMemo(()=>{const x={};return Le.forEach(L=>{const B=L.assignee||"unassigned";x[B]||(x[B]=[]),x[B].push(L)}),Object.values(x).forEach(L=>L.sort((B,I)=>{const z=B.startDate||B.dueDate||new Date("2099-01-01"),H=I.startDate||I.dueDate||new Date("2099-01-01");return new Date(z)-new Date(H)})),x},[Le]),X=D.useMemo(()=>{const x=[],L=new Set;if(o.forEach(I=>{I.memberIds.forEach(z=>L.add(z))}),o.forEach(I=>{x.push({type:"team",team:I}),m.has(I.id)&&I.memberIds.forEach(z=>{const H=a.find(se=>se.id===z);if(!H||H.enabled===!1)return;const Z=_[z]||[],ue=ri(Z,oe);ue.forEach((se,ne)=>{x.push({type:"member",member:H,subRow:ne,totalSubRows:ue.length,tasks:se})}),ue.length===0&&x.push({type:"member",member:H,subRow:0,totalSubRows:1,tasks:[]})})}),a.forEach(I=>{if(I.id==="unassigned"||L.has(I.id))return;const z=_[I.id];if(!z||z.length===0)return;x.push({type:"team",team:{id:`_solo_${I.id}`,name:I.name,memberIds:[I.id]}});const H=ri(z,oe);H.forEach((Z,ue)=>{x.push({type:"member",member:I,subRow:ue,totalSubRows:H.length,tasks:Z})})}),ke.length>0){const I={id:"_buffer",name:"Buffer Time",avatar:""};x.push({type:"team",team:{id:"_buffer",name:"Buffer Time",memberIds:["_buffer"]}});const z=ri(ke,oe);z.forEach((H,Z)=>{x.push({type:"buffer",member:I,subRow:Z,totalSubRows:z.length,tasks:H})})}const B=_.unassigned;if(B&&B.length>0){const I=a.find(H=>H.id==="unassigned")||{id:"unassigned",name:"Unassigned",avatar:""};x.push({type:"team",team:{id:"_unassigned",name:"Unassigned",memberIds:["unassigned"]}});const z=ri(B,oe);z.forEach((H,Z)=>{x.push({type:"member",member:I,subRow:Z,totalSubRows:z.length,tasks:H})})}return x},[o,m,a,_,ke,oe]),ee=D.useCallback(x=>{const L=x.startDate?new Date(x.startDate):x.dueDate?ye(new Date(x.dueDate),-(x.estimate||1)):le,B=x.dueDate?new Date(x.dueDate):ye(L,x.estimate||1),I=Ln(le,L),z=Ln(L,B);return{x:I*G,width:Math.max(z,.5)*G,clippedLeft:L<oe.start,clippedRight:B>oe.end,startDate:L,endDate:B}},[le,G,oe]),ie=D.useMemo(()=>{const x=new Date;x.setHours(12,0,0,0);const L=Ln(le,x);return L<-vr||L>Y+vr?null:L*G},[le,Y,G]),je=D.useMemo(()=>{const x=[],L=new Map;return X.forEach((B,I)=>{B.type!=="member"&&B.type!=="buffer"||B.tasks.forEach(z=>{const H=ee(z);L.set(z.id,{rowIdx:I,pos:H})})}),X.forEach((B,I)=>{B.type!=="member"&&B.type!=="buffer"||B.tasks.forEach(z=>{if(!z.dependencies)return;const H=L.get(z.id);H&&z.dependencies.forEach(Z=>{const ue=L.get(Z);if(!ue)return;const se=we.find(Ne=>Ne.id===Z),ne=se&&!se.completed&&new Date>ue.pos.startDate;x.push({source:ue,target:H,violated:ne})})})}),x},[X,ee,we]),Ie=x=>{E(L=>{const B=new Set(L);return B.has(x)?B.delete(x):B.add(x),B})},xe=(x,L,B,I)=>{if(!f)return;x.preventDefault(),x.stopPropagation();const z=L.estimate||1;let H,Z;L.startDate?H=new Date(L.startDate):L.dueDate?H=ye(new Date(L.dueDate),-z):H=new Date(le),L.dueDate?Z=new Date(L.dueDate):Z=ye(H,z),g({taskId:L.id,mode:B,startX:x.clientX,startY:x.clientY,origStart:H,origDue:Z,origEstimate:z,origRowIdx:I,origAssignee:L.assignee||"unassigned"})},Ge=D.useCallback(x=>{if(!u||!f)return;const L=x.clientX-u.startX,B=Math.round(L/G);if(u.mode==="move"&&j.current){const z=j.current.getBoundingClientRect(),H=x.clientY-z.top-De,Z=Math.floor(H/De);Z>=0&&Z<X.length&&N(Z)}if(B===0)return;const I={};u.mode==="move"?(I.startDate=ye(u.origStart,B),I.dueDate=ye(u.origDue,B)):u.mode==="resize-right"?(I.dueDate=ye(u.origDue,B),I.estimate=Math.max(.5,u.origEstimate+B)):u.mode==="resize-left"&&(I.startDate=ye(u.origStart,B),I.estimate=Math.max(.5,u.origEstimate-B)),f(u.taskId,I)},[u,f,G,X.length]),Yt=D.useCallback(()=>{if(u&&u.mode==="move"&&w!==null&&f){const x=X[w];if(x&&x.type==="member"){const L=x.member.id;L!==u.origAssignee&&f(u.taskId,{assignee:L})}}g(null),N(null)},[u,w,X,f]);Jd.useEffect(()=>{if(u)return document.addEventListener("mousemove",Ge),document.addEventListener("mouseup",Yt),document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",Ge),document.removeEventListener("mouseup",Yt),document.body.style.userSelect=""}},[u,Ge,Yt]);const V=D.useCallback(x=>{x.target.closest(".tl-bar")||(x.preventDefault(),We(!0),$({x:x.clientX,scrollDate:new Date(le)}))},[le]),te=D.useCallback(x=>{if(!Fe||!Q)return;const I=-((x.clientX-Q.x)/G)*24*60*60*1e3,z=new Date(Q.scrollDate.getTime()+I);Ke(z)},[Fe,Q,G]),ge=D.useCallback(()=>{We(!1),$(null)},[]);D.useEffect(()=>{if(Fe)return document.addEventListener("mousemove",te),document.addEventListener("mouseup",ge),document.body.style.cursor="grabbing",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ge),document.body.style.cursor="",document.body.style.userSelect=""}},[Fe,te,ge]);const it=D.useCallback((x,L,B)=>{if(x.preventDefault(),x.stopPropagation(),!j.current)return;const I=j.current.getBoundingClientRect(),z=ee(L);b({sourceId:L.id,sourceRowIdx:B,sourceX:z.x+z.width,sourceY:B*De+De/2,mouseX:x.clientX-I.left,mouseY:x.clientY-I.top-De})},[ee]),Oe=D.useCallback(x=>{if(!T||!j.current)return;const L=j.current.getBoundingClientRect();b(B=>({...B,mouseX:x.clientX-L.left,mouseY:x.clientY-L.top-De}))},[T]),at=D.useCallback(x=>{if(!T||!j.current||!f){b(null);return}const L=j.current.getBoundingClientRect(),B=x.clientX-L.left,I=x.clientY-L.top-De;let z=null;for(const H of X)if(!(H.type!=="member"&&H.type!=="buffer")){for(const Z of H.tasks){if(Z.id===T.sourceId)continue;const ue=ee(Z),ne=X.indexOf(H)*De,Ne=ne+De;if(B>=ue.x&&B<=ue.x+ue.width&&I>=ne&&I<=Ne){z=Z;break}}if(z)break}if(z){const H=z.dependencies||[];H.includes(T.sourceId)||f(z.id,{dependencies:[...H,T.sourceId]})}b(null)},[T,X,ee,f]);D.useEffect(()=>{if(T)return document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",at),document.body.style.cursor="crosshair",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",at),document.body.style.cursor="",document.body.style.userSelect=""}},[T,Oe,at]);const de=D.useCallback(x=>{x.preventDefault();const L=x.deltaY*ly*Y,B=Math.max(ry,Math.min(sy,Y+L));if(j.current){const I=j.current.getBoundingClientRect(),z=(x.clientX-I.left)/I.width,H=ye(le,Y*z),Z=ye(H,-(B*z));Ke(Z)}me(B)},[Y,le]),Et=D.useCallback(x=>{me(co[x]||14),Ke(Td(x))},[]),Rl=D.useCallback(x=>{if(O&&(x.preventDefault(),x.dataTransfer.dropEffect="move",j.current)){const L=j.current.getBoundingClientRect();k(x.clientX-L.left)}},[O]),Ps=D.useCallback(x=>{if(!O||!j.current||!f)return;x.preventDefault();const L=j.current.getBoundingClientRect(),I=(x.clientX-L.left)/G,z=le.getTime()+I*24*60*60*1e3,H=ni(new Date(z)),Z=we.find(Ee=>Ee.id===O),ue=(Z==null?void 0:Z.estimate)||1,se=ye(H,ue),ne=x.clientY-L.top-De,Ne=Math.floor(ne/De),Xe={startDate:H,dueDate:se};if(Ne>=0&&Ne<X.length){const Ee=X[Ne];Ee.type==="member"&&Ee.member.id!=="unassigned"&&(Xe.assignee=Ee.member.id)}f(O,Xe),M(null),k(null)},[O,G,le,we,X,f]),[gn,Qt]=D.useState(!1),Kt=D.useRef(null);D.useEffect(()=>{if(!gn)return;const x=L=>{Kt.current&&!Kt.current.contains(L.target)&&Qt(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[gn]);const qe=D.useCallback(()=>{if(!f)return;Qt(!1);const x=new Date;x.setHours(0,0,0,0);const L=new Map;we.forEach(z=>L.set(z.id,z));const B={};Le.forEach(z=>{const H=z.assignee||"unassigned";B[H]||(B[H]=[]),B[H].push(z)});const I=new Map;Object.values(B).forEach(z=>{z.sort((Z,ue)=>{const se=Z.startDate?new Date(Z.startDate):Z.dueDate?ye(new Date(Z.dueDate),-(Z.estimate||1)):null,ne=ue.startDate?new Date(ue.startDate):ue.dueDate?ye(new Date(ue.dueDate),-(ue.estimate||1)):null;return se?ne?se-ne:-1:1});let H=null;z.forEach(Z=>{const ue=Z.estimate||1,se=Z.startDate?new Date(Z.startDate):Z.dueDate?ye(new Date(Z.dueDate),-ue):null;if(H===null)se&&(H=ye(se,ue)),se&&I.set(Z.id,{startDate:se,dueDate:ye(se,ue)});else{let ne=new Date(H);se&&se>x&&ne<x&&(ne=new Date(x)),Z.dependencies&&Z.dependencies.length>0&&Z.dependencies.forEach(Xe=>{const Ee=I.get(Xe),vn=L.get(Xe),At=Ee?Ee.dueDate:vn&&vn.dueDate?new Date(vn.dueDate):null;At&&ne<At&&(ne=new Date(At))});const Ne=ye(ne,ue);I.set(Z.id,{startDate:ne,dueDate:Ne}),f(Z.id,{startDate:ne,dueDate:Ne}),H=Ne}})})},[Le,we,f]),bs=D.useCallback(()=>{if(!f)return;Qt(!1);const x=new Date;x.setHours(0,0,0,0);const L=new Map;we.forEach(H=>L.set(H.id,H));const B=new Map;let I=!0,z=0;for(;I&&z<100;)I=!1,z++,we.forEach(H=>{const Z=B.get(H.id)||{startDate:H.startDate?new Date(H.startDate):null,dueDate:H.dueDate?new Date(H.dueDate):null};if(!Z.startDate)return;const ue=H.startDate?new Date(H.startDate):null;let se=new Date(Z.startDate);if(ue&&ue>x&&se<x&&(se=new Date(x)),H.dependencies&&H.dependencies.length>0&&H.dependencies.forEach(ne=>{const Ne=L.get(ne);if(!Ne)return;const Xe=B.get(ne),Ee=Xe?Xe.dueDate:Ne.dueDate?new Date(Ne.dueDate):null;Ee&&se<Ee&&(se=new Date(Ee))}),se.getTime()!==Z.startDate.getTime()){const ne=H.estimate||1;B.set(H.id,{startDate:new Date(se),dueDate:ye(se,ne)}),I=!0}});B.forEach((H,Z)=>{f(Z,H)})},[we,f]),Al=D.useCallback(()=>{if(!f)return;Qt(!1);const x=new Date;x.setHours(0,0,0,0);const L=a.filter(ne=>ne.enabled!==!1&&ne.id!=="unassigned");if(L.length===0)return;const B=Le.filter(ne=>ne.startDate||ne.dueDate);if(B.length===0)return;const I=new Map;we.forEach(ne=>I.set(ne.id,ne));const z=B.reduce((ne,Ne)=>{const Xe=Ne.startDate?new Date(Ne.startDate):ye(new Date(Ne.dueDate),-(Ne.estimate||1));return!ne||Xe<ne?Xe:ne},null),H=z&&z>x?z:new Date(x),Z=[...B].sort((ne,Ne)=>{const Xe=(ne.dependencies||[]).length,Ee=(Ne.dependencies||[]).length;return Xe!==Ee?Xe-Ee:(Ne.estimate||1)-(ne.estimate||1)}),ue={};L.forEach(ne=>{ue[ne.id]=new Date(H)});const se=new Map;Z.forEach(ne=>{const Ne=ne.estimate||1,Xe=ne.startDate?new Date(ne.startDate):null;let Ee=null;ne.dependencies&&ne.dependencies.length>0&&ne.dependencies.forEach(_n=>{const zl=se.get(_n),_s=I.get(_n),Ms=zl?zl.dueDate:_s&&_s.dueDate?new Date(_s.dueDate):null;Ms&&(!Ee||Ms>Ee)&&(Ee=new Date(Ms))});let vn=L[0].id,At=ue[L[0].id];L.forEach(_n=>{ue[_n.id]<At&&(vn=_n.id,At=ue[_n.id])});let yn=new Date(At);Ee&&yn<Ee&&(yn=new Date(Ee)),Xe&&Xe>x&&yn<x&&(yn=new Date(x));const Os=ye(yn,Ne);se.set(ne.id,{startDate:yn,dueDate:Os}),f(ne.id,{assignee:vn,startDate:yn,dueDate:Os}),ue[vn]=Os})},[Le,we,a,f]),On=D.useMemo(()=>{const x=B=>B.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L=B=>B.toLocaleDateString("en-US",{month:"short",day:"numeric"});return Y<=1?be.start.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):Y<=7?`${L(be.start)}  ${L(be.end)}`:Y<=60?`${L(be.start)}  ${L(be.end)}`:Y<=365?`${x(be.start)}  ${x(be.end)}`:`${be.start.getFullYear()}  ${be.end.getFullYear()}`},[Y,be]),Is=D.useMemo(()=>Y<=1?"Day":Y<=7?"Week":Y<=14?"Sprint":Y<=30?"Month":Y<=90?"Quarter":Y<=182?"Half":Y<=365?"Year":"Global",[Y]);return i.jsxs("div",{className:"tl-view",children:[i.jsxs("div",{className:"tl-header-bar",children:[i.jsx("div",{className:"tl-zoom-presets",children:Object.keys(co).map(x=>i.jsx("button",{className:`tl-zoom-btn ${Is.toLowerCase()===x?"active":""}`,onClick:()=>Et(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),i.jsx("span",{className:"tl-period-label",children:On}),i.jsxs("span",{className:"tl-zoom-indicator",children:["Zoom: ",Math.round(Y),"d"]}),i.jsxs("div",{className:"tl-actions-menu",ref:Kt,children:[i.jsx("button",{className:`tl-actions-btn ${gn?"active":""}`,onClick:()=>Qt(!gn),title:"Scheduling actions",children:i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[i.jsx("rect",{x:"2",y:"3",width:"12",height:"1.5",rx:"0.75"}),i.jsx("rect",{x:"2",y:"7.25",width:"12",height:"1.5",rx:"0.75"}),i.jsx("rect",{x:"2",y:"11.5",width:"12",height:"1.5",rx:"0.75"})]})}),gn&&i.jsxs("div",{className:"tl-actions-dropdown",children:[i.jsxs("button",{className:"tl-actions-item",onClick:qe,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Compress"}),i.jsx("div",{className:"tl-actions-desc",children:"Close gaps between tasks"})]})]}),i.jsxs("button",{className:"tl-actions-item",onClick:bs,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Reschedule"}),i.jsx("div",{className:"tl-actions-desc",children:"Push tasks after dependencies"})]})]}),i.jsxs("button",{className:"tl-actions-item",onClick:Al,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Parallelize"}),i.jsx("div",{className:"tl-actions-desc",children:"Distribute across team members"})]})]})]})]})]}),i.jsxs("div",{className:"tl-body",children:[i.jsxs("div",{className:"tl-sidebar",style:{width:ny},children:[i.jsx("div",{className:"tl-sidebar-header",style:{height:De},children:i.jsx("span",{children:"Teams"})}),X.map((x,L)=>{if(x.type==="team"){const B=m.has(x.team.id);return i.jsxs("div",{className:"tl-sidebar-team",style:{height:De},onClick:()=>Ie(x.team.id),children:[B?i.jsx(Ll,{size:14}):i.jsx(Da,{size:14}),i.jsx("span",{children:x.team.name})]},`team-${x.team.id}`)}return i.jsx("div",{className:"tl-sidebar-member",style:{height:De},children:x.subRow===0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-member-avatar",children:x.member.avatar}),i.jsx("span",{className:"tl-member-name",children:x.member.name})]})},`member-${x.member.id}-${x.subRow}`)})]}),i.jsxs("div",{className:`tl-viewport ${Fe?"panning":""} ${O?"shelf-dropping":""}`,ref:j,onWheel:de,onMouseDown:V,onDragOver:Rl,onDragLeave:()=>k(null),onDrop:Ps,children:[i.jsx("div",{className:"tl-col-headers",style:{height:De},children:Me.map((x,L)=>{let B;if(ce==="hour"){const I=x.hour,z=I===0;B=i.jsxs(i.Fragment,{children:[z&&i.jsx("span",{className:"tl-col-day-label",children:x.date.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})}),i.jsx("span",{className:`tl-col-hour ${x.isWorkHour?"work-hour":""}`,children:I===0?"12a":I<12?`${I}a`:I===12?"12p":`${I-12}p`})]})}else ce==="day"?B=i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-col-day",children:x.date.toLocaleDateString("en-US",{weekday:"narrow"})}),i.jsx("span",{className:"tl-col-num",children:x.date.getDate()})]}):ce==="week"?B=i.jsx("span",{className:"tl-col-label",children:x.date.toLocaleDateString("en-US",{month:"short",day:"numeric"})}):B=i.jsx("span",{className:"tl-col-label",children:x.date.toLocaleDateString("en-US",{month:"short",year:"2-digit"})});return i.jsx("div",{className:`tl-col-header ${x.isWeekend?"weekend":""} ${ce==="hour"&&!x.isWorkHour?"off-hours":""}`,style:{width:x.width,left:x.x},children:B},`${x.date.toISOString()}-${x.hour||0}`)})}),i.jsxs("div",{className:"tl-rows",style:{position:"relative"},children:[Me.map(x=>i.jsx("div",{className:`tl-grid-col ${x.isWeekend?"weekend":""} ${ce==="hour"&&!x.isWorkHour?"off-hours":""}`,style:{left:x.x,width:x.width,height:X.length*De}},`bg-${x.date.toISOString()}-${x.hour||0}`)),ce==="hour"&&c.map(x=>{const L=new Date(x.start),B=new Date(x.end),I=Ln(le,L)+L.getHours()/24,z=(B-L)/(1e3*60*60*24),H=I*G,Z=z*G;return H>S+vr*G||H+Z<-vr*G?null:i.jsx("div",{className:`tl-time-block tl-time-block-${x.type||"blocked"}`,style:{left:H,width:Z,height:X.length*De},title:x.title,children:i.jsx("span",{className:"tl-time-block-label",children:x.title})},x.id)}),ie!==null&&i.jsx("div",{className:"tl-today-line",style:{left:ie,height:X.length*De},children:i.jsx("span",{className:"tl-today-label",children:"Today"})}),K!==null&&O&&i.jsx("div",{className:"tl-shelf-drop-indicator",style:{left:K,height:X.length*De}}),i.jsxs("svg",{className:"tl-dep-svg",style:{width:S,height:X.length*De},children:[je.map((x,L)=>{const B=x.source.pos.x+x.source.pos.width,I=x.source.rowIdx*De+De/2,z=x.target.pos.x,H=x.target.rowIdx*De+De/2,Z=(B+z)/2;return i.jsxs("g",{children:[i.jsx("path",{d:`M ${B} ${I} C ${Z} ${I}, ${Z} ${H}, ${z} ${H}`,fill:"none",stroke:x.violated?"#f85149":"#6e7681",strokeWidth:"1.5",strokeDasharray:x.violated?"":"4,3",opacity:x.violated?.8:.4}),i.jsx("polygon",{points:`${z},${H} ${z-6},${H-3} ${z-6},${H+3}`,fill:x.violated?"#f85149":"#6e7681",opacity:x.violated?.8:.4})]},L)}),T&&i.jsxs("g",{className:"tl-dep-drag-arrow",children:[i.jsx("path",{d:`M ${T.sourceX} ${T.sourceY} L ${T.mouseX} ${T.mouseY}`,fill:"none",stroke:"#4493f8",strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("polygon",{points:`${T.mouseX},${T.mouseY} ${T.mouseX-8},${T.mouseY-4} ${T.mouseX-8},${T.mouseY+4}`,fill:"#4493f8"}),i.jsx("circle",{cx:T.sourceX,cy:T.sourceY,r:"4",fill:"#4493f8"})]})]}),X.map((x,L)=>{if(x.type==="team")return i.jsx("div",{className:"tl-row tl-team-row",style:{height:De,top:L*De}},`team-row-${x.team.id}`);const B=(u==null?void 0:u.mode)==="move"&&w===L&&w!==u.origRowIdx;return i.jsx("div",{className:`tl-row ${B?"drag-target":""}`,style:{height:De,top:L*De},children:x.tasks.map(I=>{const z=ee(I),H=I.id===t||(n==null?void 0:n.has(I.id)),Z=(u==null?void 0:u.taskId)===I.id,ue=vr*G;return z.x+z.width<-ue||z.x>S+ue?null:i.jsxs("div",{className:`tl-bar ${I.type==="buffer"?"buffer":""} ${I.completed?"completed":""} ${H?"selected":""} ${Z?"dragging":""} ${z.clippedLeft?"clipped-left":""} ${z.clippedRight?"clipped-right":""}`,style:{left:z.x,width:z.width},onClick:se=>{se.stopPropagation(),d(I.id)},onDoubleClick:se=>{se.stopPropagation(),p&&p(I.id)},onContextMenu:se=>{se.preventDefault(),!T&&v&&v(I.id,se.clientX,se.clientY)},onMouseDown:se=>{se.button===2?it(se,I,L):se.button===0&&xe(se,I,"move",L)},children:[i.jsx("div",{className:"tl-bar-handle tl-bar-handle-left",onMouseDown:se=>xe(se,I,"resize-left",L)}),i.jsx("span",{className:"tl-bar-label",children:I.title}),I.estimate&&i.jsxs("span",{className:"tl-bar-est",children:[I.estimate,"d"]}),i.jsx("div",{className:"tl-bar-handle tl-bar-handle-right",onMouseDown:se=>xe(se,I,"resize-right",L)})]},I.id)})},`member-row-${x.member.id}-${x.subRow}`)})]})]})]}),Rt.length>0&&i.jsxs("div",{className:"tl-shelf",children:[i.jsxs("div",{className:"tl-shelf-header",children:["Unscheduled (",Rt.length,")"]}),i.jsx("div",{className:"tl-shelf-items",children:Rt.map(x=>{const L=x.id===t||(n==null?void 0:n.has(x.id));return i.jsxs("div",{className:`tl-shelf-item ${L?"selected":""} ${x.completed?"completed":""}`,draggable:!0,onDragStart:B=>{B.dataTransfer.effectAllowed="move",M(x.id)},onDragEnd:()=>{M(null),k(null)},onClick:()=>d(x.id),onDoubleClick:()=>p&&p(x.id),onContextMenu:B=>{B.preventDefault(),v&&v(x.id,B.clientX,B.clientY)},children:[i.jsx("span",{className:"tl-shelf-item-title",children:x.title}),x.estimate&&i.jsxs("span",{className:"tl-shelf-item-est",children:[x.estimate,"d"]})]},x.id)})})]})]})}function ri(e,t){if(e.length===0)return[];const n=[[]];return e.forEach(r=>{const s=r.startDate?new Date(r.startDate):r.dueDate?ye(new Date(r.dueDate),-(r.estimate||1)):t.start,l=r.dueDate?new Date(r.dueDate):ye(s,r.estimate||1);let a=!1;for(const o of n)if(!o.some(d=>{const p=d.startDate?new Date(d.startDate):d.dueDate?ye(new Date(d.dueDate),-(d.estimate||1)):t.start,v=d.dueDate?new Date(d.dueDate):ye(p,d.estimate||1);return s<v&&l>p})){o.push(r),a=!0;break}a||n.push([r])}),n}const Pd=[{id:"untriaged",label:"New / Untriaged",color:"#F59E0B"},{id:"backlog",label:"Backlog",color:"#6B7280"},{id:"triaged",label:"Triaged",color:"#4F81F5"},{id:"in_progress",label:"In Progress",color:"#BC52E6"},{id:"fixed",label:"Fixed",color:"#3FB950"},{id:"closed",label:"Closed",color:"#374151"}],ay=["P0","P1","P2","P3","P4"],oy=["Critical","High","Medium","Low"],uo=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"api",name:"API"},{id:"database",name:"Database"},{id:"auth",name:"Authentication"},{id:"infra",name:"Infrastructure"},{id:"other",name:"Other"}],cy=e=>{switch(e){case"P0":return"#DC2626";case"P1":return"#F59E0B";case"P2":return"#4F81F5";case"P3":return"#6B7280";case"P4":return"#9CA3AF";default:return"#6B7280"}},bd=e=>{switch(e){case"Critical":return"#DC2626";case"High":return"#F59E0B";case"Medium":return"#4F81F5";case"Low":return"#6B7280";default:return"#6B7280"}};function uy({todos:e,selectedId:t,selectedIds:n,showCompleted:r,onSelect:s,onDoubleClick:l,onContextMenu:a,onUpdate:o}){const[c,d]=D.useState(null),[p,v]=D.useState(null),[f,m]=D.useState(null),j=(b=>{const O=[],M=K=>{K.forEach(k=>{if(k.type==="bug"||k.type==="issue"){if(!r&&k.completed||c&&k.priority!==c||p&&k.severity!==p||f&&k.featureArea!==f)return;O.push(k)}k.children&&k.children.length>0&&M(k.children)})};return M(b),O})(e),h=(b=>{const O={};return Pd.forEach(M=>{O[M.id]=[]}),b.forEach(M=>{const K=M.triageStatus||"untriaged";O[K]&&O[K].push(M)}),O})(j),u=(b,O)=>{b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("bugId",O)},g=b=>{b.preventDefault()},w=(b,O)=>{b.preventDefault();const M=b.dataTransfer.getData("bugId");M&&o&&o(M,{triageStatus:O})},N=b=>b.id===t||n.has(b.id),T=b=>{if(!b.featureArea)return;const O=uo.find(M=>M.id===b.featureArea);O&&O.team&&o&&o(b.id,{assignee:O.team})};return i.jsxs("div",{className:"bug-view",children:[i.jsxs("div",{className:"bug-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Priority:"}),i.jsxs("select",{value:c||"",onChange:b=>d(b.target.value||null),children:[i.jsx("option",{value:"",children:"All Priorities"}),ay.map(b=>i.jsx("option",{value:b,children:b},b))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severity:"}),i.jsxs("select",{value:p||"",onChange:b=>v(b.target.value||null),children:[i.jsx("option",{value:"",children:"All Severities"}),oy.map(b=>i.jsx("option",{value:b,children:b},b))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Feature Area:"}),i.jsxs("select",{value:f||"",onChange:b=>m(b.target.value||null),children:[i.jsx("option",{value:"",children:"All Features"}),uo.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]})]}),i.jsxs("div",{className:"bug-stats",children:["Total Bugs: ",j.length]})]}),i.jsx("div",{className:"bug-columns",children:Pd.map(b=>{const O=h[b.id]||[];return i.jsxs("div",{className:"bug-column",onDragOver:g,onDrop:M=>w(M,b.id),children:[i.jsxs("div",{className:"bug-column-header",style:{borderTopColor:b.color},children:[i.jsx("h3",{children:b.label}),i.jsx("span",{className:"bug-count",children:O.length})]}),i.jsx("div",{className:"bug-column-content",children:O.length===0?i.jsx("div",{className:"bug-empty",children:"No bugs"}):O.map(M=>{var K;return i.jsxs("div",{className:`bug-card ${N(M)?"selected":""} ${M.completed?"completed":""}`,draggable:!0,onDragStart:k=>u(k,M.id),onClick:()=>s(M.id),onDoubleClick:()=>l&&l(M.id),onContextMenu:k=>{k.preventDefault(),a&&a(M.id,k.clientX,k.clientY)},children:[i.jsxs("div",{className:"bug-card-header",children:[i.jsxs("span",{className:"bug-number",children:["#",M.id]}),M.priority&&i.jsx("span",{className:"bug-priority",style:{backgroundColor:cy(M.priority)},children:M.priority}),M.severity&&i.jsx("span",{className:"bug-severity",style:{borderColor:bd(M.severity),color:bd(M.severity)},children:M.severity})]}),i.jsx("div",{className:"bug-title",children:M.title}),M.featureArea&&i.jsx("div",{className:"bug-feature",children:((K=uo.find(k=>k.id===M.featureArea))==null?void 0:K.name)||M.featureArea}),i.jsxs("div",{className:"bug-card-footer",children:[M.assignee&&M.assignee!=="unassigned"?i.jsx("span",{className:"bug-assignee",children:M.assignee}):i.jsx("button",{className:"bug-auto-route",onClick:k=>{k.stopPropagation(),T(M)},disabled:!M.featureArea,title:M.featureArea?"Auto-assign based on feature area":"Set feature area first",children:"Auto-route"}),M.dueDate&&i.jsx("span",{className:"bug-due",children:new Date(M.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},M.id)})})]},b.id)})})]})}const Ve={blue:"#4493f8",green:"#3fb950",orange:"#fb8500",red:"#f85149",purple:"#a371f7",teal:"#3ddbd9",gray:"#6e7681"},dy={task:Ve.blue,bug:Ve.red,feature:Ve.green,issue:Ve.orange,assignment:Ve.purple,chore:Ve.teal},fy={P0:Ve.red,P1:Ve.orange,P2:"#e3b341",P3:Ve.blue,P4:Ve.gray},Id=[Ve.blue,Ve.green,Ve.orange,Ve.purple,Ve.teal];function hy(e){const t=[],n=r=>{r.forEach(s=>{t.push(s),s.children&&s.children.length>0&&n(s.children)})};return n(e),t}function fo(e,t,n="down"){const r=[];let s=e;for(let l=t-1;l>=0;l--){r.push(s);const a=Math.floor(Math.random()*3)+1;n==="down"?s=s+a:s=Math.max(0,s-a)}return r.reverse()}function Rn({label:e,value:t,subtext:n}){return i.jsxs("div",{className:"analytics-stat-card",children:[i.jsx("div",{className:"analytics-stat-value",children:t}),i.jsx("div",{className:"analytics-stat-label",children:e}),n&&i.jsx("div",{className:"analytics-stat-subtext",children:n})]})}function Od({data:e,data2:t,label1:n,label2:r,color1:s,color2:l,height:a=200,dayLabels:o}){const c={top:20,right:20,bottom:30,left:40},d=500,p=d-c.left-c.right,v=a-c.top-c.bottom,f=[...e,...t||[]],m=Math.max(...f,1),E=0,j=w=>c.left+w/(e.length-1)*p,S=w=>c.top+v-(w-E)/(m-E)*v,h=w=>w.map((N,T)=>`${j(T)},${S(N)}`).join(" "),u=4,g=Array.from({length:u+1},(w,N)=>{const T=E+(m-E)/u*N;return{y:S(T),label:Math.round(T)}});return i.jsxs("svg",{viewBox:`0 0 ${d} ${a}`,className:"analytics-line-chart",children:[g.map((w,N)=>i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:w.y,x2:d-c.right,y2:w.y,stroke:"#2d333b",strokeWidth:"1"}),i.jsx("text",{x:c.left-6,y:w.y+4,textAnchor:"end",fill:"#6e7681",fontSize:"10",children:w.label})]},N)),o&&e.map((w,N)=>N%2!==0&&N!==e.length-1?null:i.jsx("text",{x:j(N),y:a-4,textAnchor:"middle",fill:"#6e7681",fontSize:"9",children:o[N]},N)),i.jsx("polyline",{points:h(e),fill:"none",stroke:s,strokeWidth:"2",strokeLinejoin:"round"}),t&&i.jsx("polyline",{points:h(t),fill:"none",stroke:l,strokeWidth:"2",strokeLinejoin:"round",strokeDasharray:"4,3"}),i.jsx("circle",{cx:j(e.length-1),cy:S(e[e.length-1]),r:"4",fill:s}),t&&i.jsx("circle",{cx:j(t.length-1),cy:S(t[t.length-1]),r:"4",fill:l}),n&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:8,x2:c.left+16,y2:8,stroke:s,strokeWidth:"2"}),i.jsx("text",{x:c.left+20,y:12,fill:"#e6edf3",fontSize:"10",children:n})]}),r&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left+100,y1:8,x2:c.left+116,y2:8,stroke:l,strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("text",{x:c.left+120,y:12,fill:"#e6edf3",fontSize:"10",children:r})]})]})}function ho({items:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.value),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsx("div",{className:"analytics-hbar-label",children:r.label}),i.jsx("div",{className:"analytics-hbar-track",children:i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.value/n*100}%`,background:r.color}})}),i.jsx("div",{className:"analytics-hbar-value",children:r.value})]},s))})}function py({members:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.completed+r.remaining),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsxs("div",{className:"analytics-hbar-label",children:[r.avatar," ",r.name]}),i.jsxs("div",{className:"analytics-hbar-track stacked",children:[i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.completed/n*100}%`,background:Ve.green},title:`${r.completed} completed`}),i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.remaining/n*100}%`,background:Ve.blue,opacity:.5},title:`${r.remaining} remaining`})]}),i.jsx("div",{className:"analytics-hbar-value",children:r.completed+r.remaining})]},s))})}function my({todos:e,teamMembers:t,showCompleted:n}){const[r,s]=D.useState("personal"),l=D.useMemo(()=>hy(e),[e]),a=D.useMemo(()=>{const f=l.length,m=l.filter(N=>N.completed).length,E=l.filter(N=>!N.completed&&N.dueDate&&new Date(N.dueDate)<new Date).length,j=f>0?Math.round(m/f*100):0,S={};l.forEach(N=>{const T=N.type||"task";S[T]=(S[T]||0)+1});const h={};l.forEach(N=>{N.priority&&(h[N.priority]=(h[N.priority]||0)+1)});const u={};l.forEach(N=>{const T=N.assignee||"unassigned";u[T]||(u[T]={total:0,completed:0}),u[T].total++,N.completed&&u[T].completed++});const g=l.filter(N=>N.type==="bug"||N.type==="issue"),w=g.filter(N=>N.completed||N.triageStatus==="fixed"||N.triageStatus==="closed").length;return{total:f,completed:m,overdue:E,completionPct:j,byType:S,byPriority:h,byAssignee:u,bugs:g.length,bugsResolved:w}},[l]),o=D.useMemo(()=>{const f=[];for(let m=13;m>=0;m--){const E=new Date;E.setDate(E.getDate()-m),f.push(`${E.getMonth()+1}/${E.getDate()}`)}return f},[]),c=D.useMemo(()=>fo(a.total-a.completed,14,"down"),[a]),d=D.useMemo(()=>fo(a.bugs,14,"down"),[a]),p=D.useMemo(()=>fo(a.bugsResolved,14,"down"),[a]),v=(t==null?void 0:t.filter(f=>f.enabled!==!1&&f.id!=="unassigned"))||[];return i.jsxs("div",{className:"analytics-view",children:[i.jsxs("div",{className:"analytics-tab-bar",children:[i.jsx("button",{className:`analytics-tab ${r==="personal"?"active":""}`,onClick:()=>s("personal"),children:"Personal"}),i.jsx("button",{className:`analytics-tab ${r==="team"?"active":""}`,onClick:()=>s("team"),children:"Team"})]}),r==="personal"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(Rn,{label:"Total Tasks",value:a.total}),i.jsx(Rn,{label:"Completed",value:a.completed}),i.jsx(Rn,{label:"Completion",value:`${a.completionPct}%`}),i.jsx(Rn,{label:"Overdue",value:a.overdue,subtext:a.overdue>0?"needs attention":"on track"})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Burndown (14 days)"}),i.jsx(Od,{data:c,label1:"Remaining",color1:Ve.blue,dayLabels:o})]}),i.jsxs("div",{className:"analytics-grid",children:[i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Type"}),i.jsx(ho,{items:Object.entries(a.byType).map(([f,m])=>({label:f.charAt(0).toUpperCase()+f.slice(1),value:m,color:dy[f]||Ve.gray}))})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Priority"}),i.jsx(ho,{items:["P0","P1","P2","P3","P4"].filter(f=>a.byPriority[f]).map(f=>({label:f,value:a.byPriority[f],color:fy[f]}))})]})]})]}),r==="team"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(Rn,{label:"Total Tasks",value:a.total}),i.jsx(Rn,{label:"Completed",value:a.completed}),i.jsx(Rn,{label:"Team Members",value:v.length}),i.jsx(Rn,{label:"Avg Tasks/Person",value:v.length>0?Math.round(a.total/v.length):0})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Workload by Member"}),i.jsx(py,{members:v.map(f=>{const m=a.byAssignee[f.id]||{total:0,completed:0};return{name:f.name,avatar:f.avatar,completed:m.completed,remaining:m.total-m.completed}})})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Bugs: Created vs Resolved (14 days)"}),i.jsx(Od,{data:d,data2:p,label1:"Created",label2:"Resolved",color1:Ve.red,color2:Ve.green,dayLabels:o})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Completion by Member"}),i.jsx(ho,{maxValue:100,items:v.map((f,m)=>{const E=a.byAssignee[f.id]||{total:0,completed:0},j=E.total>0?Math.round(E.completed/E.total*100):0;return{label:`${f.avatar} ${f.name}`,value:j,color:Id[m%Id.length]}})})]})]})]})}const _d={emails:{id:"ghost-emails",title:" Emails to Respond",type:"ghost",source:"email",icon:"",items:[{id:"email-1",title:"RE: Q1 Planning Review",from:"sarah@company.com",preview:"Can you review the draft budget by EOD?",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),url:"mailto:sarah@company.com",priority:"high"},{id:"email-2",title:"Design feedback needed",from:"design@company.com",preview:"New mockups for the dashboard redesign",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),url:"mailto:design@company.com",priority:"medium"},{id:"email-3",title:"Team offsite planning",from:"hr@company.com",preview:"Please fill out the preferences form",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"mailto:hr@company.com",priority:"low"}]},chats:{id:"ghost-chats",title:" Chat Messages",type:"ghost",source:"chat",icon:"",items:[{id:"chat-1",title:"#engineering - Deploy blocker",from:"Bob Smith",preview:"The staging deploy is failing, need help",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),url:"slack://channel?id=C123456",priority:"high",unread:!0},{id:"chat-2",title:"DM from Alice Chen",from:"Alice Chen",preview:"Can you review my PR when you get a chance?",timestamp:new Date(Date.now()-60*60*1e3).toISOString(),url:"slack://user?id=U789012",priority:"medium"}]},meetings:{id:"ghost-meetings",title:" Today's Meetings",type:"ghost",source:"calendar",icon:"",items:[{id:"meeting-1",title:"Daily Standup",startTime:"09:30",endTime:"09:45",attendees:["Team"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/123456789",priority:"medium"},{id:"meeting-2",title:"Sprint Planning",startTime:"14:00",endTime:"15:30",attendees:["Alice","Bob","Carol"],location:"Conference Room A",timestamp:new Date().toISOString(),url:"https://calendar.google.com/event/123",priority:"high"},{id:"meeting-3",title:"1:1 with Manager",startTime:"16:00",endTime:"16:30",attendees:["Manager"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/987654321",priority:"medium"}]},docsToReview:{id:"ghost-docs",title:" Docs to Review",type:"ghost",source:"docs",icon:"",items:[{id:"doc-1",title:"API Design Spec v2",from:"Carol White",preview:"Updated REST API design for user service",timestamp:new Date(Date.now()-3*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/abc123",priority:"high",actionRequired:"Review & approve"},{id:"doc-2",title:"Q1 Retrospective Notes",from:"Team",preview:"Please add your feedback by Friday",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/def456",priority:"medium",actionRequired:"Add feedback"}]},alerts:{id:"ghost-alerts",title:" Alerts & Monitoring",type:"ghost",source:"monitoring",icon:"",items:[{id:"alert-1",title:"High memory usage on prod-server-3",severity:"warning",preview:"Memory at 87%, investigate before it hits threshold",timestamp:new Date(Date.now()-15*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12345",priority:"high"},{id:"alert-2",title:"SSL certificate expiring in 14 days",severity:"info",preview:"api.company.com certificate needs renewal",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12346",priority:"medium"}]}};class gy{getGhostEntries(){return Promise.resolve({})}getGhostEntriesForDate(t){return Promise.resolve({})}dismissGhostItem(t,n){return console.log("Dismissed:",t,n),Promise.resolve()}promoteToTask(t,n){const r=_d[t];if(!r)return Promise.reject("Source not found");const s=r.items.find(l=>l.id===n);return s?Promise.resolve({title:s.title,description:s.preview||"",source:r.source,sourceUrl:s.url,priority:s.priority==="high"?"P0":s.priority==="medium"?"P1":"P2",createdFrom:"ghost"}):Promise.reject("Item not found")}getUnreadCount(){let t=0;return Object.values(_d).forEach(n=>{t+=n.items.length}),Promise.resolve(t)}}const Us=new gy,Md="timeBlocks",Ld=[{id:"tb1",title:"Focus Time",startTime:"09:00",endTime:"11:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0},{id:"tb2",title:"Email & Messages",startTime:"14:00",endTime:"15:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#fb8500",enabled:!0},{id:"tb3",title:"Team Sync",startTime:"10:00",endTime:"10:30",recurrence:"weekly",weekdays:[1,3],color:"#3fb950",enabled:!0}];class vy{constructor(){this.listeners=[],this.timeBlocks=this.loadTimeBlocks()}loadTimeBlocks(){try{const t=localStorage.getItem(Md);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load time blocks:",t)}return this.saveTimeBlocks(Ld),Ld}saveTimeBlocks(t){try{localStorage.setItem(Md,JSON.stringify(t)),this.timeBlocks=t,this.notifyListeners()}catch(n){console.error("Failed to save time blocks:",n)}}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.timeBlocks))}getTimeBlocks(){return Promise.resolve([...this.timeBlocks])}addTimeBlock(t){const n={id:`tb${Date.now()}`,...t,enabled:t.enabled!==!1};return this.saveTimeBlocks([...this.timeBlocks,n]),Promise.resolve(n)}updateTimeBlock(t,n){const r=this.timeBlocks.map(s=>s.id===t?{...s,...n}:s);return this.saveTimeBlocks(r),Promise.resolve(r.find(s=>s.id===t))}deleteTimeBlock(t){const n=this.timeBlocks.filter(r=>r.id!==t);return this.saveTimeBlocks(n),Promise.resolve()}getBlocksForDate(t){const n=t.getDay();return this.timeBlocks.filter(r=>{var s,l;if(!r.enabled)return!1;switch(r.recurrence){case"daily":return!0;case"weekdays":return n>=1&&n<=5;case"weekly":return(s=r.weekdays)==null?void 0:s.includes(n);case"custom":return(l=r.weekdays)==null?void 0:l.includes(n);default:return!1}})}isBlockActive(t,n=new Date){if(!this.getBlocksForDate(n).find(p=>p.id===t.id))return!1;const[s,l]=t.startTime.split(":").map(Number),[a,o]=t.endTime.split(":").map(Number),c=new Date(n);c.setHours(s,l,0,0);const d=new Date(n);return d.setHours(a,o,0,0),n>=c&&n<=d}}const dn=new vy;function yy({currentDate:e,onPromoteToTask:t,style:n}){const[r,s]=D.useState({}),[l,a]=D.useState([]),[o,c]=D.useState(new Set(["ghost-emails","ghost-meetings"]));D.useEffect(()=>(Us.getGhostEntriesForDate(e).then(h=>{s(h)}),dn.getTimeBlocks().then(h=>{a(h)}),dn.subscribe(h=>{a(h)})),[e]);const d=S=>{const h=new Set(o);h.has(S)?h.delete(S):h.add(S),c(h)},p=async(S,h)=>{try{const u=await Us.promoteToTask(S,h.id);t&&t(u),await Us.dismissGhostItem(S,h.id)}catch(u){console.error("Failed to promote item:",u)}},v=async(S,h)=>{await Us.dismissGhostItem(S,h);const u=await Us.getGhostEntriesForDate(e);s(u)},f=()=>dn.getBlocksForDate(e),m=S=>{const[h,u]=S.split(":").map(Number),g=h>=12?"PM":"AM";return`${h>12?h-12:h===0?12:h}:${u.toString().padStart(2,"0")} ${g}`},E=S=>{const h=new Date,u=new Date(S),g=h-u,w=Math.floor(g/(1e3*60)),N=Math.floor(g/(1e3*60*60)),T=Math.floor(g/(1e3*60*60*24));return w<1?"just now":w<60?`${w}m ago`:N<24?`${N}h ago`:T===1?"yesterday":`${T}d ago`},j=f();return i.jsxs("div",{className:"ghost-entries",style:n,children:[j.length>0&&i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header",children:[i.jsx("span",{className:"ghost-section-icon",children:""}),i.jsx("h3",{className:"ghost-section-title",children:"Time Blocks Today"}),i.jsx("span",{className:"ghost-count",children:j.length})]}),i.jsx("div",{className:"time-blocks-list",children:j.map(S=>{const h=dn.isBlockActive(S,e);return i.jsxs("div",{className:`time-block-item ${h?"active":""}`,style:{borderLeftColor:S.color},children:[i.jsxs("div",{className:"time-block-time",children:[m(S.startTime)," - ",m(S.endTime)]}),i.jsx("div",{className:"time-block-title",children:S.title}),h&&i.jsx("span",{className:"time-block-badge",children:"Now"})]},S.id)})})]}),Object.entries(r).map(([S,h])=>{var w;const u=o.has(h.id),g=((w=h.items)==null?void 0:w.length)||0;return g===0?null:i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header clickable",onClick:()=>d(h.id),children:[i.jsx("span",{className:"ghost-section-icon",children:h.icon}),i.jsx("h3",{className:"ghost-section-title",children:h.title}),i.jsx("span",{className:"ghost-count",children:g}),i.jsx("span",{className:"expand-icon",children:u?"":""})]}),u&&i.jsx("div",{className:"ghost-items-list",children:h.items.map(N=>i.jsxs("div",{className:`ghost-item priority-${N.priority||"medium"}`,children:[i.jsxs("div",{className:"ghost-item-header",children:[i.jsxs("div",{className:"ghost-item-title",children:[N.title,N.unread&&i.jsx("span",{className:"unread-badge",children:""})]}),i.jsx("div",{className:"ghost-item-time",children:N.startTime?m(N.startTime):E(N.timestamp)})]}),N.from&&i.jsxs("div",{className:"ghost-item-from",children:["From: ",N.from]}),N.preview&&i.jsx("div",{className:"ghost-item-preview",children:N.preview}),N.attendees&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",N.attendees.join(", ")]}),N.location&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",N.location]}),N.actionRequired&&i.jsxs("div",{className:"ghost-item-action",children:[" ",N.actionRequired]}),i.jsxs("div",{className:"ghost-item-actions",children:[N.url&&i.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"ghost-action-btn ghost-action-open",onClick:T=>T.stopPropagation(),children:"Open"}),i.jsx("button",{className:"ghost-action-btn ghost-action-promote",onClick:()=>p(S,N),title:"Convert to task",children:" Create Task"}),i.jsx("button",{className:"ghost-action-btn ghost-action-dismiss",onClick:()=>v(S,N.id),title:"Dismiss",children:""})]})]},N.id))})]},h.id)})]})}const Rd=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ad=[{value:"daily",label:"Every day"},{value:"weekdays",label:"Weekdays (Mon-Fri)"},{value:"weekly",label:"Weekly on selected days"},{value:"custom",label:"Custom days"}];function xy({isOpen:e,onClose:t}){const[n,r]=D.useState([]),[s,l]=D.useState(null),[a,o]=D.useState(!1);D.useEffect(()=>(e&&c(),dn.subscribe(h=>{r(h)})),[e]);const c=async()=>{const S=await dn.getTimeBlocks();r(S)},d=()=>{l({id:null,title:"",startTime:"09:00",endTime:"10:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0}),o(!0)},p=async()=>{s&&(s.id?await dn.updateTimeBlock(s.id,s):await dn.addTimeBlock(s),l(null),o(!1),await c())},v=async S=>{confirm("Delete this time block?")&&(await dn.deleteTimeBlock(S),await c())},f=async S=>{await dn.updateTimeBlock(S.id,{enabled:!S.enabled})},m=()=>{l(null),o(!1)},E=S=>{l({...S}),o(!1)},j=S=>{if(!s)return;const h=s.weekdays||[],u=h.includes(S)?h.filter(g=>g!==S):[...h,S].sort();l({...s,weekdays:u})};return e?i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"time-block-manager",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:" Time Block Manager"}),i.jsx("button",{className:"close-btn",onClick:t,children:i.jsx(mr,{size:18})})]}),i.jsxs("div",{className:"modal-content",children:[!s&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"modal-description",children:"Create recurring time blocks to reserve focused time, meetings, or other scheduled activities."}),i.jsxs("div",{className:"time-block-list",children:[n.length===0&&i.jsx("div",{className:"empty-state",children:"No time blocks yet. Create one to get started!"}),n.map(S=>{var h,u;return i.jsxs("div",{className:"time-block-card",children:[i.jsx("div",{className:"time-block-color-bar",style:{backgroundColor:S.color}}),i.jsxs("div",{className:"time-block-info",children:[i.jsxs("div",{className:"time-block-title-row",children:[i.jsx("h4",{children:S.title}),i.jsxs("label",{className:"toggle-switch-small",children:[i.jsx("input",{type:"checkbox",checked:S.enabled,onChange:()=>f(S)}),i.jsx("span",{className:"toggle-slider-small"})]})]}),i.jsxs("div",{className:"time-block-time-display",children:[S.startTime," - ",S.endTime]}),i.jsxs("div",{className:"time-block-recurrence",children:[(h=Ad.find(g=>g.value===S.recurrence))==null?void 0:h.label,(S.recurrence==="weekly"||S.recurrence==="custom")&&i.jsxs("span",{className:"time-block-days",children:[" "," ",(u=S.weekdays)==null?void 0:u.map(g=>Rd[g]).join(", ")]})]})]}),i.jsxs("div",{className:"time-block-actions",children:[i.jsx("button",{className:"icon-btn",onClick:()=>E(S),title:"Edit",children:""}),i.jsx("button",{className:"icon-btn",onClick:()=>v(S.id),title:"Delete",children:""})]})]},S.id)})]}),i.jsxs("button",{className:"create-block-btn",onClick:d,children:[i.jsx(bn,{size:16}),"Create Time Block"]})]}),s&&i.jsxs("div",{className:"time-block-editor",children:[i.jsx("h3",{children:a?"Create Time Block":"Edit Time Block"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Title"}),i.jsx("input",{type:"text",value:s.title,onChange:S=>l({...s,title:S.target.value}),placeholder:"e.g., Focus Time, Team Meeting",autoFocus:!0})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Start Time"}),i.jsx("input",{type:"time",value:s.startTime,onChange:S=>l({...s,startTime:S.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"End Time"}),i.jsx("input",{type:"time",value:s.endTime,onChange:S=>l({...s,endTime:S.target.value})})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Recurrence"}),i.jsx("select",{value:s.recurrence,onChange:S=>l({...s,recurrence:S.target.value}),children:Ad.map(S=>i.jsx("option",{value:S.value,children:S.label},S.value))})]}),(s.recurrence==="weekly"||s.recurrence==="custom")&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Days of Week"}),i.jsx("div",{className:"weekday-picker",children:Rd.map((S,h)=>{var u;return i.jsx("button",{className:`weekday-btn ${(u=s.weekdays)!=null&&u.includes(h)?"selected":""}`,onClick:()=>j(h),type:"button",children:S},h)})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Color"}),i.jsx("div",{className:"color-picker",children:["#4493f8","#3fb950","#fb8500","#f85149","#8b949e","#a371f7"].map(S=>i.jsx("button",{className:`color-btn ${s.color===S?"selected":""}`,style:{backgroundColor:S},onClick:()=>l({...s,color:S}),type:"button"},S))})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"btn-secondary",onClick:m,children:"Cancel"}),i.jsx("button",{className:"btn-primary",onClick:p,disabled:!s.title.trim(),children:a?"Create":"Save"})]})]})]})]})}):null}const Dp=[{id:"document",label:"Document",icon:""},{id:"wiki",label:"Wiki",icon:""},{id:"spec",label:"Spec",icon:""},{id:"drive",label:"Team Drive",icon:""},{id:"dashboard",label:"Dashboard",icon:""},{id:"repo",label:"Code Repo",icon:""},{id:"database",label:"Database",icon:""},{id:"release",label:"Release",icon:""},{id:"budget",label:"Budget",icon:""},{id:"financial",label:"Financial",icon:""},{id:"tool",label:"Tool",icon:""},{id:"architecture",label:"Architecture",icon:""},{id:"other",label:"Other",icon:""}],zd=[{id:"public",label:"Public"},{id:"team-only",label:"Team Only"},{id:"restricted",label:"Restricted"}],wy=e=>{const t=Dp.find(n=>n.id===e);return t?t.icon:""};function Np({node:e,depth:t,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o}){var E;const c=r.has(e.id),d=e.id===n,p=e.children&&e.children.length>0,v=(E=e.oncall)!=null&&E.enabled?vp(e.oncall):null,f=v?o.find(j=>j.id===v):null,m=(e.resources||[]).length;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`ft-node ${d?"selected":""}`,style:{paddingLeft:`${12+t*20}px`},onClick:()=>s(e.id),children:[i.jsx("span",{className:"ft-node-chevron",onClick:j=>{j.stopPropagation(),p&&l(e.id)},children:p?c?i.jsx(Ll,{size:14}):i.jsx(Da,{size:14}):i.jsx("span",{style:{width:14,display:"inline-block"}})}),i.jsx("span",{className:"ft-node-name",children:e.name}),i.jsxs("span",{className:"ft-node-badges",children:[m>0&&i.jsx("span",{className:"ft-node-resource-count",title:`${m} resources`,children:m}),e.memberIds&&e.memberIds.length>0&&i.jsx("span",{className:"ft-node-member-count",children:e.memberIds.length}),f&&i.jsx("span",{className:"ft-node-oncall",title:`Oncall: ${f.name}`,children:f.avatar})]}),i.jsx("button",{className:"ft-node-add-child",title:"Add child feature",onClick:j=>{j.stopPropagation(),a(e.id)},children:i.jsx(bn,{size:12})})]}),c&&p&&e.children.map(j=>i.jsx(Np,{node:j,depth:t+1,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o},j.id))]})}function ky({node:e}){const[t,n]=D.useState(""),[r,s]=D.useState(""),[l,a]=D.useState("other"),[o,c]=D.useState("public"),d=e.resources||[],p=()=>{t.trim()&&(hn().addResource(e.id,{label:t.trim(),url:r.trim(),type:l,visibility:o}),n(""),s(""),a("other"),c("public"))},v=m=>{hn().removeResource(e.id,m)},f=(m,E)=>{hn().updateResource(e.id,m,{visibility:E})};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Resources"}),d.length>0?i.jsx("div",{className:"ft-resource-list",children:d.map(m=>i.jsxs("div",{className:"ft-resource-row",children:[i.jsx("span",{className:"ft-resource-icon",children:wy(m.type)}),i.jsx("span",{className:"ft-resource-label",children:m.url&&m.url!=="#"?i.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"ft-resource-link",children:m.label}):m.label}),i.jsx("select",{className:"ft-resource-visibility","data-visibility":m.visibility,value:m.visibility,onChange:E=>f(m.id,E.target.value),children:zd.map(E=>i.jsx("option",{value:E.id,children:E.label},E.id))}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>v(m.id),children:i.jsx(mr,{size:12})})]},m.id))}):i.jsx("div",{className:"ft-muted",children:"No resources yet."}),i.jsxs("div",{className:"ft-resource-add",children:[i.jsx("input",{type:"text",className:"ft-input",placeholder:"Label",value:t,onChange:m=>n(m.target.value),onKeyDown:m=>{m.key==="Enter"&&p()}}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"URL (optional)",value:r,onChange:m=>s(m.target.value),onKeyDown:m=>{m.key==="Enter"&&p()}}),i.jsx("select",{className:"ft-select ft-select-sm",value:l,onChange:m=>a(m.target.value),children:Dp.map(m=>i.jsxs("option",{value:m.id,children:[m.icon," ",m.label]},m.id))}),i.jsx("select",{className:"ft-select ft-select-sm",value:o,onChange:m=>c(m.target.value),children:zd.map(m=>i.jsx("option",{value:m.id,children:m.label},m.id))}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:p,disabled:!t.trim(),children:"Add"})]})]})}function jy({node:e,featureTree:t,onSelectNode:n}){const[r,s]=D.useState(""),l=e.partnerTeamIds||[],a=D.useMemo(()=>{const p=[],v=f=>{for(const m of f)p.push(m),m.children&&v(m.children)};return v(t),p},[t]),o=a.filter(p=>p.id!==e.id&&!l.includes(p.id)),c=()=>{r&&(hn().addPartnerTeam(e.id,r),s(""))},d=p=>{hn().removePartnerTeam(e.id,p)};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Partner Teams"}),l.length>0?i.jsx("div",{className:"ft-partner-list",children:l.map(p=>{const v=a.find(f=>f.id===p);return v?i.jsxs("div",{className:"ft-partner-row",children:[i.jsx("span",{className:"ft-partner-link",onClick:()=>n(p),title:"Navigate to this team",children:v.name}),i.jsxs("span",{className:"ft-partner-member-count",children:[(v.memberIds||[]).length," members"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>d(p),children:i.jsx(mr,{size:12})})]},p):null})}):i.jsx("div",{className:"ft-muted",children:"No partner teams linked."}),o.length>0&&i.jsxs("div",{className:"ft-partner-add",children:[i.jsxs("select",{className:"ft-select",value:r,onChange:p=>s(p.target.value),children:[i.jsx("option",{value:"",children:"Link a partner team..."}),o.map(p=>i.jsx("option",{value:p.id,children:p.name},p.id))]}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:c,disabled:!r,children:"Link"})]})]})}function Sy({node:e,teamMembers:t,onUpdate:n}){const r=e.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:"",memberOrder:[],overrides:[]},[s,l]=D.useState(""),[a,o]=D.useState(""),[c,d]=D.useState(null),p=r.enabled?vp(r):null,v=p?t.find(w=>w.id===p):null,f=r.enabled?Dv(r,8):[],m=w=>{n({oncall:{...r,...w}})},E=()=>{if(!s)return;const w=new Date().toISOString().slice(0,10),N=[...r.overrides||[],{date:w,memberId:s,reason:a}];m({overrides:N}),l(""),o("")},j=w=>{const N=r.overrides.filter((T,b)=>b!==w);m({overrides:N})},S=w=>d(w),h=(w,N)=>{if(w.preventDefault(),c===null||c===N)return;const T=[...r.memberOrder],[b]=T.splice(c,1);T.splice(N,0,b),m({memberOrder:T}),d(N)},u=()=>d(null),g=t.filter(w=>e.memberIds&&e.memberIds.includes(w.id));return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Oncall Schedule"}),i.jsxs("label",{className:"ft-toggle-row",children:[i.jsx("input",{type:"checkbox",checked:r.enabled,onChange:w=>m({enabled:w.target.checked})}),i.jsx("span",{children:"Enable oncall rotation"})]}),r.enabled&&i.jsxs(i.Fragment,{children:[v&&i.jsxs("div",{className:"ft-oncall-current",children:[i.jsx("span",{className:"ft-oncall-current-avatar",children:v.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"ft-oncall-current-label",children:"Currently on call"}),i.jsx("div",{className:"ft-oncall-current-name",children:v.name})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Rotation"}),i.jsxs("select",{className:"ft-select",value:r.rotationPeriod,onChange:w=>m({rotationPeriod:w.target.value}),children:[i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"biweekly",children:"Biweekly"})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Start date"}),i.jsx("input",{type:"date",className:"ft-input",value:r.startDate||"",onChange:w=>m({startDate:w.target.value})})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Rotation Order"}),r.memberOrder&&r.memberOrder.length>0?i.jsx("div",{className:"ft-oncall-order",children:r.memberOrder.map((w,N)=>{const T=t.find(b=>b.id===w);return T?i.jsxs("div",{className:`ft-oncall-order-item ${c===N?"dragging":""}`,draggable:!0,onDragStart:()=>S(N),onDragOver:b=>h(b,N),onDragEnd:u,children:[i.jsx("span",{className:"ft-oncall-order-index",children:N+1}),i.jsx("span",{children:T.avatar}),i.jsx("span",{children:T.name})]},w):null})}):i.jsx("div",{className:"ft-muted",children:"No members in rotation. Add team members first."})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Manual Override"}),i.jsxs("div",{className:"ft-oncall-override",children:[i.jsxs("select",{className:"ft-select",value:s,onChange:w=>l(w.target.value),children:[i.jsx("option",{value:"",children:"Select person..."}),g.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))]}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"Reason (optional)",value:a,onChange:w=>o(w.target.value),onKeyDown:w=>{w.key==="Enter"&&E()}}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:E,disabled:!s,children:"Set"})]}),r.overrides&&r.overrides.length>0&&i.jsx("div",{className:"ft-oncall-override-history",children:r.overrides.map((w,N)=>{const T=t.find(b=>b.id===w.memberId);return i.jsxs("div",{className:"ft-oncall-override-row",children:[i.jsx("span",{children:w.date}),i.jsx("span",{children:T?`${T.avatar} ${T.name}`:w.memberId}),w.reason&&i.jsxs("span",{className:"ft-muted",children:["(",w.reason,")"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>j(N),children:i.jsx(mr,{size:12})})]},N)})})]}),f.length>0&&i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Upcoming Schedule"}),i.jsxs("table",{className:"ft-schedule-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Period"}),i.jsx("th",{children:"On Call"})]})}),i.jsx("tbody",{children:f.map((w,N)=>{const T=t.find(M=>M.id===w.memberId),b=w.startDate.toLocaleDateString("en-US",{month:"short",day:"numeric"}),O=w.endDate.toLocaleDateString("en-US",{month:"short",day:"numeric"});return i.jsxs("tr",{className:w.isCurrent?"ft-schedule-current":"",children:[i.jsxs("td",{children:[b," - ",O]}),i.jsx("td",{children:T?`${T.avatar} ${T.name}`:w.memberId})]},N)})})]})]})]})]})}function Dy({node:e,teamMembers:t,featureTree:n,onUpdate:r,onDelete:s,onSelectNode:l}){const a=t.filter(c=>c.id!=="unassigned"),o=c=>{const d=e.memberIds||[];let p;if(d.includes(c)){p=d.filter(f=>f!==c);const v=e.oncall;if(v&&v.memberOrder){const f=v.memberOrder.filter(m=>m!==c);r({memberIds:p,oncall:{...v,memberOrder:f}});return}}else{p=[...d,c];const v=e.oncall;if(v&&v.memberOrder){const f=[...v.memberOrder,c];r({memberIds:p,oncall:{...v,memberOrder:f}});return}}r({memberIds:p})};return i.jsxs("div",{className:"ft-detail-panel",children:[i.jsxs("div",{className:"ft-detail-header",children:[i.jsx("h2",{className:"ft-detail-title",children:e.name}),i.jsx("button",{className:"ft-btn ft-btn-danger",onClick:s,title:"Delete this feature",children:i.jsx(mr,{size:14})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Name"}),i.jsx("input",{type:"text",className:"ft-input ft-input-full",value:e.name,onChange:c=>r({name:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Description"}),i.jsx("textarea",{className:"ft-textarea",rows:3,placeholder:"Describe this feature area...",value:e.description||"",onChange:c=>r({description:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsxs("h3",{children:[i.jsx(ac,{size:14})," Members"]}),i.jsx("div",{className:"ft-member-list",children:a.map(c=>{const d=(e.memberIds||[]).includes(c.id);return i.jsxs("label",{className:`ft-member-row ${d?"active":""}`,children:[i.jsx("input",{type:"checkbox",checked:d,onChange:()=>o(c.id)}),i.jsx("span",{className:"ft-member-avatar",children:c.avatar}),i.jsx("span",{className:"ft-member-name",children:c.name})]},c.id)})})]}),i.jsx(ky,{node:e}),i.jsx(jy,{node:e,featureTree:n,onSelectNode:l}),i.jsx(Sy,{node:e,teamMembers:t,onUpdate:c=>r(c)})]})}function Ny({featureTree:e,teamMembers:t,onUpdateNode:n,onAddNode:r,onDeleteNode:s}){const[l,a]=D.useState(null),[o,c]=D.useState(()=>new Set(e.map(S=>S.id))),d=D.useCallback((S,h)=>{for(const u of h){if(u.id===S)return u;if(u.children&&u.children.length>0){const g=d(S,u.children);if(g)return g}}return null},[]),p=D.useMemo(()=>l?d(l,e):null,[l,e,d]),v=D.useCallback(S=>{c(h=>{const u=new Set(h);return u.has(S)?u.delete(S):u.add(S),u})},[]),f=D.useCallback(S=>{r(S,{name:"New Feature"}),S&&c(h=>{const u=new Set(h);return u.add(S),u})},[r]),m=D.useCallback(()=>{r(null,{name:"New Feature"})},[r]),E=D.useCallback(()=>{l&&(s(l),a(null))},[l,s]),j=D.useCallback(S=>{a(S);const h=(g,w,N=[])=>{for(const T of g){if(T.id===w)return N;if(T.children&&T.children.length>0){const b=h(T.children,w,[...N,T.id]);if(b)return b}}return null},u=h(e,S);u&&u.length>0&&c(g=>{const w=new Set(g);return u.forEach(N=>w.add(N)),w})},[e]);return i.jsxs("div",{className:"ft-view",children:[i.jsxs("div",{className:"ft-tree-panel",children:[i.jsx("div",{className:"ft-tree-toolbar",children:i.jsxs("button",{className:"ft-btn",onClick:m,children:[i.jsx(bn,{size:14})," Add Feature"]})}),i.jsxs("div",{className:"ft-tree-list",children:[e.map(S=>i.jsx(Np,{node:S,depth:0,selectedNodeId:l,expandedNodeIds:o,onSelect:a,onToggleExpand:v,onAddChild:f,teamMembers:t},S.id)),e.length===0&&i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"No features yet. Add one to get started."})]})]})]}),p?i.jsx(Dy,{node:p,teamMembers:t,featureTree:e,onUpdate:S=>n(p.id,S),onDelete:E,onSelectNode:j},p.id):i.jsx("div",{className:"ft-detail-panel ft-empty-detail",children:i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"Select a feature to view details"})]})})]})}function Fd({person:e,onEdit:t,onDelete:n}){const[r,s]=D.useState(!1),[l,a]=D.useState(e.name),[o,c]=D.useState(e.email||""),[d,p]=D.useState(e.avatar),[v,f]=D.useState(!1),m=()=>{t(e.id,{name:l.trim()||e.name,email:o.trim(),avatar:d}),s(!1),f(!1)},E=()=>{a(e.name),c(e.email||""),p(e.avatar),s(!1),f(!1)},j=()=>{ls().toggleEnabled(e.id)};return r?i.jsxs("div",{className:"ppl-card editing",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>f(!v),children:d}),v&&i.jsx("div",{className:"ppl-avatar-picker",children:mp.map(S=>i.jsx("button",{className:`ppl-avatar-option ${S===d?"selected":""}`,onClick:()=>{p(S),f(!1)},children:S},S))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:l,onChange:S=>a(S.target.value),onKeyDown:S=>{S.key==="Enter"&&m(),S.key==="Escape"&&E()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:o,onChange:S=>c(S.target.value),onKeyDown:S=>{S.key==="Enter"&&m(),S.key==="Escape"&&E()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:m,children:[i.jsx(lv,{size:12})," Save"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:E,children:"Cancel"})]})]}):i.jsxs("div",{className:`ppl-card ${e.enabled?"":"disabled"} ${e.isSystem?"system":""}`,children:[i.jsx("div",{className:"ppl-card-avatar",children:e.avatar}),i.jsxs("div",{className:"ppl-card-info",children:[i.jsx("div",{className:"ppl-card-name",children:e.name}),e.email&&i.jsx("div",{className:"ppl-card-email",children:e.email}),e.isSystem&&i.jsx("div",{className:"ppl-card-badge",children:"System"})]}),i.jsx("div",{className:"ppl-card-actions",children:!e.isSystem&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:`ppl-toggle ${e.enabled?"on":"off"}`,onClick:j,title:e.enabled?"Disable":"Enable",children:e.enabled?"Enabled":"Disabled"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:()=>s(!0),children:"Edit"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm ppl-btn-danger",onClick:()=>n(e.id),children:i.jsx(mr,{size:12})})]})})]})}function Ey({onAdd:e}){const[t,n]=D.useState(!1),[r,s]=D.useState(""),[l,a]=D.useState(""),[o,c]=D.useState(""),[d,p]=D.useState(!1),v=()=>{r.trim()&&(e({name:r.trim(),email:l.trim(),avatar:o}),s(""),a(""),c(""),n(!1))},f=()=>{s(""),a(""),c(""),n(!1),p(!1)};return t?i.jsxs("div",{className:"ppl-card editing new",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>p(!d),children:o}),d&&i.jsx("div",{className:"ppl-avatar-picker",children:mp.map(m=>i.jsx("button",{className:`ppl-avatar-option ${m===o?"selected":""}`,onClick:()=>{c(m),p(!1)},children:m},m))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:r,onChange:m=>s(m.target.value),onKeyDown:m=>{m.key==="Enter"&&v(),m.key==="Escape"&&f()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:l,onChange:m=>a(m.target.value),onKeyDown:m=>{m.key==="Enter"&&v(),m.key==="Escape"&&f()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:v,disabled:!r.trim(),children:[i.jsx(bn,{size:12})," Add"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:f,children:"Cancel"})]})]}):i.jsxs("button",{className:"ppl-add-btn",onClick:()=>n(!0),children:[i.jsx(bn,{size:16})," Add Person"]})}function Cy({people:e}){const[t,n]=D.useState(null),r=(p,v)=>{ls().updatePerson(p,v)},s=p=>{ls().addPerson(p)},l=p=>{n(p)},a=()=>{t&&(ls().deletePerson(t),n(null))},o=t?e.find(p=>p.id===t):null,c=e.filter(p=>!p.isSystem),d=e.filter(p=>p.isSystem);return i.jsxs("div",{className:"ppl-view",children:[i.jsxs("div",{className:"ppl-header",children:[i.jsx("h2",{className:"ppl-title",children:"People"}),i.jsxs("div",{className:"ppl-stats",children:[c.filter(p=>p.enabled).length," active / ",c.length," total"]})]}),i.jsxs("div",{className:"ppl-content",children:[i.jsx("div",{className:"ppl-section",children:i.jsx(Ey,{onAdd:s})}),i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"Team Members"}),i.jsxs("div",{className:"ppl-list",children:[c.map(p=>i.jsx(Fd,{person:p,onEdit:r,onDelete:l},p.id)),c.length===0&&i.jsx("div",{className:"ppl-empty",children:"No team members yet. Add someone to get started."})]})]}),d.length>0&&i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"System"}),i.jsx("div",{className:"ppl-list",children:d.map(p=>i.jsx(Fd,{person:p,onEdit:r,onDelete:l},p.id))})]})]}),t&&o&&i.jsx("div",{className:"ppl-modal-overlay",onClick:()=>n(null),children:i.jsxs("div",{className:"ppl-modal",onClick:p=>p.stopPropagation(),children:[i.jsx("div",{className:"ppl-modal-title",children:"Delete Person"}),i.jsxs("div",{className:"ppl-modal-body",children:["Are you sure you want to remove ",i.jsx("strong",{children:o.name}),"? This will not affect their existing task assignments."]}),i.jsxs("div",{className:"ppl-modal-actions",children:[i.jsx("button",{className:"ppl-btn",onClick:()=>n(null),children:"Cancel"}),i.jsx("button",{className:"ppl-btn ppl-btn-danger",onClick:a,children:"Delete"})]})]})})]})}const Ep=D.createContext(null);function Ty({children:e}){const[t,n]=D.useState(!1),[r,s]=D.useState(!1),[l,a]=D.useState(!1),[o,c]=D.useState("idle"),[d,p]=D.useState(0),[v,f]=D.useState(null),[m,E]=D.useState(!1),j=Na(),S=vv();D.useEffect(()=>{(async()=>{E(S.hasClientId()),a(!0)})();const b=j.on("sync-state-changed",({state:M})=>{c(M)}),O=j.on("queue-changed",({pendingCount:M})=>{p(M)});return()=>{b(),O()}},[j,S]),D.useEffect(()=>S.hasClientId()?S.onStateChange(b=>{switch(b.type){case"authenticated":n(!0),s(!1),f(null);break;case"signed-out":n(!1);break;case"token-expired":n(!1),f("Session expired. Please sign in again.");break;case"auth-error":f(b.error),s(!1);break;case"write-conflict":f("Write conflict detected. A backup was saved to Google Drive.");break}}):void 0,[S]);const h=D.useCallback(async()=>{if(!S.hasClientId()){f("Google Cloud Client ID not configured");return}s(!0),f(null);try{await S.authenticate(),j.setRemoteProvider(S),n(!0),await j.fullSync()}catch(T){console.error("Sign in failed:",T),f(T.message||"Sign in failed")}finally{s(!1)}},[S,j]),u=D.useCallback(async()=>{try{await S.signOut(),j.setRemoteProvider(null),n(!1),f(null)}catch(T){console.error("Sign out failed:",T)}},[S,j]),g=D.useCallback(async()=>{if(t)try{await j.fullSync()}catch(T){console.error("Sync failed:",T),f(T.message||"Sync failed")}},[t,j]),w=D.useCallback(()=>{f(null)},[]),N={isAuthenticated:t,isLoading:r,isInitialized:l,syncState:o,pendingCount:d,error:v,hasClientId:m,signIn:h,signOut:u,syncNow:g,clearError:w};return i.jsx(Ep.Provider,{value:N,children:e})}function Cp(){const e=D.useContext(Ep);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Py({className:e=""}){const{isAuthenticated:t,isLoading:n,signIn:r,signOut:s,hasClientId:l,error:a}=Cp();return l?n?i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-loading",disabled:!0,children:"Connecting..."})}):t?i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-signout",onClick:s,children:"Sign Out"})}):i.jsxs("div",{className:`auth-btn-container ${e}`,children:[i.jsx("button",{className:"auth-btn auth-btn-signin",onClick:r,children:"Sync with Google Drive"}),a&&i.jsx("div",{className:"auth-error",children:a})]}):i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-disabled",disabled:!0,title:"Configure VITE_GOOGLE_CLIENT_ID to enable",children:"Cloud Sync (Not Configured)"})})}function by({className:e=""}){const{isAuthenticated:t,syncState:n,pendingCount:r,syncNow:s,error:l,clearError:a}=Cp();if(!t)return null;const o=()=>{switch(n){case"syncing":return"";case"error":return"";case"offline":return"";default:return r>0?"":""}},c=()=>{switch(n){case"syncing":return"Syncing...";case"error":return"Sync error";case"offline":return"Offline";default:return r>0?`${r} pending`:"Synced"}},d=()=>{l&&a(),n!=="syncing"&&s()};return i.jsx("div",{className:`sync-status ${e}`,children:i.jsxs("button",{className:`sync-status-btn sync-state-${n}`,onClick:d,title:l||`Click to sync now. Status: ${c()}`,children:[i.jsx("span",{className:"sync-icon",children:o()}),i.jsx("span",{className:"sync-text",children:c()})]})})}const kn=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Tp=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},$r=e=>{const t=new Date(e);return t.setHours(23,59,59,999),t},$d=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},Iy=(e,t)=>kn(e,t*7),Oy=(e,t)=>kn(e,t*14),_y=e=>{const t=new Date(e),r=t.getMonth()<6?0:6;return t.setMonth(r),t.setDate(1),t.setHours(0,0,0,0),t},Bd=(e,t)=>{const n=new Date(e);return n.setMonth(n.getMonth()+t*6),n},My=e=>{const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t},Wd=(e,t)=>{const n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},ji=(e,t=0)=>{const n=new Date;switch(e){case"day":{const r=Tp(kn(n,t)),s=$r(kn(n,t));return{start:r,end:s}}case"week":{const r=$d(n),s=Iy(r,t),l=$r(kn(s,6));return{start:s,end:l}}case"sprint":{const r=new Date("2024-01-01"),s=$d(n),l=Math.floor((s-r)/(1e3*60*60*24*7)),o=Math.floor(l/2)+t,c=Oy(r,o),d=$r(kn(c,13));return{start:c,end:d}}case"half":{const r=_y(n),s=Bd(r,t),l=$r(kn(Bd(s,1),-1));return{start:s,end:l}}case"year":{const r=My(n),s=Wd(r,t),l=$r(kn(Wd(s,1),-1));return{start:s,end:l}}case"global":default:return{start:new Date(0),end:new Date("2100-01-01")}}},si=(e,t=0)=>e==="global"?null:ji(e,t).end;function Ly(){const e=D.useMemo(()=>Cv(["1","2"]),[]),[t,n]=D.useState([]),[r,s]=D.useState(new Set(["1","2"])),[l,a]=D.useState(null),[o,c]=D.useState(new Set),[d,p]=D.useState(!0),[v,f]=D.useState(""),[m,E]=D.useState(!1),[j,S]=D.useState("day"),[h,u]=D.useState(0),[g,w]=D.useState(null),[N,T]=D.useState(null),[b,O]=D.useState("middle"),[M,K]=D.useState(null),[k,Y]=D.useState("personal"),[me,le]=D.useState(null),[Ke,Fe]=D.useState(!1),[We,Q]=D.useState(!1),[$,G]=D.useState(400),ce=D.useRef(!1),oe=D.useRef(null),be=D.useRef(!1),Me=D.useRef(null),we=D.useRef(null),Le=D.useRef(new Map),[ke,Rt]=D.useState([]),[_,X]=D.useState([]),ee=D.useRef(null),ie=D.useMemo(()=>{const y=C=>C.flatMap(A=>[{id:A.id,name:A.name,memberIds:A.memberIds||[]},...y(A.children||[])]);return y(_)},[_]),je=D.useMemo(()=>{const y=[],C=(A,W=0)=>{A.forEach(F=>{y.push({id:F.id,name:F.name,depth:W}),F.children&&C(F.children,W+1)})};return C(_),y},[_]);D.useEffect(()=>{const y=()=>{n(e.getAllItems())},C=()=>{const W=e.getSelectedIds();a(W[0]||null),c(new Set(W))},A=()=>{s(new Set(e.getExpandedIds()))};return e.on("items-changed",y),e.on("selection-changed",C),e.on("expansion-changed",A),y(),()=>{e.off("items-changed",y),e.off("selection-changed",C),e.off("expansion-changed",A)}},[e]),D.useEffect(()=>{const y=hn();return y.initialize().then(()=>{y.getTree().then(X)}),y.subscribe(X)},[]),D.useEffect(()=>{const y=ls();return y.initialize().then(()=>{y.getPeople().then(Rt)}),y.subscribe(Rt)},[]),D.useEffect(()=>{const C={personal:"day",team:"sprint",timeline:"month"}[k];C&&(S(C),u(0))},[k]),D.useLayoutEffect(()=>{if(!we.current)return;const y=we.current.querySelectorAll("[data-item-id]"),C=new Map;y.forEach(A=>{const W=A.dataset.itemId,F=A.getBoundingClientRect();C.set(W,F.top);const re=Le.current.get(W);if(re!==void 0&&re!==F.top){const pe=re-F.top;if(Math.abs(pe)<2||A.classList.contains("dragging"))return;A.style.transform=`translateY(${pe}px)`,A.style.transition="none",requestAnimationFrame(()=>{A.style.transition="transform 150ms ease",A.style.transform=""})}}),Le.current=C});const Ie=!["analytics","people","features"].includes(k);D.useEffect(()=>{!m&&Ie&&ee.current&&ee.current.focus()},[m,Ie]),D.useEffect(()=>{const y=C=>{var F,re;const A=v.trim().length>0;if(m){C.key==="Escape"&&(C.preventDefault(),E(!1));return}if(Ie&&C.target!==ee.current&&/^[a-zA-Z0-9]$/.test(C.key)){C.preventDefault(),f(C.key),(F=ee.current)==null||F.focus();return}if(A)switch(C.key){case"Enter":C.preventDefault(),C.shiftKey?L(v):x(v);break;case"Escape":C.preventDefault(),f(""),(re=ee.current)==null||re.focus();break}else{switch(C.key){case"ArrowDown":C.preventDefault(),it();break;case"ArrowUp":C.preventDefault(),Oe();break;case"ArrowRight":C.preventDefault(),at();break;case"ArrowLeft":C.preventDefault(),de();break;case"Control":case"Shift":break;default:C.ctrlKey||C.metaKey?C.key==="ArrowDown"?(C.preventDefault(),Et()):C.key==="ArrowUp"&&(C.preventDefault(),Rl()):C.shiftKey&&(C.key==="ArrowDown"?(C.preventDefault(),Ps()):C.key==="ArrowUp"?(C.preventDefault(),gn()):C.key==="Tab"&&(C.preventDefault(),qe(!1)));break}if(!C.ctrlKey&&!C.metaKey&&!C.shiftKey)switch(C.key){case" ":C.preventDefault(),l&&I(l);break;case"Delete":C.preventDefault(),Kt();break;case"Enter":C.preventDefault(),l&&E(!0);break;case"Escape":C.preventDefault(),e.clearSelection();break;case"Tab":C.preventDefault(),qe(!0);break}}};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[l,o,r,t,d,v,m]);const xe=()=>{const y=[],C=A=>{A.forEach(W=>{y.push(W.id),W.children&&W.children.length>0&&r.has(W.id)&&C(W.children)})};return C(ge()),y},Ge=(y,C)=>{for(const A of C){if(A.id===y)return A;if(A.children){const W=Ge(y,A.children);if(W)return W}}return null},Yt=(y,C,A=null)=>{for(const W of C){if(W.id===y)return A;if(W.children){const F=Yt(y,W.children,W);if(F)return F}}return null},V=y=>{const C=ji(j,h),A=Tp(new Date),W=[];for(const F of y){if(!d&&F.completed)continue;if(j==="global"){const fe={...F};F.children&&(fe.children=V(F.children)),W.push(fe);continue}const re=F.dueDate?new Date(F.dueDate):null;let pe=!1;if(re&&(pe=re>=C.start&&re<=C.end,!pe&&j==="day"&&h===0&&re<A&&(pe=!0)),pe){const fe={...F};F.children&&(fe.children=V(F.children)),W.push(fe)}else F.children&&F.children.length>0&&W.push(...V(F.children))}return W},te=y=>{if(j==="global")return y;const C=ji(j,h),A=W=>W.flatMap(F=>{if(jp(F)){const re=bv(F,C.start,C.end,ke);return re.length>0?re:[]}return[{...F,children:F.children?A(F.children):[]}]});return A(y)},ge=()=>te(V(t)),it=()=>{const y=xe();if(y.length===0)return;if(!l){a(y[0]);return}const C=y.indexOf(l),A=C<y.length-1?C+1:0;a(y[A])},Oe=()=>{const y=xe();if(y.length===0)return;if(!l){a(y[y.length-1]);return}const C=y.indexOf(l),A=C>0?C-1:y.length-1;a(y[A])},at=()=>{if(!l)return;const y=Ge(l,t);if(y&&y.children&&y.children.length>0)if(r.has(l))a(y.children[0].id);else{const C=new Set(r);C.add(l),s(C)}},de=()=>{if(!l)return;const y=Ge(l,t);if(y)if(y.children&&y.children.length>0&&r.has(l)){const C=new Set(r);C.delete(l),s(C)}else{const C=Yt(l,t);C&&a(C.id)}},Et=()=>{const y=xe();y.length>0&&a(y[y.length-1])},Rl=()=>{const y=xe();y.length>0&&a(y[0])},Ps=()=>{const y=xe();if(y.length===0)return;if(!l){a(y[0]);return}const C=y.indexOf(l),A=C<y.length-1?C+1:0,W=y[A],F=new Set(o);F.add(l),F.add(W),c(F),a(W)},gn=()=>{const y=xe();if(y.length===0)return;if(!l){a(y[y.length-1]);return}const C=y.indexOf(l),A=C>0?C-1:y.length-1,W=y[A],F=new Set(o);F.add(l),F.add(W),c(F),a(W)},Qt=y=>{if(!e.getItem(y))return null;const A=e.getParent(y),W=A?A.children:t,F=W.findIndex(re=>re.id===y);if(F>=0){if(F>0)return W[F-1].id;if(F<W.length-1)return W[F+1].id}return(A==null?void 0:A.id)||null},Kt=async()=>{let y=null;if(o.size>0){const C=Array.from(o)[0];y=Qt(C);for(const A of o)await e.deleteItem(A)}else l&&(y=Qt(l),await e.deleteItem(l));y?e.select(y):e.clearSelection()},qe=y=>{o.size>0?o.forEach(C=>{y?bs(C,!0):bs(C,!1)}):l&&bs(l,y)},bs=(y,C)=>{const A=Ge(y,t);if(A)if(C){const W=xe(),F=W.indexOf(y);if(F<=0)return;const re=W[F-1];if(!Ge(re,t))return;const fe=On(t,y),He=Is(fe,re,A);n(He),Fn().setTodos(He)}else{const W=Yt(y,t);if(!W)return;const F=Yt(W.id,t),re=On(t,y);if(F){const pe=re.map(fe=>{if(fe.id===F.id){const He=(fe.children||[]).findIndex(Ip=>Ip.id===W.id),gr=[...fe.children||[]];return gr.splice(He+1,0,A),{...fe,children:gr}}return fe.children?{...fe,children:Al(fe.children,F.id,W.id,A)}:fe});n(pe),Fn().setTodos(pe)}else{const pe=re.findIndex(He=>He.id===W.id),fe=[...re];fe.splice(pe+1,0,A),n(fe),Fn().setTodos(fe)}}},Al=(y,C,A,W)=>y.map(F=>{if(F.id===C){const re=(F.children||[]).findIndex(fe=>fe.id===A),pe=[...F.children||[]];return pe.splice(re+1,0,W),{...F,children:pe}}return F.children?{...F,children:Al(F.children,C,A,W)}:F}),On=(y,C)=>y.filter(A=>A.id!==C).map(A=>({...A,children:On(A.children||[],C)})),Is=(y,C,A)=>y.map(W=>W.id===C?{...W,children:[A,...W.children||[]]}:{...W,children:Is(W.children||[],C,A)}),x=async y=>{if(!y.trim())return;const C=l?e.getParent(l):null,A=(C==null?void 0:C.id)||null,W={title:y.trim(),dueDate:si(j,h)},F=await e.appendItem(A,W);f(""),F&&e.select(F)},L=async y=>{if(!y.trim())return;const C=l?e.getItem(l):null,A=C&&C.children!==void 0?l:null,W={title:y.trim(),dueDate:si(j,h)},F=await e.appendItem(A,W);A&&e.expand(A),f(""),F&&e.select(F)},B=y=>{e.toggleExpand(y)},I=y=>{var C,A;if(typeof y=="string"&&y.includes(":")){const[W,F]=y.split(":"),re=Ge(W,t);if(re){const pe=Mv(re.instances,F,"completed",!((A=(C=re.instances)==null?void 0:C[F])!=null&&A.completed));e.updateItem(W,{instances:pe})}return}e.toggleComplete(y,!0)},z=(y,C,A,W)=>{const F=Yt(C,y);if(F){const pe=(F.children||[]).findIndex(He=>He.id===C),fe=W==="top"?pe:pe+1;return y.map(He=>{if(He.id===F.id){const gr=[...He.children||[]];return gr.splice(fe,0,A),{...He,children:gr}}return He.children?{...He,children:H(He.children,F.id,fe,A)}:He})}else{const re=y.findIndex(He=>He.id===C),pe=W==="top"?re:re+1,fe=[...y];return fe.splice(pe,0,A),fe}},H=(y,C,A,W)=>y.map(F=>{if(F.id===C){const re=[...F.children||[]];return re.splice(A,0,W),{...F,children:re}}return F.children?{...F,children:H(F.children,C,A,W)}:F}),Z=(y,C)=>{oe.current=JSON.parse(JSON.stringify(t)),be.current=!1,Me.current=null,w(y),C.dataTransfer.effectAllowed="move"},ue=(y,C)=>{if(C.preventDefault(),!g||g===y)return;const A=C.currentTarget.getBoundingClientRect(),W=C.clientY-A.top,F=A.height;let re="middle";if(W<F*.25?re="top":W>F*.75&&(re="bottom"),re==="middle"){Me.current=null,T(y),O("middle");return}const pe=`${y}-${re}`;Me.current!==pe&&(Me.current=pe,T(null),O(re),n(fe=>{const He=Ge(g,fe);if(!He)return fe;const gr=On(fe,g);return z(gr,y,He,re)}))},se=(y,C)=>{if(C.preventDefault(),be.current=!0,!!g){if(b==="middle"&&N&&g!==N){const A=Ge(g,t);if(A){const W=On(t,g),F=Is(W,N,A);n(F),Fn().setTodos(F)}e.expand(N)}else Fn().setTodos(t);w(null),T(null),Me.current=null}},ne=y=>{if(y.target!==y.currentTarget||(y.preventDefault(),be.current=!0,!g))return;const C=Ge(g,t);if(C){const W=[...On(t,g),C];n(W),Fn().setTodos(W)}w(null),T(null),Me.current=null},Ne=()=>{!be.current&&oe.current&&n(oe.current),oe.current=null,Me.current=null,w(null),T(null)},Xe=y=>{y.preventDefault(),ce.current=!0;const C=y.clientX,A=$;document.body.classList.add("resizing");const W=re=>{const pe=C-re.clientX,fe=Math.max(200,Math.min(A+pe,window.innerWidth*.6));G(fe)},F=()=>{ce.current=!1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",F)},Ee=y=>{a(y),E(!0)},vn=y=>{if(!g||!e.getItem(g))return;const A=si(y,0);e.updateItem(g,{dueDate:A}),w(null),T(null)},At=(y,C,A)=>{const W=Ge(y,t);W&&K({todo:W,x:C,y:A})},yn=(y,C)=>{e.getItem(y)&&(e.updateItem(y,{dueDate:C}),K(null))},Os=(y,C)=>{const A=[...ke],[W]=A.splice(y,1);A.splice(C,0,W),Rt(A)},_n=(y,C)=>{hn().updateNode(y,C)},zl=(y,C)=>hn().addNode(y,C),_s=y=>{hn().deleteNode(y)},Ms=async y=>{y.todos&&await Fn().setTodos(y.todos),y.people&&await ls().setPeople(y.people),y.featureTree&&await hn().setTree(y.featureTree)},Pp=async y=>{const C={title:y.title,description:y.description||"",dueDate:$r(new Date),source:y.source,sourceUrl:y.sourceUrl,priority:y.priority,metadata:{source:y.source,sourceUrl:y.sourceUrl,createdFrom:"ghost"}},A=await e.appendItem(null,C);A&&e.select(A)},hu=D.useMemo(()=>{var C;if(!l)return null;const y=e.getItem(l);if(y)return y;if(typeof l=="string"&&l.includes(":")){const[A,W]=l.split(":"),F=Ge(A,t);if(F){const re=((C=F.instances)==null?void 0:C[W])||{},pe=ke.find(fe=>fe.id===W);return{...F,id:l,masterId:A,isInstance:!0,instanceKey:W,completed:re.completed||!1,notes:re.notes||"",children:[],...F.type==="chore"?{instanceDate:new Date(W)}:{},...F.type==="assignment"?{instanceAssignee:W,instanceAssigneeName:(pe==null?void 0:pe.name)||W,instanceAssigneeAvatar:(pe==null?void 0:pe.avatar)||"",assignee:W}:{}}}}return null},[l,t,ke,e]),pu=y=>{S("global"),u(0),e.select(y),E(!0)},bp=y=>l===y||o.has(y);return i.jsxs("div",{className:"todo-shell",children:[i.jsxs("header",{className:"header",children:[i.jsx("h1",{children:"Todo App"}),i.jsx(Zv,{activeMode:k,onModeChange:Y}),i.jsx(Yv,{activeRange:j,onRangeChange:y=>{S(y),u(0)},onDropToRange:vn,periodOffset:h,onPeriodChange:u}),i.jsxs("div",{className:"header-right",children:[i.jsx(by,{}),i.jsx(Py,{}),i.jsx(Kv,{showCompleted:d,onToggleCompleted:p,viewMode:k,teamMembers:ke,onUpdateTeamMembers:Rt,onOpenTimeBlockManager:()=>Fe(!0),ghostItemsInline:We,onToggleGhostItemsInline:Q,todos:t,featureTree:_,onImportData:Ms})]})]}),i.jsx(Uv,{todos:t}),i.jsxs("main",{className:"main",children:[k==="personal"&&i.jsxs("div",{className:`personal-view-container ${We?"ghost-inline":"ghost-sidebar"}`,children:[i.jsxs("section",{ref:we,className:"list",onDragOver:y=>y.preventDefault(),onDrop:ne,children:[ge().length===0&&i.jsx("div",{className:"empty",children:"No todos yet"}),ge().map(y=>i.jsx(Sp,{todo:y,depth:0,isExpanded:r.has(y.id),isSelected:bp(y.id),expandedIds:r,selectedId:l,selectedIds:o,onToggleExpand:B,onToggleComplete:I,onSelect:C=>e.select(C),onDoubleClick:Ee,onContextMenu:At,onDragStart:Z,onDragOver:ue,onDrop:se,onDragEnd:Ne,dragOverId:N,dragOverPosition:b,draggedId:g,onNavigateToMaster:pu,teamMembers:ke},y.id))]}),(j==="day"||j==="week")&&!We&&i.jsx("div",{className:"resize-handle",onMouseDown:Xe}),(j==="day"||j==="week")&&i.jsx(yy,{currentDate:kn(new Date,h),onPromoteToTask:Pp,style:We?void 0:{width:$}})]}),k==="team"&&i.jsx(ty,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,timeRange:j,teamMembers:ke,teams:ie,featureTree:_,selectedTeamId:me,onTeamChange:le,onSelect:y=>e.select(y),onDoubleClick:Ee,onContextMenu:At,onUpdate:(y,C)=>e.updateItem(y,C),onReorderTeamMembers:Os,periodBounds:ji(j,h)}),k==="timeline"&&i.jsx(iy,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,timeRange:j,periodOffset:h,teamMembers:ke,teams:ie,onSelect:y=>e.select(y),onDoubleClick:Ee,onContextMenu:At,onUpdate:(y,C)=>e.updateItem(y,C)}),k==="bugs"&&i.jsx(uy,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,onSelect:y=>e.select(y),onDoubleClick:Ee,onContextMenu:At,onUpdate:(y,C)=>e.updateItem(y,C)}),k==="analytics"&&i.jsx(my,{todos:t,teamMembers:ke,showCompleted:d}),k==="features"&&i.jsx(Ny,{featureTree:_,teamMembers:ke,onUpdateNode:_n,onAddNode:zl,onDeleteNode:_s}),k==="people"&&i.jsx(Cy,{people:ke}),m&&hu&&(k==="personal"||k==="timeline"||k==="team")&&i.jsx(Hv,{todo:hu,onUpdate:(y,C)=>{if(typeof y=="string"&&y.includes(":")){const[A,W]=y.split(":"),F=Ge(A,t);if(F){const re={...F.instances||{}};re[W]={...re[W]||{},...C},e.updateItem(A,{instances:re})}return}e.updateItem(y,C)},onClose:()=>E(!1),style:{width:$},teamMembers:ke,featureOptions:je,onNavigateToMaster:pu})]}),M&&i.jsx(Xv,{x:M.x,y:M.y,todo:M.todo,onClose:()=>K(null),onMoveToDate:yn,getDueDateForRange:si}),Ie&&i.jsx("footer",{className:"footer",children:i.jsxs("div",{className:"quick-entry",children:[i.jsx("input",{ref:ee,placeholder:"Quick add... (or press any key)",value:v,onChange:y=>f(y.target.value),onKeyDown:y=>{y.key==="Enter"||y.key==="Enter"&&y.shiftKey||y.key}}),i.jsxs("button",{onClick:()=>x(v),children:[i.jsx(bn,{size:16})," Add"]})]})}),i.jsx(xy,{isOpen:Ke,onClose:()=>Fe(!1)})]})}function Ry(){return i.jsx(Ty,{children:i.jsx("div",{className:"app-root",children:i.jsx(Ly,{})})})}sp(document.getElementById("root")).render(i.jsx(Jd.StrictMode,{children:i.jsx(Ry,{})}));
//# sourceMappingURL=index-Djjhckk_.js.map</script>
    <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap";:root{--bg-primary: #0a0e14;--bg-secondary: #14181f;--bg-tertiary: #1c2128;--bg-hover: #242a33;--border-color: #2d333b;--text-primary: #e6edf3;--text-secondary: #8b949e;--text-tertiary: #6e7681;--accent-blue: #4493f8;--accent-green: #3fb950;--accent-orange: #fb8500;--accent-red: #f85149}*{margin:0;padding:0;box-sizing:border-box}body,html,#root{height:100%}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);overflow:hidden}.todo-shell{display:flex;flex-direction:column;height:100vh;background:var(--bg-primary)}.header{display:flex;align-items:center;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);box-shadow:0 1px 3px #0000004d}.header h1{font-size:18px;font-weight:600;white-space:nowrap}.header-right{display:flex;align-items:center;gap:12px;margin-left:auto}.settings-button{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:8px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .15s}.settings-button:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.mode-selector{position:relative}.mode-selector-button{display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);cursor:pointer;font-size:13px;font-weight:500;transition:all .15s;white-space:nowrap}.mode-selector-button:hover{background:var(--bg-hover);border-color:var(--accent-blue)}.mode-icon{font-size:14px}.mode-label{font-size:13px}.mode-dropdown{position:absolute;top:calc(100% + 4px);left:0;z-index:100;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:160px;overflow:hidden}.mode-option{display:flex;align-items:center;gap:8px;padding:10px 12px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;text-align:left;transition:all .15s}.mode-option:hover{background:var(--bg-hover)}.mode-option.active{background:#4493f826;color:var(--accent-blue)}.mode-option-icon{font-size:16px}.mode-option-label{flex:1;font-weight:500}.stress-meter{padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.stress-header{display:flex;align-items:center;gap:8px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.stress-bar-bg{height:6px;background:var(--bg-tertiary);border-radius:100px;overflow:hidden;box-shadow:inset 0 1px 2px #0000004d}.stress-bar-fill{height:100%;transition:width .3s ease,background .3s ease;border-radius:100px}.stress-message{font-size:12px;color:var(--text-secondary);margin-top:6px}.time-range-tabs{display:flex;gap:8px;flex:1;justify-content:center;overflow-x:auto;align-items:center}.time-range-navigation{display:flex;align-items:center;gap:4px;padding:4px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.nav-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px 8px;font-size:16px;font-weight:600;border-radius:4px;transition:all .15s;line-height:1}.nav-button:hover{background:var(--bg-hover);color:var(--text-primary)}.nav-today{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:4px 10px;font-size:11px;font-weight:500;border-radius:4px;transition:all .15s;white-space:nowrap;min-width:100px;text-align:center}.nav-today:hover:not(:disabled){background:var(--bg-hover);color:var(--accent-blue)}.nav-today:disabled{cursor:default;opacity:.7}.time-tab{display:flex;align-items:center;gap:4px;padding:6px 10px;border-radius:6px;border:1px solid transparent;background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;transition:all .15s;white-space:nowrap}.time-tab:hover{background:var(--bg-hover);color:var(--text-primary)}.time-tab.active{background:var(--bg-tertiary);border-color:var(--accent-blue);color:var(--text-primary)}.time-tab.drag-over{background:#3fb95033;border-color:var(--accent-green);color:var(--text-primary);transform:scale(1.05)}.tab-emoji{font-size:13px}.tab-label{font-size:11px}.footer{padding:12px 24px;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.quick-entry{display:flex;gap:6px;width:100%}.quick-entry input{flex:1;padding:8px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px}.quick-entry input::placeholder{color:var(--text-tertiary)}.quick-entry button{display:flex;align-items:center;gap:4px;padding:8px 12px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px}.quick-entry button:hover{opacity:.9}.main{display:flex;flex:1;overflow:hidden;position:relative}.list{flex:1;overflow-y:auto;padding:12px 16px;background:var(--bg-primary)}.detail-panel{border-left:1px solid var(--border-color);padding:12px;background:var(--bg-primary);overflow-y:auto;position:absolute;right:0;top:0;bottom:0;z-index:10}.detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;margin-bottom:16px}.detail-header h2{font-size:15px;font-weight:600;word-break:break-word;flex:1}.close-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px}.close-btn:hover{color:var(--text-primary)}.detail-backend{margin-bottom:16px}.backend-badge{display:inline-flex;align-items:center;gap:4px;font-size:12px;padding:4px 8px;border-radius:4px;background:var(--bg-tertiary);color:var(--text-secondary)}.detail-section{margin-bottom:16px}.detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.detail-input,.detail-textarea{width:100%;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;font-family:inherit}.detail-input::placeholder,.detail-textarea::placeholder{color:var(--text-tertiary)}.detail-textarea{resize:vertical}.detail-input-inline{padding:4px 8px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:12px}.workdays-only-toggle{display:flex;align-items:center;gap:8px;margin-top:8px;font-size:13px;color:var(--text-secondary);cursor:pointer}.workdays-only-toggle input[type=checkbox]{width:16px;height:16px;cursor:pointer}.workdays-only-toggle span{-webkit-user-select:none;user-select:none}.tag-input{display:flex;flex-wrap:wrap;gap:4px;padding:4px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.tag-input input{flex:1;min-width:60px;border:none;background:transparent;color:var(--text-primary);font-size:12px}.tag{display:inline-flex;align-items:center;gap:4px;font-size:11px;padding:3px 6px;border-radius:3px;background:var(--bg-secondary);color:var(--text-secondary)}.tag.editable button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0 2px}.tag.editable button:hover{color:var(--text-primary)}.dependency-tag{background:var(--bg-hover);color:var(--accent-blue);font-family:Monaco,Menlo,monospace;font-weight:600}.attachment-btn,.add-assignee-btn,.comment-input{cursor:pointer}.attachment-btn:disabled,.add-assignee-btn:disabled,.comment-input:disabled{opacity:.5;cursor:not-allowed}.todo-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;background:var(--bg-secondary);cursor:grab;margin-bottom:4px;border:1px solid transparent;transition:all .15s;position:relative}.todo-item:active{cursor:grabbing}.todo-item:hover{background:var(--bg-hover);border-color:var(--border-color)}.todo-item.selected{background:var(--bg-tertiary);border-color:var(--accent-blue);box-shadow:inset 0 0 0 2px var(--accent-blue)}.todo-item.multi-selected{background:#4f81f526;border-color:var(--accent-blue);box-shadow:inset 0 0 0 1px var(--accent-blue)}.todo-item.drop-indicator-middle{background:#3fb95026;border-color:var(--accent-green);box-shadow:inset 0 0 0 2px var(--accent-green)}.todo-item.dragging{background:transparent;border:2px dashed var(--border-color);box-shadow:none}.todo-item.dragging *{visibility:hidden}.todo-item.completed{opacity:.6}.todo-item.completed .todo-title{text-decoration:line-through;color:var(--text-tertiary)}.todo-item.past-due{background:linear-gradient(90deg,rgba(239,68,68,.15) 0%,transparent 40%);border-left:2px solid rgba(239,68,68,.6)}.todo-item.past-due:hover{background:linear-gradient(90deg,rgba(239,68,68,.2) 0%,var(--bg-hover) 40%)}.expand-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;width:20px;height:20px}.expand-btn:hover{color:var(--text-primary)}.expand-spacer{width:20px}.task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);min-width:32px;text-align:right;font-family:Monaco,Menlo,monospace}.checkbox{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.checkbox:hover{color:var(--text-primary)}.backend-icon{font-size:14px}.todo-title{flex:1;font-size:13px;word-break:break-word}.dependency-indicator{display:flex;align-items:center;gap:3px;font-size:10px;color:var(--accent-blue);background:#4493f826;padding:2px 6px;border-radius:3px;white-space:nowrap;cursor:help}.tags{display:flex;gap:4px;flex-wrap:wrap}.due-date{display:flex;align-items:center;gap:3px;font-size:11px;color:var(--text-secondary);white-space:nowrap}.children{margin-top:2px}.empty{color:var(--text-secondary);text-align:center;padding:32px 16px;font-size:13px}.context-menu{position:fixed;z-index:1000;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:200px}.context-menu-header{padding:8px 12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.context-menu-items{padding:4px}.context-menu-item{display:flex;align-items:center;gap:8px;padding:8px 10px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;border-radius:4px;transition:all .15s;text-align:left}.context-menu-item:hover{background:var(--bg-hover)}.context-menu-item.active{background:#4493f826}.context-menu-icon{font-size:14px}.context-menu-label{flex:1}.context-menu-check{color:var(--accent-blue);display:flex;align-items:center}.context-menu-divider{height:1px;background:var(--border-color);margin:4px 0}.context-menu-submenu-trigger{position:relative}.context-menu-arrow{color:var(--text-tertiary);font-size:14px;margin-left:auto}.context-submenu{position:absolute;left:100%;top:0;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:160px;padding:4px;z-index:1001}.settings-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;z-index:1000}.settings-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;max-height:80vh;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 8px 24px #00000080;z-index:1001;display:flex;flex-direction:column}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-color)}.settings-header h2{font-size:18px;font-weight:600}.settings-content{flex:1;overflow-y:auto;padding:20px}.settings-section{margin-bottom:24px}.settings-section:last-child{margin-bottom:0}.settings-section h3{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-primary)}.settings-description{font-size:12px;color:var(--text-secondary);margin-bottom:12px}.backend-list{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.backend-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.backend-info{display:flex;align-items:center;gap:10px}.backend-item-icon{font-size:18px}.backend-item-name{font-size:13px;font-weight:500}.toggle-switch{position:relative;display:inline-block;width:44px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-primary);border:1px solid var(--border-color);transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:16px;width:16px;left:3px;bottom:3px;background-color:var(--text-secondary);transition:.3s;border-radius:50%}.toggle-switch input:checked+.toggle-slider{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch input:checked+.toggle-slider:before{transform:translate(20px);background-color:#fff}.add-service-btn{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:6px;border:1px dashed var(--border-color);background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;width:100%;justify-content:center;transition:all .15s}.add-service-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.add-service-btn:disabled{opacity:.5;cursor:not-allowed}.data-management-buttons{display:flex;gap:8px;flex-wrap:wrap}.data-management-buttons .add-service-btn{flex:1;min-width:120px;justify-content:center}.preference-item{padding:8px 0}.preference-item label{display:flex;align-items:center;gap:8px;font-size:13px;cursor:pointer}.preference-item input[type=checkbox]{width:16px;height:16px;cursor:pointer}.settings-footer{padding:16px 20px;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end}.settings-close-btn{padding:8px 16px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px;transition:opacity .15s}.settings-close-btn:hover{opacity:.9}.reorder-btn{background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;font-size:12px;transition:all .15s}.reorder-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.reorder-btn:disabled{opacity:.3;cursor:not-allowed}.team-view-sprint{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.team-selector-bar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.team-selector-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.team-selector-dropdown{padding:6px 12px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;cursor:pointer;min-width:200px}.team-selector-dropdown:hover{border-color:var(--accent-blue)}.team-selector-dropdown:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.team-columns-container{display:flex;gap:16px;padding:16px;overflow-x:auto;flex:1}.team-member-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;cursor:grab;transition:all .15s}.team-member-column:active{cursor:grabbing}.team-member-column.drag-over{border-color:var(--accent-blue);transform:scale(1.02);box-shadow:0 4px 12px #4f81f54d}.team-member-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-radius:8px 8px 0 0}.team-member-info{display:flex;align-items:center;gap:12px;margin-bottom:8px}.team-member-avatar{font-size:28px}.team-member-details{flex:1}.team-member-name{font-size:14px;font-weight:600;color:var(--text-primary)}.team-capacity{font-size:11px;color:var(--text-secondary);font-weight:500;margin-top:2px}.team-capacity.over-capacity{color:#f59e0b;font-weight:600}.capacity-bar{height:6px;background:var(--bg-primary);border-radius:3px;overflow:hidden}.capacity-fill{height:100%;background:var(--accent-blue);transition:width .3s;border-radius:3px}.capacity-fill.over-capacity{background:#f59e0b}.team-tasks-container{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.team-empty-state{padding:24px;text-align:center;color:var(--text-secondary);font-size:12px}.task-drop-indicator{height:3px;background:var(--accent-green);margin:4px 0;border-radius:2px;box-shadow:0 0 6px var(--accent-green)}.team-task-box{position:relative;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:6px;overflow:hidden;cursor:pointer;transition:all .15s;min-height:80px}.team-task-box:hover{border-color:var(--accent-blue);transform:translate(2px);box-shadow:0 2px 8px #0000004d}.team-task-box.selected{border-color:var(--accent-blue);box-shadow:0 0 0 2px #4f81f54d}.team-task-box.completed{opacity:.6}.team-task-box.completed .task-title-text{text-decoration:line-through}.team-task-box.blocked{border-color:#f59e0b;background:#f59e0b0d}.task-progress-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,#3fb95033,#3fb9500d);border-top:2px solid rgba(63,185,80,.4);pointer-events:none;transition:height .3s}.task-content{position:relative;z-index:1;padding:8px 10px;display:flex;flex-direction:column;gap:6px;height:100%}.task-header-row{display:flex;align-items:center;justify-content:space-between}.task-id{font-size:9px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.task-blocked-icon{font-size:14px}.task-title-text{flex:1;font-size:12px;font-weight:500;color:var(--text-primary);line-height:1.3;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.task-footer-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.task-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-hover);padding:2px 6px;border-radius:3px;font-weight:600}.task-estimate.clickable{cursor:pointer;transition:all .15s}.task-estimate.clickable:hover{background:var(--accent-blue);color:#fff}.task-estimate-input{width:60px;font-size:10px;padding:2px 6px;background:var(--bg-primary);border:1px solid var(--accent-blue);border-radius:3px;color:var(--text-primary);font-weight:600}.task-estimate-input:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.task-days-remaining{font-size:10px;color:var(--accent-blue);font-weight:500}.task-days-remaining.overdue{color:#dc2626;font-weight:600}.condensed-team-view{flex:1;overflow-y:auto;padding:8px 0}.condensed-section{margin-bottom:4px}.condensed-section-content,.condensed-person-tasks,.condensed-feature-tasks{margin-left:0}.condensed-group-header{display:flex;align-items:center;gap:8px;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-group-header:hover{background:var(--bg-hover)}.condensed-expand-icon{display:flex;align-items:center;color:var(--text-secondary)}.condensed-group-icon{font-size:14px}.condensed-group-label{flex:1;font-size:13px;font-weight:500;color:var(--text-primary)}.condensed-group-stats{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 8px;border-radius:10px}.condensed-task-row{display:flex;align-items:center;gap:8px;padding:6px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-task-row:hover{background:var(--bg-hover)}.condensed-task-row.selected{background:#4493f826}.condensed-task-row.completed .condensed-task-title{text-decoration:line-through;color:var(--text-secondary)}.condensed-task-row .checkbox{flex-shrink:0}.condensed-task-title{flex:1;font-size:13px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.condensed-task-meta{display:flex;align-items:center;gap:8px}.condensed-task-estimate{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:4px}.condensed-task-assignee{font-size:14px}.condensed-task-row[draggable=true]{cursor:grab}.condensed-task-row[draggable=true]:active{cursor:grabbing}.condensed-group-header.drag-over{background:#4493f826;outline:1px dashed rgba(68,147,248,.5);outline-offset:-1px;border-radius:4px}.condensed-add-folder-btn{display:flex;align-items:center;justify-content:center;background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:2px;border-radius:4px;opacity:0;transition:opacity .15s,color .15s}.condensed-group-header:hover .condensed-add-folder-btn{opacity:1}.condensed-add-folder-btn:hover{color:var(--text-primary);background:var(--bg-tertiary)}.condensed-add-folder-row{display:flex;align-items:center;gap:8px;padding:6px 12px}.condensed-folder-input{flex:1;font-size:13px;padding:4px 8px;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-primary);color:var(--text-primary);outline:none}.condensed-folder-input:focus{border-color:var(--accent-color, #4493f8)}.condensed-empty{padding:12px;font-size:12px;color:var(--text-secondary);font-style:italic}.timeline-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.timeline-header{display:flex;background:var(--bg-tertiary);border-bottom:2px solid var(--border-color);position:sticky;top:0;z-index:10}.timeline-task-column{width:250px;min-width:250px;padding:12px 16px;font-weight:600;font-size:12px;text-transform:uppercase;color:var(--text-secondary);border-right:1px solid var(--border-color)}.timeline-grid-header{flex:1;display:flex;overflow-x:auto}.timeline-date-cell{flex:1;min-width:80px;padding:8px;text-align:center;border-right:1px solid var(--border-color)}.timeline-date-day{font-size:10px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.timeline-date-num{font-size:14px;font-weight:600;color:var(--text-primary);margin-top:2px}.timeline-content{flex:1;overflow-y:auto;position:relative}.timeline-row{display:flex;height:42px;border-bottom:1px solid var(--border-color)}.timeline-task-name{width:250px;min-width:250px;padding:8px 16px;display:flex;align-items:center;gap:8px;background:var(--bg-secondary);border-right:1px solid var(--border-color);cursor:pointer;transition:all .15s;overflow:hidden}.timeline-task-name:hover{background:var(--bg-hover)}.timeline-task-name.selected{background:var(--bg-tertiary);border-right-color:var(--accent-blue)}.timeline-task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.timeline-task-title{flex:1;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:3px}.timeline-grid{flex:1;display:flex;position:relative}.timeline-grid-cell{flex:1;min-width:80px;border-right:1px solid rgba(255,255,255,.05)}.timeline-bar{position:absolute;top:6px;height:30px;background:var(--accent-blue);border-radius:4px;cursor:pointer;display:flex;align-items:center;padding:0 8px;transition:all .15s;box-shadow:0 2px 4px #0000004d}.timeline-bar:hover{opacity:.9;transform:translateY(-1px);box-shadow:0 3px 6px #0006}.timeline-bar.selected{outline:2px solid var(--accent-blue);outline-offset:2px}.timeline-bar.completed{background:var(--accent-green);opacity:.7}.timeline-bar-label{font-size:11px;font-weight:500;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-dependencies{z-index:1}.timeline-empty{padding:40px;text-align:center;color:var(--text-secondary);font-size:13px}.bug-view{display:flex;flex-direction:column;height:100%;overflow:hidden}.bug-filters{display:flex;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);align-items:center}.filter-group{display:flex;align-items:center;gap:8px}.filter-group label{font-size:12px;font-weight:500;color:var(--text-secondary);white-space:nowrap}.filter-group select{background:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-primary);padding:6px 10px;border-radius:4px;font-size:12px;cursor:pointer}.bug-stats{margin-left:auto;font-size:12px;color:var(--text-secondary);font-weight:500}.bug-columns{display:flex;gap:12px;padding:16px;overflow-x:auto;flex:1}.bug-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;max-height:100%}.bug-column-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-top:3px solid transparent;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center}.bug-column-header h3{font-size:13px;font-weight:600;color:var(--text-primary)}.bug-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600}.bug-column-content{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.bug-empty{padding:20px;text-align:center;color:var(--text-secondary);font-size:12px}.bug-card{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;padding:12px;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;gap:8px}.bug-card:hover{border-color:var(--accent-blue);transform:translateY(-1px);box-shadow:0 2px 8px #0000004d}.bug-card.selected{border-color:var(--accent-blue);background:#4f81f51a}.bug-card.completed{opacity:.6}.bug-card-header{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.bug-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.bug-priority{font-size:9px;font-weight:700;color:#fff;padding:2px 6px;border-radius:3px;text-transform:uppercase;letter-spacing:.5px}.bug-severity{font-size:9px;font-weight:600;padding:2px 6px;border-radius:3px;border:1px solid;text-transform:uppercase;letter-spacing:.5px;background:transparent}.bug-title{font-size:13px;font-weight:500;color:var(--text-primary);line-height:1.4}.bug-feature{font-size:11px;color:var(--text-secondary);background:var(--bg-hover);padding:3px 8px;border-radius:3px;display:inline-block;width:fit-content}.bug-card-footer{display:flex;justify-content:space-between;align-items:center;margin-top:4px}.bug-assignee{font-size:11px;color:var(--accent-blue);background:#4f81f526;padding:3px 8px;border-radius:3px;font-weight:500}.bug-auto-route{font-size:10px;color:var(--text-secondary);background:transparent;border:1px dashed var(--border-color);padding:3px 8px;border-radius:3px;cursor:pointer;transition:all .15s}.bug-auto-route:hover:not(:disabled){color:var(--accent-blue);border-color:var(--accent-blue);background:#4f81f51a}.bug-auto-route:disabled{opacity:.4;cursor:not-allowed}.bug-due{font-size:10px;color:var(--text-secondary);display:flex;align-items:center;gap:4px}@media (max-width: 900px){.detail-panel{left:0;width:100%!important;border-left:none;z-index:20}}.personal-view-container{display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden}.personal-view-container.ghost-sidebar{flex-direction:row}.personal-view-container.ghost-sidebar .list{flex:1;overflow-y:auto}.personal-view-container.ghost-inline{overflow-y:auto}.personal-view-container.ghost-inline .list{flex:0 0 auto}.ghost-entries{padding:0 16px 16px;display:flex;flex-direction:column;gap:16px}.personal-view-container.ghost-sidebar .ghost-entries{flex-shrink:0;overflow-y:auto;padding:16px 8px 16px 16px;height:100%;box-sizing:border-box}.personal-view-container.ghost-inline .ghost-entries{flex:0 0 auto}@media (max-width: 768px){.personal-view-container.ghost-sidebar{flex-direction:column;overflow-y:auto}.personal-view-container.ghost-sidebar .list{flex:0 0 auto}.personal-view-container.ghost-sidebar .ghost-entries{flex-shrink:1;height:auto;width:100%!important;overflow-y:visible}.resize-handle,.task-number,.backend-icon,.dependency-indicator,.master-instance-count,.tags{display:none}.todo-item{gap:6px;padding:8px}}.resize-handle{width:5px;flex-shrink:0;cursor:col-resize;background:var(--border-color);transition:background .15s}.resize-handle:hover,.resize-handle:active{background:var(--accent-blue)}body.resizing{-webkit-user-select:none;user-select:none;cursor:col-resize}.ghost-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;flex-shrink:0}.ghost-section-header{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.ghost-section-header.clickable{cursor:pointer;transition:background .15s}.ghost-section-header.clickable:hover{background:var(--bg-hover)}.ghost-section-icon{font-size:16px}.ghost-section-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1}.ghost-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}.expand-icon{color:var(--text-secondary);font-size:10px;margin-left:4px}.time-blocks-list{padding:8px;display:flex;flex-direction:column;gap:6px}.time-block-item{display:flex;align-items:center;gap:12px;padding:10px 12px;background:var(--bg-primary);border-left:3px solid var(--accent-blue);border-radius:6px;transition:all .15s}.time-block-item.active{background:#4493f81a;border-left-width:4px}.time-block-time{font-size:11px;color:var(--text-secondary);font-weight:600;white-space:nowrap;min-width:120px}.time-block-title{font-size:13px;color:var(--text-primary);flex:1}.time-block-badge{background:var(--accent-blue);color:#fff;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600;text-transform:uppercase}.ghost-items-list{padding:8px;display:flex;flex-direction:column;gap:6px}.ghost-item{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;padding:12px;transition:all .15s;border-left:3px solid var(--text-tertiary)}.ghost-item:hover{border-color:var(--accent-blue);background:var(--bg-hover)}.ghost-item.priority-high{border-left-color:#f85149}.ghost-item.priority-medium{border-left-color:#fb8500}.ghost-item.priority-low{border-left-color:var(--text-tertiary)}.ghost-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px;gap:12px}.ghost-item-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;display:flex;align-items:center;gap:6px}.unread-badge{color:var(--accent-blue);font-size:20px;line-height:1}.ghost-item-time{font-size:11px;color:var(--text-secondary);white-space:nowrap}.ghost-item-from{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-preview{font-size:12px;color:var(--text-secondary);margin-bottom:8px;line-height:1.4}.ghost-item-meta{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-action{font-size:11px;color:var(--accent-orange);font-weight:600;margin-bottom:8px}.ghost-item-actions{display:flex;gap:6px;margin-top:10px;padding-top:10px;border-top:1px solid var(--border-color)}.ghost-action-btn{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:500;cursor:pointer;transition:all .15s;border:1px solid var(--border-color);background:transparent;color:var(--text-secondary);text-decoration:none;display:inline-block}.ghost-action-btn:hover{color:var(--text-primary);border-color:var(--accent-blue);background:#4493f81a}.ghost-action-promote{color:var(--accent-green);border-color:var(--accent-green)}.ghost-action-promote:hover{background:#3fb9501a;border-color:var(--accent-green);color:var(--accent-green)}.ghost-action-dismiss{color:var(--text-tertiary)}.ghost-action-dismiss:hover{color:var(--accent-green);background:#3fb9500d}.ghost-action-open{color:var(--accent-blue)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.time-block-manager{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:600px;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #00000080}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border-color)}.modal-header h2{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.modal-content{padding:20px 24px;overflow-y:auto;flex:1}.modal-description{font-size:13px;color:var(--text-secondary);margin-bottom:20px;line-height:1.5}.time-block-list{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.empty-state{text-align:center;padding:40px 20px;color:var(--text-secondary);font-size:13px}.time-block-card{display:flex;align-items:stretch;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .15s}.time-block-card:hover{border-color:var(--accent-blue)}.time-block-color-bar{width:4px;flex-shrink:0}.time-block-info{flex:1;padding:12px 16px}.time-block-title-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.time-block-title-row h4{font-size:14px;font-weight:600;color:var(--text-primary);margin:0}.toggle-switch-small{position:relative;display:inline-block;width:36px;height:20px}.toggle-switch-small input{opacity:0;width:0;height:0}.toggle-slider-small{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-tertiary);transition:.2s;border-radius:20px;border:1px solid var(--border-color)}.toggle-slider-small:before{position:absolute;content:"";height:14px;width:14px;left:2px;bottom:2px;background-color:var(--text-secondary);transition:.2s;border-radius:50%}.toggle-switch-small input:checked+.toggle-slider-small{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch-small input:checked+.toggle-slider-small:before{transform:translate(16px);background-color:#fff}.time-block-time-display{font-size:12px;color:var(--text-secondary);font-weight:600;margin-bottom:4px}.time-block-recurrence{font-size:11px;color:var(--text-tertiary)}.time-block-days{color:var(--text-secondary)}.time-block-actions{display:flex;align-items:center;gap:8px;padding:12px 16px;border-left:1px solid var(--border-color)}.icon-btn{background:transparent;border:none;cursor:pointer;padding:4px 8px;font-size:14px;border-radius:4px;transition:all .15s}.icon-btn:hover{background:var(--bg-hover)}.create-block-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:var(--accent-blue);color:#fff;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s}.create-block-btn:hover{background:#4fa3ff}.time-block-editor{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:20px}.time-block-editor h3{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:20px}.form-group{margin-bottom:16px}.form-group label{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.form-group input[type=text],.form-group input[type=time],.form-group select{width:100%;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;transition:all .15s}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent-blue);background:var(--bg-tertiary)}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.weekday-picker{display:flex;gap:6px}.weekday-btn{flex:1;padding:8px 4px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}.weekday-btn:hover{border-color:var(--accent-blue);color:var(--text-primary)}.weekday-btn.selected{background:var(--accent-blue);border-color:var(--accent-blue);color:#fff}.color-picker{display:flex;gap:8px}.color-btn{width:32px;height:32px;border-radius:6px;border:2px solid transparent;cursor:pointer;transition:all .15s}.color-btn:hover{transform:scale(1.1)}.color-btn.selected{border-color:#fff;box-shadow:0 0 0 2px var(--bg-primary),0 0 0 4px var(--accent-blue)}.form-actions{display:flex;gap:10px;margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color)}.btn-secondary,.btn-primary{flex:1;padding:10px 20px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;border:none}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover{background:var(--bg-hover)}.btn-primary{background:var(--accent-blue);color:#fff}.btn-primary:hover{background:#4fa3ff}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.analytics-view{flex:1;overflow-y:auto;padding:24px}.analytics-tab-bar{display:flex;gap:4px;margin-bottom:24px;background:var(--bg-secondary);border-radius:8px;padding:4px;width:fit-content}.analytics-tab{padding:8px 20px;border:none;background:transparent;color:var(--text-secondary);font-size:13px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .15s}.analytics-tab:hover{color:var(--text-primary);background:var(--bg-hover)}.analytics-tab.active{background:var(--accent-blue);color:#fff}.analytics-content{display:flex;flex-direction:column;gap:24px}.analytics-cards{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.analytics-stat-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;text-align:center}.analytics-stat-value{font-size:28px;font-weight:700;color:var(--text-primary);line-height:1.2}.analytics-stat-label{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.analytics-stat-subtext{font-size:11px;color:var(--text-tertiary);margin-top:2px}.analytics-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px}.analytics-section-title{font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:16px}.analytics-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}.analytics-line-chart{width:100%;height:auto}.analytics-hbar-chart{display:flex;flex-direction:column;gap:10px}.analytics-hbar-row{display:flex;align-items:center;gap:12px}.analytics-hbar-label{font-size:12px;color:var(--text-secondary);min-width:100px;text-align:right;white-space:nowrap}.analytics-hbar-track{flex:1;height:20px;background:var(--bg-primary);border-radius:4px;overflow:hidden}.analytics-hbar-track.stacked{display:flex}.analytics-hbar-fill{height:100%;border-radius:4px;transition:width .3s ease}.analytics-hbar-value{font-size:12px;font-weight:600;color:var(--text-primary);min-width:32px}@media (max-width: 700px){.analytics-cards{grid-template-columns:repeat(2,1fr)}.analytics-grid{grid-template-columns:1fr}}.type-pill{font-size:10px;font-weight:600;padding:2px 6px;border-radius:4px;white-space:nowrap;text-transform:capitalize;flex-shrink:0}.type-pill.type-bug,.type-pill.type-issue{background:#f8514926;color:#f85149}.type-pill.type-feature{background:#3fb95026;color:#3fb950}.type-pill.type-assignment{background:#a371f726;color:#a371f7}.type-pill.type-chore{background:#3ddbd926;color:#3ddbd9}.assignee-count,.recurrence-badge{font-size:11px;color:var(--text-secondary);white-space:nowrap;flex-shrink:0}.assignee-checklist{display:flex;flex-direction:column;gap:6px;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.assignee-check-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;padding:4px;border-radius:4px;transition:background .1s}.assignee-check-row:hover{background:var(--bg-hover)}.assignee-check-row input[type=checkbox]{accent-color:var(--accent-blue)}.assignee-check-avatar{font-size:14px}.assignee-check-name{flex:1}.bug-completeness{display:flex;align-items:center;gap:10px;padding:10px 0;margin:4px 0 8px}.bug-completeness-bar{flex:1;height:4px;border-radius:2px;background:var(--bg-tertiary);overflow:hidden}.bug-completeness-fill{height:100%;border-radius:2px;background:var(--accent-green, #3fb950);transition:width .3s ease}.bug-completeness-label{font-size:11px;color:var(--text-muted);white-space:nowrap}.bug-field-header{display:flex;align-items:center;gap:6px}.bug-field-header.filled{color:var(--accent-green, #3fb950)}.bug-field-header.empty{color:var(--text-muted)}.bug-field-textarea{font-family:inherit;font-size:12px;line-height:1.5}.bug-attachment-zone{border:2px dashed var(--border-color);border-radius:8px;padding:20px;text-align:center;cursor:default;transition:border-color .15s,background .15s}.bug-attachment-zone:hover{border-color:var(--text-muted);background:var(--bg-tertiary)}.bug-attachment-placeholder{display:flex;flex-direction:column;align-items:center;gap:4px}.bug-attachment-icon{font-size:24px;opacity:.6}.bug-attachment-text{font-size:12px;color:var(--text-secondary)}.bug-attachment-hint{font-size:10px;color:var(--text-muted);font-style:italic}.bug-debug-textarea{font-family:SF Mono,Fira Code,Cascadia Code,monospace;font-size:11px;line-height:1.5;background:var(--bg-tertiary)}.todo-item.instance{border-left:3px solid var(--text-muted);background:var(--bg-tertiary);padding-left:9px}.todo-item.instance-chore{border-left-color:#3ddbd9}.todo-item.instance-assignment{border-left-color:#a371f7}.todo-item.master{border-left:3px solid transparent}.instance-context{font-size:11px;color:var(--text-muted);margin-left:6px;white-space:nowrap}.master-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--text-muted);font-size:12px;cursor:pointer;padding:1px 5px;margin-left:4px;transition:color .15s,border-color .15s;line-height:1}.master-link:hover{color:var(--accent-blue);border-color:var(--accent-blue)}.master-instance-count{font-size:10px;color:var(--text-muted);margin-left:8px;white-space:nowrap}.instance-banner{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;margin:0 0 8px;border-radius:6px;background:#4493f81a;border:1px solid rgba(68,147,248,.2)}.instance-banner-label{font-size:12px;color:var(--text-secondary)}.instance-banner-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--accent-blue);font-size:11px;cursor:pointer;padding:3px 8px;white-space:nowrap;transition:background .15s}.instance-banner-link:hover{background:var(--bg-hover)}.instance-list{display:flex;flex-direction:column;gap:2px;max-height:200px;overflow-y:auto;border:1px solid var(--border-color);border-radius:6px;padding:4px;background:var(--bg-tertiary)}.instance-list-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:12px;color:var(--text-primary)}.instance-list-row:hover{background:var(--bg-hover)}.instance-list-row.completed{color:var(--text-muted)}.instance-list-row.completed .instance-list-name{text-decoration:line-through}.instance-list-status{font-size:14px;width:18px;text-align:center;flex-shrink:0}.instance-list-row.completed .instance-list-status{color:var(--accent-green, #3fb950)}.instance-list-avatar{font-size:14px;flex-shrink:0}.instance-list-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-notes{font-size:10px;color:var(--text-muted);font-style:italic;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-empty{padding:12px;text-align:center;font-size:11px;color:var(--text-muted);font-style:italic}.tl-view{display:flex;flex-direction:column;flex:1;height:100%;width:100%;overflow:hidden;background:var(--bg-primary)}.tl-header-bar{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);gap:16px}.tl-zoom-presets{display:flex;gap:4px}.tl-zoom-btn{padding:4px 8px;font-size:11px;font-weight:500;color:var(--text-secondary);background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:pointer;transition:all .15s}.tl-zoom-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.tl-zoom-btn.active{background:var(--accent-color);color:#fff;border-color:var(--accent-color)}.tl-period-label{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;text-align:center}.tl-zoom-indicator{font-size:11px;color:var(--text-tertiary);min-width:80px;text-align:right}.tl-actions-menu{position:relative}.tl-actions-btn{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-secondary);cursor:pointer;transition:all .1s}.tl-actions-btn:hover,.tl-actions-btn.active{background:var(--bg-hover);color:var(--text-primary)}.tl-actions-dropdown{position:absolute;top:calc(100% + 4px);right:0;width:240px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 16px #0006;z-index:20;padding:4px;display:flex;flex-direction:column;gap:2px}.tl-actions-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border:none;background:none;border-radius:4px;cursor:pointer;text-align:left;color:var(--text-primary);transition:background .1s}.tl-actions-item:hover{background:var(--bg-hover)}.tl-actions-icon{font-size:16px;width:20px;text-align:center;color:var(--text-secondary);flex-shrink:0}.tl-actions-text{display:flex;flex-direction:column;gap:1px}.tl-actions-label{font-size:12px;font-weight:600}.tl-actions-desc{font-size:10px;color:var(--text-tertiary)}.tl-body{display:flex;flex:1;overflow:hidden}.tl-sidebar{flex-shrink:0;border-right:1px solid var(--border-color);background:var(--bg-secondary);overflow-y:auto}.tl-sidebar-header{display:flex;align-items:center;padding:0 16px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);background:var(--bg-tertiary)}.tl-sidebar-team{display:flex;align-items:center;gap:6px;padding:0 16px;font-size:13px;font-weight:600;color:var(--text-primary);background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);cursor:pointer;transition:background .1s}.tl-sidebar-team:hover{background:var(--bg-hover)}.tl-sidebar-member{display:flex;align-items:center;gap:8px;padding:0 16px 0 32px;font-size:12px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.tl-member-avatar{font-size:16px;flex-shrink:0}.tl-member-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tl-viewport{flex:1;overflow:hidden;position:relative;cursor:grab;-webkit-user-select:none;user-select:none}.tl-viewport.panning{cursor:grabbing}.tl-col-headers{position:relative;z-index:5;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-col-header{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0;position:absolute;top:0;bottom:0;border-right:1px solid rgba(45,51,59,.5);-webkit-user-select:none;user-select:none}.tl-col-header.weekend{background:#0000002e}.tl-col-day{font-size:9px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-num{font-size:12px;font-weight:600;color:var(--text-secondary);line-height:1;margin-top:2px}.tl-col-label{font-size:10px;font-weight:600;color:var(--text-secondary);white-space:nowrap}.tl-col-header.off-hours{background:#0000001a}.tl-col-day-label{font-size:8px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-hour{font-size:9px;color:var(--text-tertiary);line-height:1}.tl-col-hour.work-hour{color:var(--text-secondary);font-weight:500}.tl-rows{position:relative}.tl-grid-col{position:absolute;top:0;border-right:1px solid rgba(45,51,59,.35);pointer-events:none}.tl-grid-col.weekend{background:#0000001f;border-right-color:#2d333b80}.tl-grid-col.off-hours{background:#0000000d}.tl-time-block{position:absolute;top:0;pointer-events:none;z-index:1}.tl-time-block-meeting{background:repeating-linear-gradient(45deg,#58a6ff26,#58a6ff26 4px,#58a6ff14 4px,#58a6ff14 8px);border-left:2px solid rgba(88,166,255,.6);border-right:2px solid rgba(88,166,255,.6)}.tl-time-block-blocked{background:repeating-linear-gradient(45deg,#f851491f,#f851491f 4px,#f851490f 4px,#f851490f 8px);border-left:2px solid rgba(248,81,73,.5);border-right:2px solid rgba(248,81,73,.5)}.tl-time-block-focus{background:repeating-linear-gradient(45deg,#3fb9501f,#3fb9501f 4px,#3fb9500f 4px,#3fb9500f 8px);border-left:2px solid rgba(63,185,80,.5);border-right:2px solid rgba(63,185,80,.5)}.tl-time-block-label{position:sticky;left:8px;top:4px;display:block;font-size:10px;font-weight:500;color:var(--text-secondary);padding:2px 4px;background:var(--bg-secondary);border-radius:2px;opacity:.8}.tl-row{position:absolute;left:0;right:0;border-bottom:1px solid rgba(45,51,59,.35)}.tl-row.drag-target{background:#3fb95026;border-bottom:2px solid var(--accent-green)}.tl-team-row{background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-today-line{position:absolute;top:0;width:2px;background:var(--accent-red);z-index:3;pointer-events:none}.tl-today-label{position:absolute;top:-18px;left:50%;transform:translate(-50%);font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--accent-red);white-space:nowrap;background:var(--bg-tertiary);padding:1px 4px;border-radius:2px}.tl-dep-svg{position:absolute;top:0;left:0;pointer-events:none;z-index:2}.tl-bar{position:absolute;top:10px;height:60px;border-radius:4px;background:var(--accent-blue);display:flex;align-items:flex-start;gap:4px;padding:6px 8px;cursor:grab;transition:box-shadow .1s,opacity .1s;box-shadow:0 1px 3px #0000004d;z-index:1;overflow:hidden;min-width:8px;flex-wrap:wrap}.tl-bar:hover{box-shadow:0 2px 6px #00000080;z-index:4}.tl-bar:active{cursor:grabbing}.tl-bar.selected{outline:2px solid #fff;outline-offset:1px;z-index:4}.tl-bar.completed{background:var(--accent-green);opacity:.6}.tl-bar.dragging{opacity:.85;box-shadow:0 4px 12px #00000080;z-index:10}.tl-bar.clipped-left{border-top-left-radius:0;border-bottom-left-radius:0;border-left:2px solid rgba(255,255,255,.3)}.tl-bar.clipped-right{border-top-right-radius:0;border-bottom-right-radius:0;border-right:2px solid rgba(255,255,255,.3)}.tl-bar.buffer{background:var(--accent-orange);opacity:.7;border-style:dashed;border-width:1px;border-color:#ffffff4d}.tl-bar.buffer:hover{opacity:.85}.tl-bar-label{font-size:11px;font-weight:500;color:#fff;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0;text-shadow:0 1px 2px rgba(0,0,0,.3);display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;line-height:1.3}.tl-bar-est{font-size:9px;font-weight:700;color:#ffffffbf;white-space:nowrap;flex-shrink:0;background:#0003;padding:1px 4px;border-radius:3px}.tl-bar-handle{position:absolute;top:0;bottom:0;width:6px;cursor:col-resize;z-index:2;opacity:0;transition:opacity .1s}.tl-bar:hover .tl-bar-handle{opacity:1}.tl-bar-handle:after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:2px;height:14px;border-radius:1px;background:#fff9}.tl-bar-handle-left{left:0}.tl-bar-handle-left:after{left:2px}.tl-bar-handle-right{right:0}.tl-bar-handle-right:after{right:2px}.tl-viewport.shelf-dropping{outline:2px dashed var(--accent-blue);outline-offset:-2px}.tl-shelf-drop-indicator{position:absolute;top:0;width:2px;background:var(--accent-blue);z-index:10;pointer-events:none;box-shadow:0 0 6px var(--accent-blue)}.tl-shelf{border-top:1px solid var(--border-color);background:var(--bg-secondary);flex-shrink:0;max-height:200px;overflow-y:auto}.tl-shelf-header{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;padding:8px 12px 4px}.tl-shelf-items{display:flex;flex-wrap:wrap;gap:6px;padding:4px 12px 10px}.tl-shelf-item{display:flex;align-items:center;gap:6px;padding:6px 10px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:grab;transition:all .1s;max-width:220px}.tl-shelf-item:hover{border-color:var(--accent-blue);background:var(--bg-hover)}.tl-shelf-item.selected{border-color:var(--accent-blue);box-shadow:0 0 0 1px var(--accent-blue)}.tl-shelf-item.completed{opacity:.5}.tl-shelf-item.completed .tl-shelf-item-title{text-decoration:line-through}.tl-shelf-item-title{font-size:11px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.tl-shelf-item-est{font-size:9px;font-weight:700;color:var(--text-tertiary);white-space:nowrap;flex-shrink:0;background:var(--bg-hover);padding:1px 4px;border-radius:3px}.ft-view{display:flex;height:100%;overflow:hidden;background:var(--bg-primary)}.ft-tree-panel{width:320px;flex-shrink:0;border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.ft-tree-toolbar{padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);display:flex;gap:8px}.ft-tree-list{flex:1;overflow-y:auto;padding:8px 0}.ft-node{display:flex;align-items:center;gap:6px;padding:6px 12px;cursor:pointer;font-size:13px;color:var(--text-primary);transition:background .1s;-webkit-user-select:none;user-select:none}.ft-node:hover{background:var(--bg-hover)}.ft-node.selected{background:#4493f826;border-right:2px solid var(--accent-blue)}.ft-node-chevron{width:16px;flex-shrink:0;color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;cursor:pointer}.ft-node-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ft-node-badges{display:flex;align-items:center;gap:4px;flex-shrink:0}.ft-node-member-count{font-size:11px;color:var(--text-tertiary);background:var(--bg-tertiary);padding:1px 6px;border-radius:8px}.ft-node-oncall{font-size:14px}.ft-node-add-child{opacity:0;transition:opacity .1s;background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:flex;align-items:center}.ft-node-add-child:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-node:hover .ft-node-add-child{opacity:1}.ft-detail-panel{flex:1;overflow-y:auto;padding:20px 24px}.ft-empty-detail{display:flex;align-items:center;justify-content:center}.ft-detail-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.ft-detail-title{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.ft-detail-section{margin-bottom:20px}.ft-detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 8px}.ft-subsection{margin-top:12px}.ft-subsection h4{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;color:var(--text-tertiary);margin:0 0 6px}.ft-input{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none}.ft-input:focus{border-color:var(--accent-blue)}.ft-input-full{width:100%;box-sizing:border-box}.ft-textarea{width:100%;box-sizing:border-box;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:8px;resize:vertical;font-family:inherit;outline:none}.ft-textarea:focus{border-color:var(--accent-blue)}.ft-select{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none;cursor:pointer}.ft-select:focus{border-color:var(--accent-blue)}.ft-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ft-btn:hover{background:var(--bg-hover)}.ft-btn:disabled{opacity:.5;cursor:not-allowed}.ft-btn-sm{padding:4px 8px;font-size:11px}.ft-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ft-btn-danger:hover{background:#f8514926}.ft-btn-icon{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:inline-flex;align-items:center}.ft-btn-icon:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-toggle-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;margin-bottom:10px}.ft-toggle-row input[type=checkbox]{cursor:pointer}.ft-field-row{display:flex;align-items:center;gap:10px;margin-bottom:8px}.ft-field-label{font-size:12px;color:var(--text-secondary);min-width:80px}.ft-member-list{display:flex;flex-direction:column;gap:2px}.ft-member-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;cursor:pointer;font-size:13px;color:var(--text-secondary);transition:background .1s}.ft-member-row:hover{background:var(--bg-hover)}.ft-member-row.active{color:var(--text-primary)}.ft-member-row input[type=checkbox]{cursor:pointer}.ft-member-avatar{font-size:16px}.ft-member-name{flex:1}.ft-oncall-current{display:flex;align-items:center;gap:10px;padding:12px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-green, #3fb950);margin-bottom:12px}.ft-oncall-current-avatar{font-size:24px}.ft-oncall-current-label{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.ft-oncall-current-name{font-size:14px;font-weight:600;color:var(--text-primary)}.ft-oncall-order{display:flex;flex-direction:column;gap:4px;margin:8px 0}.ft-oncall-order-item{display:flex;align-items:center;gap:8px;padding:6px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;cursor:grab;font-size:13px;transition:background .1s}.ft-oncall-order-item:active{cursor:grabbing}.ft-oncall-order-item.dragging{opacity:.5}.ft-oncall-order-index{color:var(--text-tertiary);font-size:11px;width:16px;text-align:center}.ft-oncall-override{display:flex;gap:6px;align-items:center}.ft-oncall-override .ft-select,.ft-oncall-override .ft-input{flex:1}.ft-oncall-override-history{margin-top:8px}.ft-oncall-override-row{display:flex;align-items:center;gap:8px;padding:4px 0;font-size:12px;color:var(--text-secondary)}.ft-muted{color:var(--text-tertiary);font-size:12px;font-style:italic}.ft-schedule-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:6px}.ft-schedule-table th{text-align:left;padding:6px 8px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);font-weight:500}.ft-schedule-table td{padding:6px 8px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.ft-schedule-current td{background:#3fb9501a;font-weight:500;color:var(--accent-green, #3fb950)}.ft-empty{padding:40px 20px;text-align:center;color:var(--text-tertiary);font-size:13px}.ft-empty-icon{font-size:32px;margin-bottom:12px}.ft-node-resource-count{font-size:11px;color:var(--text-tertiary);background:#4493f826;padding:1px 5px;border-radius:8px}.ft-resource-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-resource-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-resource-row:hover{background:var(--bg-hover)}.ft-resource-icon{flex-shrink:0;font-size:14px}.ft-resource-label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-primary)}.ft-resource-link{color:var(--accent-blue, #4493f8);text-decoration:none}.ft-resource-link:hover{text-decoration:underline}.ft-resource-visibility{font-size:11px;padding:2px 6px;border-radius:4px;border:1px solid transparent;background:var(--bg-tertiary);color:var(--text-tertiary);cursor:pointer;outline:none}.ft-resource-visibility[data-visibility=public]{color:var(--text-tertiary);background:var(--bg-tertiary)}.ft-resource-visibility[data-visibility=team-only]{color:#d29922;background:#d299221f;border-color:#d299224d}.ft-resource-visibility[data-visibility=restricted]{color:#f85149;background:#f851491f;border-color:#f851494d}.ft-resource-add{display:flex;gap:6px;align-items:center;margin-top:8px;flex-wrap:wrap}.ft-resource-add .ft-input{flex:1;min-width:100px}.ft-select-sm{font-size:11px;padding:4px 6px}.ft-partner-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-partner-row{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-partner-row:hover{background:var(--bg-hover)}.ft-partner-link{flex:1;color:var(--accent-blue, #4493f8);cursor:pointer;font-weight:500}.ft-partner-link:hover{text-decoration:underline}.ft-partner-member-count{font-size:11px;color:var(--text-tertiary)}.ft-partner-add{display:flex;gap:6px;align-items:center;margin-top:8px}.ft-partner-add .ft-select{flex:1}.ppl-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary);padding:20px 24px}.ppl-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.ppl-title{font-size:20px;font-weight:600;color:var(--text-primary);margin:0}.ppl-stats{font-size:13px;color:var(--text-tertiary)}.ppl-content{flex:1;overflow-y:auto}.ppl-section{margin-bottom:24px}.ppl-section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 12px}.ppl-list{display:flex;flex-direction:column;gap:8px}.ppl-empty{padding:20px;text-align:center;color:var(--text-tertiary);font-size:13px;font-style:italic}.ppl-card{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;transition:background .1s}.ppl-card:hover{background:var(--bg-hover)}.ppl-card.disabled{opacity:.5}.ppl-card.system{background:var(--bg-tertiary);border-style:dashed}.ppl-card.editing{flex-wrap:wrap;gap:10px}.ppl-card.new{border-color:var(--accent-blue);border-style:dashed;background:#4493f80d}.ppl-card-avatar{font-size:28px;flex-shrink:0}.ppl-card-info{flex:1;min-width:0}.ppl-card-name{font-size:14px;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-email{font-size:12px;color:var(--text-tertiary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-badge{font-size:10px;padding:2px 6px;background:var(--bg-tertiary);color:var(--text-tertiary);border-radius:4px;text-transform:uppercase;letter-spacing:.3px;margin-top:4px;display:inline-block}.ppl-card-actions{display:flex;align-items:center;gap:6px;flex-shrink:0}.ppl-card-avatar-edit{position:relative}.ppl-avatar-btn{font-size:28px;background:var(--bg-tertiary);border:2px dashed var(--border-color);border-radius:8px;padding:4px 8px;cursor:pointer;transition:border-color .1s}.ppl-avatar-btn:hover{border-color:var(--accent-blue)}.ppl-avatar-picker{position:absolute;top:100%;left:0;margin-top:4px;padding:8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000004d;display:grid;grid-template-columns:repeat(6,1fr);gap:4px;z-index:100}.ppl-avatar-option{font-size:20px;padding:4px;background:none;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .1s}.ppl-avatar-option:hover{background:var(--bg-hover)}.ppl-avatar-option.selected{border-color:var(--accent-blue);background:#4493f81a}.ppl-card-fields{flex:1;display:flex;flex-direction:column;gap:6px;min-width:200px}.ppl-input{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 10px;outline:none;width:100%;box-sizing:border-box}.ppl-input:focus{border-color:var(--accent-blue)}.ppl-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ppl-btn:hover{background:var(--bg-hover)}.ppl-btn:disabled{opacity:.5;cursor:not-allowed}.ppl-btn-sm{padding:4px 8px;font-size:11px}.ppl-btn-primary{background:var(--accent-blue, #4493f8);border-color:var(--accent-blue, #4493f8);color:#fff}.ppl-btn-primary:hover{background:#5ba3f8}.ppl-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ppl-btn-danger:hover{background:#f8514926}.ppl-toggle{font-size:11px;padding:4px 8px;border-radius:4px;border:none;cursor:pointer;font-weight:500}.ppl-toggle.on{background:#3fb95026;color:var(--accent-green, #3fb950)}.ppl-toggle.off{background:#f851491a;color:var(--accent-red, #f85149)}.ppl-add-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;font-size:13px;font-weight:500;border:2px dashed var(--border-color);border-radius:8px;background:transparent;color:var(--text-secondary);cursor:pointer;transition:all .1s}.ppl-add-btn:hover{border-color:var(--accent-blue);color:var(--accent-blue);background:#4493f80d}.ppl-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.ppl-modal{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 8px 24px #0006}.ppl-modal-title{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:12px}.ppl-modal-body{font-size:13px;color:var(--text-secondary);margin-bottom:16px;line-height:1.5}.ppl-modal-actions{display:flex;justify-content:flex-end;gap:8px}.auth-btn-container{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.auth-btn{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;border:1px solid transparent;transition:all .15s ease}.auth-btn-signin{background:#4285f4;color:#fff;border-color:#4285f4}.auth-btn-signin:hover{background:#3367d6;border-color:#3367d6}.auth-btn-signout{background:var(--bg-tertiary, #f5f5f5);color:var(--text-secondary, #666);border-color:var(--border-color, #ddd)}.auth-btn-signout:hover{background:var(--bg-hover, #eee)}.auth-btn-loading{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:wait}.auth-btn-disabled{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:not-allowed;opacity:.7}.auth-error{font-size:11px;color:var(--color-danger, #dc3545);max-width:200px}.sync-status{display:inline-flex;align-items:center}.sync-status-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:4px;font-size:12px;background:var(--bg-secondary, #f8f8f8);border:1px solid var(--border-color, #ddd);cursor:pointer;transition:all .15s ease;color:var(--text-muted, #999);opacity:.7}.sync-status-btn:hover{background:var(--bg-hover, #eee)}.sync-icon{font-size:14px}.sync-state-syncing .sync-icon{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sync-state-error{border-color:var(--color-danger, #dc3545);color:var(--color-danger, #dc3545)}.sync-state-offline{border-color:var(--color-warning, #ffc107);color:var(--text-muted, #666)}</style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Register Service Worker -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('SW registered:', reg.scope))
            .catch(err => console.log('SW registration failed:', err));
        });
      }
    </script>
  </body>
</html>
