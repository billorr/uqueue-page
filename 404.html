<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Cross-platform task management with Google Drive sync" />
    <meta name="theme-color" content="#4F81F5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="UQueue" />

    <title>UQueue - Task Manager</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json" />

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16.png" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />
    <script type="module" crossorigin>var qi=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var P=(e,t,n)=>(qi(e,t,"read from private field"),n?n.call(e):t.get(e)),G=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},se=(e,t,n,r)=>(qi(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var L=(e,t,n)=>(qi(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ep(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jd={exports:{}},Mi={},Sd={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),Cp=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Ip=Symbol.for("react.provider"),_p=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Rp=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),Gc=Symbol.iterator;function Ap(e){return e===null||typeof e!="object"?null:(e=Gc&&e[Gc]||e["@@iterator"],typeof e=="function"?e:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dd=Object.assign,Ed={};function as(e,t,n){this.props=e,this.context=t,this.refs=Ed,this.updater=n||Nd}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=as.prototype;function Qo(e,t,n){this.props=e,this.context=t,this.refs=Ed,this.updater=n||Nd}var Go=Qo.prototype=new Cd;Go.constructor=Qo;Dd(Go,as.prototype);Go.isPureReactComponent=!0;var Kc=Array.isArray,Td=Object.prototype.hasOwnProperty,Ko={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Td.call(t,r)&&!Pd.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ol,type:e,key:l,ref:a,props:s,_owner:Ko.current}}function zp(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function Fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xc=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fp(""+e.key):t.toString(36)}function Ml(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ol:case Cp:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ea(a,0):r,Kc(s)?(n="",e!=null&&(n=e.replace(Xc,"$&/")+"/"),Ml(s,t,n,"",function(d){return d})):s!=null&&(Xo(s)&&(s=zp(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Kc(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+ea(l,o);a+=Ml(l,t,n,c,s)}else if(c=Ap(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+ea(l,o++),a+=Ml(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gl(e,t,n){if(e==null)return e;var r=[],s=0;return Ml(e,r,"","",function(l){return t.call(n,l,s++)}),r}function $p(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Rl={transition:null},Bp={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:Ko};ie.Children={map:gl,forEach:function(e,t,n){gl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gl(e,function(){t++}),t},toArray:function(e){return gl(e,function(t){return t})||[]},only:function(e){if(!Xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=as;ie.Fragment=Tp;ie.Profiler=bp;ie.PureComponent=Qo;ie.StrictMode=Pp;ie.Suspense=Mp;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dd({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Ko.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Td.call(t,c)&&!Pd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:ol,type:e.type,key:s,ref:l,props:r,_owner:a}};ie.createContext=function(e){return e={$$typeof:_p,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ip,_context:e},e.Consumer=e};ie.createElement=bd;ie.createFactory=function(e){var t=bd.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Op,render:e}};ie.isValidElement=Xo;ie.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:$p}};ie.memo=function(e,t){return{$$typeof:Rp,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(e,t){return rt.current.useCallback(e,t)};ie.useContext=function(e){return rt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return rt.current.useEffect(e,t)};ie.useId=function(){return rt.current.useId()};ie.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return rt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};ie.useRef=function(e){return rt.current.useRef(e)};ie.useState=function(e){return rt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return rt.current.useTransition()};ie.version="18.2.0";Sd.exports=ie;var C=Sd.exports;const Id=Ep(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=C,Up=Symbol.for("react.element"),Hp=Symbol.for("react.fragment"),Vp=Object.prototype.hasOwnProperty,Yp=Wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Vp.call(t,r)&&!Qp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Up,type:e,key:l,ref:a,props:s,_owner:Yp.current}}Mi.Fragment=Hp;Mi.jsx=_d;Mi.jsxs=_d;jd.exports=Mi;var i=jd.exports,Od={exports:{}},kt={},Md={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Z){var te=Y.length;Y.push(Z);e:for(;0<te;){var oe=te-1>>>1,pe=Y[oe];if(0<s(pe,Z))Y[oe]=Z,Y[te]=pe,te=oe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Z=Y[0],te=Y.pop();if(te!==Z){Y[0]=te;e:for(var oe=0,pe=Y.length,Ye=pe>>>1;oe<Ye;){var je=2*(oe+1)-1,ge=Y[je],Oe=je+1,Ce=Y[Oe];if(0>s(ge,te))Oe<pe&&0>s(Ce,ge)?(Y[oe]=Ce,Y[Oe]=te,oe=Oe):(Y[oe]=ge,Y[je]=te,oe=je);else if(Oe<pe&&0>s(Ce,te))Y[oe]=Ce,Y[Oe]=te,oe=Oe;else break e}}return Z}function s(Y,Z){var te=Y.sortIndex-Z.sortIndex;return te!==0?te:Y.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],h=1,x=null,p=3,v=!1,T=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(Y){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=Y)r(d),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=n(d)}}function k(Y){if(S=!1,g(Y),!T)if(n(c)!==null)T=!0,V(D);else{var Z=n(d);Z!==null&&re(k,Z.startTime-Y)}}function D(Y,Z){T=!1,S&&(S=!1,f(b),b=-1),v=!0;var te=p;try{for(g(Z),x=n(c);x!==null&&(!(x.expirationTime>Z)||Y&&!m());){var oe=x.callback;if(typeof oe=="function"){x.callback=null,p=x.priorityLevel;var pe=oe(x.expirationTime<=Z);Z=e.unstable_now(),typeof pe=="function"?x.callback=pe:x===n(c)&&r(c),g(Z)}else r(c);x=n(c)}if(x!==null)var Ye=!0;else{var je=n(d);je!==null&&re(k,je.startTime-Z),Ye=!1}return Ye}finally{x=null,p=te,v=!1}}var E=!1,I=null,b=-1,R=5,z=-1;function m(){return!(e.unstable_now()-z<R)}function W(){if(I!==null){var Y=e.unstable_now();z=Y;var Z=!0;try{Z=I(!0,Y)}finally{Z?Q():(E=!1,I=null)}}else E=!1}var Q;if(typeof u=="function")Q=function(){u(W)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=W,Q=function(){ae.postMessage(null)}}else Q=function(){j(W,0)};function V(Y){I=Y,E||(E=!0,Q())}function re(Y,Z){b=j(function(){Y(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){T||v||(T=!0,V(D))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var te=p;p=Z;try{return Y()}finally{p=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=p;p=Y;try{return Z()}finally{p=te}},e.unstable_scheduleCallback=function(Y,Z,te){var oe=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,Y){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=te+pe,Y={id:h++,callback:Z,priorityLevel:Y,startTime:te,expirationTime:pe,sortIndex:-1},te>oe?(Y.sortIndex=te,t(d,Y),n(c)===null&&Y===n(d)&&(S?(f(b),b=-1):S=!0,re(k,te-oe))):(Y.sortIndex=pe,t(c,Y),T||v||(T=!0,V(D))),Y},e.unstable_shouldYield=m,e.unstable_wrapCallback=function(Y){var Z=p;return function(){var te=p;p=Z;try{return Y.apply(this,arguments)}finally{p=te}}}})(Rd);Md.exports=Rd;var Gp=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld=C,wt=Gp;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ad=new Set,As={};function gr(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(As[e]=t,e=0;e<t.length;e++)Ad.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,Kp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zc={},Jc={};function Xp(e){return Ua.call(Jc,e)?!0:Ua.call(Zc,e)?!1:Kp.test(e)?Jc[e]=!0:(Zc[e]=!0,!1)}function Zp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jp(e,t,n,r){if(t===null||typeof t>"u"||Zp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zo=/[\-:]([a-z])/g;function Jo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zo,Jo);Ve[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zo,Jo);Ve[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zo,Jo);Ve[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function qo(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jp(t,n,s,r)&&(n=null),r||s===null?Xp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Ld.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),ec=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),zd=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),nc=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),$d=Symbol.for("react.offscreen"),qc=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,ta;function js(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,o=l.length-1;1<=a&&0<=o&&s[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==l[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?js(e):""}function qp(e){switch(e.tag){case 5:return js(e.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case jr:return"Portal";case Ha:return"Profiler";case ec:return"StrictMode";case Va:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fd:return(e.displayName||"Context")+".Consumer";case zd:return(e._context.displayName||"Context")+".Provider";case tc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nc:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function em(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tm(e){var t=Bd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yl(e){e._valueTracker||(e._valueTracker=tm(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ga(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ud(e,t){t=t.checked,t!=null&&qo(e,"checked",t,!1)}function Ka(e,t){Ud(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xa(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xa(e,t,n){(t!=="number"||Zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ss=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Za(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ss(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function Hd(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,Yd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nm=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(e){nm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ts[t]=Ts[e]})});function Qd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ts.hasOwnProperty(e)&&Ts[e]?(""+t).trim():t+"px"}function Gd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var rm=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(e,t){if(t){if(rm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function eo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var no=null,Rr=null,Lr=null;function su(e){if(e=dl(e)){if(typeof no!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Fi(t),no(e.stateNode,e.type,t))}}function Kd(e){Rr?Lr?Lr.push(e):Lr=[e]:Rr=e}function Xd(){if(Rr){var e=Rr,t=Lr;if(Lr=Rr=null,su(e),t)for(e=0;e<t.length;e++)su(t[e])}}function Zd(e,t){return e(t)}function Jd(){}var sa=!1;function qd(e,t,n){if(sa)return e(t,n);sa=!0;try{return Zd(e,t,n)}finally{sa=!1,(Rr!==null||Lr!==null)&&(Jd(),Xd())}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var r=Fi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var ro=!1;if(dn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){ro=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{ro=!1}function sm(e,t,n,r,s,l,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Ps=!1,Jl=null,ql=!1,so=null,lm={onError:function(e){Ps=!0,Jl=e}};function im(e,t,n,r,s,l,a,o,c){Ps=!1,Jl=null,sm.apply(lm,arguments)}function am(e,t,n,r,s,l,a,o,c){if(im.apply(this,arguments),Ps){if(Ps){var d=Jl;Ps=!1,Jl=null}else throw Error(B(198));ql||(ql=!0,so=d)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ef(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(vr(e)!==e)throw Error(B(188))}function om(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return lu(s),e;if(l===r)return lu(s),t;l=l.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function tf(e){return e=om(e),e!==null?nf(e):null}function nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nf(e);if(t!==null)return t;e=e.sibling}return null}var rf=wt.unstable_scheduleCallback,iu=wt.unstable_cancelCallback,cm=wt.unstable_shouldYield,um=wt.unstable_requestPaint,Ie=wt.unstable_now,dm=wt.unstable_getCurrentPriorityLevel,sc=wt.unstable_ImmediatePriority,sf=wt.unstable_UserBlockingPriority,ei=wt.unstable_NormalPriority,fm=wt.unstable_LowPriority,lf=wt.unstable_IdlePriority,Ri=null,qt=null;function hm(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:gm,pm=Math.log,mm=Math.LN2;function gm(e){return e>>>=0,e===0?32:31-(pm(e)/mm|0)|0}var wl=64,kl=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Ns(o):(l&=a,l!==0&&(r=Ns(l)))}else a=n&~s,a!==0?r=Ns(a):l!==0&&(r=Ns(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function vm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-zt(l),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=vm(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function af(){var e=wl;return wl<<=1,!(wl&4194240)&&(wl=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function xm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var he=0;function of(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cf,ic,uf,df,ff,io=!1,jl=[],Rn=null,Ln=null,An=null,$s=new Map,Bs=new Map,Nn=[],wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function hs(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=dl(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function km(e,t,n,r,s){switch(t){case"focusin":return Rn=hs(Rn,e,t,n,r,s),!0;case"dragenter":return Ln=hs(Ln,e,t,n,r,s),!0;case"mouseover":return An=hs(An,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return $s.set(l,hs($s.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Bs.set(l,hs(Bs.get(l)||null,e,t,n,r,s)),!0}return!1}function hf(e){var t=er(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=ef(n),t!==null){e.blockedOn=t,ff(e.priority,function(){uf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);to=r,n.target.dispatchEvent(r),to=null}else return t=dl(n),t!==null&&ic(t),e.blockedOn=n,!1;t.shift()}return!0}function ou(e,t,n){Ll(e)&&n.delete(t)}function jm(){io=!1,Rn!==null&&Ll(Rn)&&(Rn=null),Ln!==null&&Ll(Ln)&&(Ln=null),An!==null&&Ll(An)&&(An=null),$s.forEach(ou),Bs.forEach(ou)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,io||(io=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,jm)))}function Ws(e){function t(s){return ps(s,e)}if(0<jl.length){ps(jl[0],e);for(var n=1;n<jl.length;n++){var r=jl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&ps(Rn,e),Ln!==null&&ps(Ln,e),An!==null&&ps(An,e),$s.forEach(t),Bs.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)hf(n),n.blockedOn===null&&Nn.shift()}var Ar=mn.ReactCurrentBatchConfig,ni=!0;function Sm(e,t,n,r){var s=he,l=Ar.transition;Ar.transition=null;try{he=1,ac(e,t,n,r)}finally{he=s,Ar.transition=l}}function Nm(e,t,n,r){var s=he,l=Ar.transition;Ar.transition=null;try{he=4,ac(e,t,n,r)}finally{he=s,Ar.transition=l}}function ac(e,t,n,r){if(ni){var s=ao(e,t,n,r);if(s===null)ma(e,t,r,ri,n),au(e,r);else if(km(s,e,t,n,r))r.stopPropagation();else if(au(e,r),t&4&&-1<wm.indexOf(e)){for(;s!==null;){var l=dl(s);if(l!==null&&cf(l),l=ao(e,t,n,r),l===null&&ma(e,t,r,ri,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else ma(e,t,r,null,n)}}var ri=null;function ao(e,t,n,r){if(ri=null,e=rc(r),e=er(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ef(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ri=e,null}function pf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dm()){case sc:return 1;case sf:return 4;case ei:case fm:return 16;case lf:return 536870912;default:return 16}default:return 16}}var On=null,oc=null,Al=null;function mf(){if(Al)return Al;var e,t=oc,n=t.length,r,s="value"in On?On.value:On.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return Al=s.slice(e,1<r?1-r:void 0)}function zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function cu(){return!1}function jt(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Sl:cu,this.isPropagationStopped=cu,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=jt(os),ul=Ee({},os,{view:0,detail:0}),Dm=jt(ul),ia,aa,ms,Li=Ee({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(ia=e.screenX-ms.screenX,aa=e.screenY-ms.screenY):aa=ia=0,ms=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),uu=jt(Li),Em=Ee({},Li,{dataTransfer:0}),Cm=jt(Em),Tm=Ee({},ul,{relatedTarget:0}),oa=jt(Tm),Pm=Ee({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=jt(Pm),Im=Ee({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_m=jt(Im),Om=Ee({},os,{data:0}),du=jt(Om),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Am(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lm[e])?!!t[e]:!1}function uc(){return Am}var zm=Ee({},ul,{key:function(e){if(e.key){var t=Mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=jt(zm),$m=Ee({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=jt($m),Bm=Ee({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Wm=jt(Bm),Um=Ee({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hm=jt(Um),Vm=Ee({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=jt(Vm),Qm=[9,13,27,32],dc=dn&&"CompositionEvent"in window,bs=null;dn&&"documentMode"in document&&(bs=document.documentMode);var Gm=dn&&"TextEvent"in window&&!bs,gf=dn&&(!dc||bs&&8<bs&&11>=bs),hu=" ",pu=!1;function vf(e,t){switch(e){case"keyup":return Qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function Km(e,t){switch(e){case"compositionend":return yf(t);case"keypress":return t.which!==32?null:(pu=!0,hu);case"textInput":return e=t.data,e===hu&&pu?null:e;default:return null}}function Xm(e,t){if(Nr)return e==="compositionend"||!dc&&vf(e,t)?(e=mf(),Al=oc=On=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gf&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function xf(e,t,n,r){Kd(r),t=si(t,"onChange"),0<t.length&&(n=new cc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Is=null,Us=null;function Jm(e){bf(e,0)}function Ai(e){var t=Cr(e);if(Wd(t))return e}function qm(e,t){if(e==="change")return t}var wf=!1;if(dn){var ca;if(dn){var ua="oninput"in document;if(!ua){var gu=document.createElement("div");gu.setAttribute("oninput","return;"),ua=typeof gu.oninput=="function"}ca=ua}else ca=!1;wf=ca&&(!document.documentMode||9<document.documentMode)}function vu(){Is&&(Is.detachEvent("onpropertychange",kf),Us=Is=null)}function kf(e){if(e.propertyName==="value"&&Ai(Us)){var t=[];xf(t,Us,e,rc(e)),qd(Jm,t)}}function eg(e,t,n){e==="focusin"?(vu(),Is=t,Us=n,Is.attachEvent("onpropertychange",kf)):e==="focusout"&&vu()}function tg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Us)}function ng(e,t){if(e==="click")return Ai(t)}function rg(e,t){if(e==="input"||e==="change")return Ai(t)}function sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:sg;function Hs(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ua.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var n=yu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yu(n)}}function jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sf(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zl(e.document)}return t}function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lg(e){var t=Sf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jf(n.ownerDocument.documentElement,n)){if(r!==null&&fc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=xu(n,l);var a=xu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ig=dn&&"documentMode"in document&&11>=document.documentMode,Dr=null,oo=null,_s=null,co=!1;function wu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;co||Dr==null||Dr!==Zl(r)||(r=Dr,"selectionStart"in r&&fc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Hs(_s,r)||(_s=r,r=si(oo,"onSelect"),0<r.length&&(t=new cc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}function Nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},da={},Nf={};dn&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function zi(e){if(da[e])return da[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nf)return da[e]=t[n];return e}var Df=zi("animationend"),Ef=zi("animationiteration"),Cf=zi("animationstart"),Tf=zi("transitionend"),Pf=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Pf.set(e,t),gr(t,[e])}for(var fa=0;fa<ku.length;fa++){var ha=ku[fa],ag=ha.toLowerCase(),og=ha[0].toUpperCase()+ha.slice(1);Yn(ag,"on"+og)}Yn(Df,"onAnimationEnd");Yn(Ef,"onAnimationIteration");Yn(Cf,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Tf,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function ju(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,am(r,t,void 0,e),e.currentTarget=null}function bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&s.isPropagationStopped())break e;ju(s,o,d),l=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&s.isPropagationStopped())break e;ju(s,o,d),l=c}}}if(ql)throw e=so,ql=!1,so=null,e}function xe(e,t){var n=t[mo];n===void 0&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(If(t,e,2,!1),n.add(r))}function pa(e,t,n){var r=0;t&&(r|=4),If(n,e,r,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Dl]){e[Dl]=!0,Ad.forEach(function(n){n!=="selectionchange"&&(cg.has(n)||pa(n,!1,e),pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,pa("selectionchange",!1,t))}}function If(e,t,n,r){switch(pf(t)){case 1:var s=Sm;break;case 4:s=Nm;break;default:s=ac}n=s.bind(null,t,n,e),s=void 0,!ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ma(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=er(o),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}o=o.parentNode}}r=r.return}qd(function(){var d=l,h=rc(n),x=[];e:{var p=Pf.get(e);if(p!==void 0){var v=cc,T=e;switch(e){case"keypress":if(zl(n)===0)break e;case"keydown":case"keyup":v=Fm;break;case"focusin":T="focus",v=oa;break;case"focusout":T="blur",v=oa;break;case"beforeblur":case"afterblur":v=oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wm;break;case Df:case Ef:case Cf:v=bm;break;case Tf:v=Hm;break;case"scroll":v=Dm;break;case"wheel":v=Ym;break;case"copy":case"cut":case"paste":v=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fu}var S=(t&4)!==0,j=!S&&e==="scroll",f=S?p!==null?p+"Capture":null:p;S=[];for(var u=d,g;u!==null;){g=u;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,f!==null&&(k=Fs(u,f),k!=null&&S.push(Ys(u,k,g)))),j)break;u=u.return}0<S.length&&(p=new v(p,T,null,n,h),x.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==to&&(T=n.relatedTarget||n.fromElement)&&(er(T)||T[fn]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=d,T=T?er(T):null,T!==null&&(j=vr(T),T!==j||T.tag!==5&&T.tag!==6)&&(T=null)):(v=null,T=d),v!==T)){if(S=uu,k="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=fu,k="onPointerLeave",f="onPointerEnter",u="pointer"),j=v==null?p:Cr(v),g=T==null?p:Cr(T),p=new S(k,u+"leave",v,n,h),p.target=j,p.relatedTarget=g,k=null,er(h)===d&&(S=new S(f,u+"enter",T,n,h),S.target=g,S.relatedTarget=j,k=S),j=k,v&&T)t:{for(S=v,f=T,u=0,g=S;g;g=wr(g))u++;for(g=0,k=f;k;k=wr(k))g++;for(;0<u-g;)S=wr(S),u--;for(;0<g-u;)f=wr(f),g--;for(;u--;){if(S===f||f!==null&&S===f.alternate)break t;S=wr(S),f=wr(f)}S=null}else S=null;v!==null&&Su(x,p,v,S,!1),T!==null&&j!==null&&Su(x,j,T,S,!0)}}e:{if(p=d?Cr(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=qm;else if(mu(p))if(wf)D=rg;else{D=tg;var E=eg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=ng);if(D&&(D=D(e,d))){xf(x,D,n,h);break e}E&&E(e,p,d),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Xa(p,"number",p.value)}switch(E=d?Cr(d):window,e){case"focusin":(mu(E)||E.contentEditable==="true")&&(Dr=E,oo=d,_s=null);break;case"focusout":_s=oo=Dr=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,wu(x,n,h);break;case"selectionchange":if(ig)break;case"keydown":case"keyup":wu(x,n,h)}var I;if(dc)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nr?vf(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(gf&&n.locale!=="ko"&&(Nr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Nr&&(I=mf()):(On=h,oc="value"in On?On.value:On.textContent,Nr=!0)),E=si(d,b),0<E.length&&(b=new du(b,e,null,n,h),x.push({event:b,listeners:E}),I?b.data=I:(I=yf(n),I!==null&&(b.data=I)))),(I=Gm?Km(e,n):Xm(e,n))&&(d=si(d,"onBeforeInput"),0<d.length&&(h=new du("onBeforeInput","beforeinput",null,n,h),x.push({event:h,listeners:d}),h.data=I))}bf(x,t)})}function Ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function si(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Fs(e,n),l!=null&&r.unshift(Ys(e,l,s)),l=Fs(e,t),l!=null&&r.push(Ys(e,l,s))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=Fs(n,l),c!=null&&a.unshift(Ys(n,c,o))):s||(c=Fs(n,l),c!=null&&a.push(Ys(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var ug=/\r\n?/g,dg=/\u0000|\uFFFD/g;function Nu(e){return(typeof e=="string"?e:""+e).replace(ug,`
`).replace(dg,"")}function El(e,t,n){if(t=Nu(t),Nu(e)!==t&&n)throw Error(B(425))}function li(){}var uo=null,fo=null;function ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var po=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(pg)}:po;function pg(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ws(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ws(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+cs,Qs="__reactProps$"+cs,fn="__reactContainer$"+cs,mo="__reactEvents$"+cs,mg="__reactListeners$"+cs,gg="__reactHandles$"+cs;function er(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eu(e);e!==null;){if(n=e[Zt])return n;e=Eu(e)}return t}e=n,n=e.parentNode}return null}function dl(e){return e=e[Zt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Fi(e){return e[Qs]||null}var go=[],Tr=-1;function Qn(e){return{current:e}}function we(e){0>Tr||(e.current=go[Tr],go[Tr]=null,Tr--)}function ve(e,t){Tr++,go[Tr]=e.current,e.current=t}var Hn={},qe=Qn(Hn),ut=Qn(!1),dr=Hn;function ts(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function ii(){we(ut),we(qe)}function Cu(e,t,n){if(qe.current!==Hn)throw Error(B(168));ve(qe,t),ve(ut,n)}function _f(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,em(e)||"Unknown",s));return Ee({},n,r)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,dr=qe.current,ve(qe,e),ve(ut,ut.current),!0}function Tu(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=_f(e,t,dr),r.__reactInternalMemoizedMergedChildContext=e,we(ut),we(qe),ve(qe,e)):we(ut),ve(ut,n)}var sn=null,$i=!1,va=!1;function Of(e){sn===null?sn=[e]:sn.push(e)}function vg(e){$i=!0,Of(e)}function Gn(){if(!va&&sn!==null){va=!0;var e=0,t=he;try{var n=sn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,$i=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),rf(sc,Gn),s}finally{he=t,va=!1}}return null}var Pr=[],br=0,oi=null,ci=0,Et=[],Ct=0,fr=null,on=1,cn="";function Zn(e,t){Pr[br++]=ci,Pr[br++]=oi,oi=e,ci=t}function Mf(e,t,n){Et[Ct++]=on,Et[Ct++]=cn,Et[Ct++]=fr,fr=e;var r=on;e=cn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var l=32-zt(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,on=1<<32-zt(t)+s|n<<s|r,cn=l+e}else on=1<<l|n<<s|r,cn=e}function hc(e){e.return!==null&&(Zn(e,1),Mf(e,1,0))}function pc(e){for(;e===oi;)oi=Pr[--br],Pr[br]=null,ci=Pr[--br],Pr[br]=null;for(;e===fr;)fr=Et[--Ct],Et[Ct]=null,cn=Et[--Ct],Et[Ct]=null,on=Et[--Ct],Et[Ct]=null}var xt=null,yt=null,ke=!1,At=null;function Rf(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:on,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,yt=null,!0):!1;default:return!1}}function vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yo(e){if(ke){var t=yt;if(t){var n=t;if(!Pu(e,t)){if(vo(e))throw Error(B(418));t=zn(n.nextSibling);var r=xt;t&&Pu(e,t)?Rf(r,n):(e.flags=e.flags&-4097|2,ke=!1,xt=e)}}else{if(vo(e))throw Error(B(418));e.flags=e.flags&-4097|2,ke=!1,xt=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Cl(e){if(e!==xt)return!1;if(!ke)return bu(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ho(e.type,e.memoizedProps)),t&&(t=yt)){if(vo(e))throw Lf(),Error(B(418));for(;t;)Rf(e,t),t=zn(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?zn(e.stateNode.nextSibling):null;return!0}function Lf(){for(var e=yt;e;)e=zn(e.nextSibling)}function ns(){yt=xt=null,ke=!1}function mc(e){At===null?At=[e]:At.push(e)}var yg=mn.ReactCurrentBatchConfig;function Mt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ui=Qn(null),di=null,Ir=null,gc=null;function vc(){gc=Ir=di=null}function yc(e){var t=ui.current;we(ui),e._currentValue=t}function xo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zr(e,t){di=e,gc=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(di===null)throw Error(B(308));Ir=e,di.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var tr=null;function xc(e){tr===null?tr=[e]:tr.push(e)}function Af(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xc(t)):(n.next=s.next,s.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hn(e,n)}return s=r.interleaved,s===null?(t.next=t,xc(r)):(t.next=s.next,s.next=t),r.interleaved=t,hn(e,n)}function Fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lc(e,n)}}function Iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fi(e,t,n,r){var s=e.updateQueue;Sn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?l=d:a.next=d,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=c))}if(l!==null){var x=s.baseState;a=0,h=d=c=null,o=l;do{var p=o.lane,v=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var T=e,S=o;switch(p=t,v=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){x=T.call(v,x,p);break e}x=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(v,x,p):T,p==null)break e;x=Ee({},x,p);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=v,c=x):h=h.next=v,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=x),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);pr|=a,e.lanes=a,e.memoizedState=x}}function _u(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Ff=new Ld.Component().refs;function wo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Bn(e),l=un(r,s);l.payload=t,n!=null&&(l.callback=n),t=Fn(e,l,s),t!==null&&(Ft(t,e,s,r),Fl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Bn(e),l=un(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Fn(e,l,s),t!==null&&(Ft(t,e,s,r),Fl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Bn(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,r),t!==null&&(Ft(t,e,r,n),Fl(t,e,r))}};function Ou(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,r)||!Hs(s,l):!0}function $f(e,t,n){var r=!1,s=Hn,l=t.contextType;return typeof l=="object"&&l!==null?l=bt(l):(s=dt(t)?dr:qe.current,r=t.contextTypes,l=(r=r!=null)?ts(e,s):Hn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Ff,wc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=bt(l):(l=dt(t)?dr:qe.current,s.context=ts(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(wo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bi.enqueueReplaceState(s,s.state,null),fi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=s.refs;o===Ff&&(o=s.refs={}),a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Tl(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Bf(e){function t(f,u){if(e){var g=f.deletions;g===null?(f.deletions=[u],f.flags|=16):g.push(u)}}function n(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function r(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function s(f,u){return f=Wn(f,u),f.index=0,f.sibling=null,f}function l(f,u,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<u?(f.flags|=2,u):g):(f.flags|=2,u)):(f.flags|=1048576,u)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,u,g,k){return u===null||u.tag!==6?(u=Na(g,f.mode,k),u.return=f,u):(u=s(u,g),u.return=f,u)}function c(f,u,g,k){var D=g.type;return D===Sr?h(f,u,g.props.children,k,g.key):u!==null&&(u.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===jn&&Ru(D)===u.type)?(k=s(u,g.props),k.ref=gs(f,u,g),k.return=f,k):(k=Vl(g.type,g.key,g.props,null,f.mode,k),k.ref=gs(f,u,g),k.return=f,k)}function d(f,u,g,k){return u===null||u.tag!==4||u.stateNode.containerInfo!==g.containerInfo||u.stateNode.implementation!==g.implementation?(u=Da(g,f.mode,k),u.return=f,u):(u=s(u,g.children||[]),u.return=f,u)}function h(f,u,g,k,D){return u===null||u.tag!==7?(u=ur(g,f.mode,k,D),u.return=f,u):(u=s(u,g),u.return=f,u)}function x(f,u,g){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Na(""+u,f.mode,g),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vl:return g=Vl(u.type,u.key,u.props,null,f.mode,g),g.ref=gs(f,null,u),g.return=f,g;case jr:return u=Da(u,f.mode,g),u.return=f,u;case jn:var k=u._init;return x(f,k(u._payload),g)}if(Ss(u)||ds(u))return u=ur(u,f.mode,g,null),u.return=f,u;Tl(f,u)}return null}function p(f,u,g,k){var D=u!==null?u.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return D!==null?null:o(f,u,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vl:return g.key===D?c(f,u,g,k):null;case jr:return g.key===D?d(f,u,g,k):null;case jn:return D=g._init,p(f,u,D(g._payload),k)}if(Ss(g)||ds(g))return D!==null?null:h(f,u,g,k,null);Tl(f,g)}return null}function v(f,u,g,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(g)||null,o(u,f,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vl:return f=f.get(k.key===null?g:k.key)||null,c(u,f,k,D);case jr:return f=f.get(k.key===null?g:k.key)||null,d(u,f,k,D);case jn:var E=k._init;return v(f,u,g,E(k._payload),D)}if(Ss(k)||ds(k))return f=f.get(g)||null,h(u,f,k,D,null);Tl(u,k)}return null}function T(f,u,g,k){for(var D=null,E=null,I=u,b=u=0,R=null;I!==null&&b<g.length;b++){I.index>b?(R=I,I=null):R=I.sibling;var z=p(f,I,g[b],k);if(z===null){I===null&&(I=R);break}e&&I&&z.alternate===null&&t(f,I),u=l(z,u,b),E===null?D=z:E.sibling=z,E=z,I=R}if(b===g.length)return n(f,I),ke&&Zn(f,b),D;if(I===null){for(;b<g.length;b++)I=x(f,g[b],k),I!==null&&(u=l(I,u,b),E===null?D=I:E.sibling=I,E=I);return ke&&Zn(f,b),D}for(I=r(f,I);b<g.length;b++)R=v(I,f,b,g[b],k),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?b:R.key),u=l(R,u,b),E===null?D=R:E.sibling=R,E=R);return e&&I.forEach(function(m){return t(f,m)}),ke&&Zn(f,b),D}function S(f,u,g,k){var D=ds(g);if(typeof D!="function")throw Error(B(150));if(g=D.call(g),g==null)throw Error(B(151));for(var E=D=null,I=u,b=u=0,R=null,z=g.next();I!==null&&!z.done;b++,z=g.next()){I.index>b?(R=I,I=null):R=I.sibling;var m=p(f,I,z.value,k);if(m===null){I===null&&(I=R);break}e&&I&&m.alternate===null&&t(f,I),u=l(m,u,b),E===null?D=m:E.sibling=m,E=m,I=R}if(z.done)return n(f,I),ke&&Zn(f,b),D;if(I===null){for(;!z.done;b++,z=g.next())z=x(f,z.value,k),z!==null&&(u=l(z,u,b),E===null?D=z:E.sibling=z,E=z);return ke&&Zn(f,b),D}for(I=r(f,I);!z.done;b++,z=g.next())z=v(I,f,b,z.value,k),z!==null&&(e&&z.alternate!==null&&I.delete(z.key===null?b:z.key),u=l(z,u,b),E===null?D=z:E.sibling=z,E=z);return e&&I.forEach(function(W){return t(f,W)}),ke&&Zn(f,b),D}function j(f,u,g,k){if(typeof g=="object"&&g!==null&&g.type===Sr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vl:e:{for(var D=g.key,E=u;E!==null;){if(E.key===D){if(D=g.type,D===Sr){if(E.tag===7){n(f,E.sibling),u=s(E,g.props.children),u.return=f,f=u;break e}}else if(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===jn&&Ru(D)===E.type){n(f,E.sibling),u=s(E,g.props),u.ref=gs(f,E,g),u.return=f,f=u;break e}n(f,E);break}else t(f,E);E=E.sibling}g.type===Sr?(u=ur(g.props.children,f.mode,k,g.key),u.return=f,f=u):(k=Vl(g.type,g.key,g.props,null,f.mode,k),k.ref=gs(f,u,g),k.return=f,f=k)}return a(f);case jr:e:{for(E=g.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===g.containerInfo&&u.stateNode.implementation===g.implementation){n(f,u.sibling),u=s(u,g.children||[]),u.return=f,f=u;break e}else{n(f,u);break}else t(f,u);u=u.sibling}u=Da(g,f.mode,k),u.return=f,f=u}return a(f);case jn:return E=g._init,j(f,u,E(g._payload),k)}if(Ss(g))return T(f,u,g,k);if(ds(g))return S(f,u,g,k);Tl(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,u!==null&&u.tag===6?(n(f,u.sibling),u=s(u,g),u.return=f,f=u):(n(f,u),u=Na(g,f.mode,k),u.return=f,f=u),a(f)):n(f,u)}return j}var rs=Bf(!0),Wf=Bf(!1),fl={},en=Qn(fl),Gs=Qn(fl),Ks=Qn(fl);function nr(e){if(e===fl)throw Error(B(174));return e}function kc(e,t){switch(ve(Ks,t),ve(Gs,e),ve(en,fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ja(t,e)}we(en),ve(en,t)}function ss(){we(en),we(Gs),we(Ks)}function Uf(e){nr(Ks.current);var t=nr(en.current),n=Ja(t,e.type);t!==n&&(ve(Gs,e),ve(en,n))}function jc(e){Gs.current===e&&(we(en),we(Gs))}var Ne=Qn(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function Sc(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var $l=mn.ReactCurrentDispatcher,xa=mn.ReactCurrentBatchConfig,hr=0,De=null,Ae=null,Be=null,pi=!1,Os=!1,Xs=0,xg=0;function Ge(){throw Error(B(321))}function Nc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Dc(e,t,n,r,s,l){if(hr=l,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?Sg:Ng,e=n(r,s),Os){l=0;do{if(Os=!1,Xs=0,25<=l)throw Error(B(301));l+=1,Be=Ae=null,t.updateQueue=null,$l.current=Dg,e=n(r,s)}while(Os)}if($l.current=mi,t=Ae!==null&&Ae.next!==null,hr=0,Be=Ae=De=null,pi=!1,t)throw Error(B(300));return e}function Ec(){var e=Xs!==0;return Xs=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?De.memoizedState=Be=e:Be=Be.next=e,Be}function It(){if(Ae===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Be===null?De.memoizedState:Be.next;if(t!==null)Be=t,Ae=e;else{if(e===null)throw Error(B(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Be===null?De.memoizedState=Be=e:Be=Be.next=e}return Be}function Zs(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=It(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ae,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var o=a=null,c=null,d=l;do{var h=d.lane;if((hr&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var x={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=x,a=r):c=c.next=x,De.lanes|=h,pr|=h}d=d.next}while(d!==null&&d!==l);c===null?a=r:c.next=o,$t(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,De.lanes|=l,pr|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=It(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);$t(l,t.memoizedState)||(ct=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Hf(){}function Vf(e,t){var n=De,r=It(),s=t(),l=!$t(r.memoizedState,s);if(l&&(r.memoizedState=s,ct=!0),r=r.queue,Cc(Gf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Js(9,Qf.bind(null,n,r,s,t),void 0,null),We===null)throw Error(B(349));hr&30||Yf(n,t,s)}return s}function Yf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qf(e,t,n,r){t.value=n,t.getSnapshot=r,Kf(t)&&Xf(e)}function Gf(e,t,n){return n(function(){Kf(t)&&Xf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Xf(e){var t=hn(e,1);t!==null&&Ft(t,e,1,-1)}function Lu(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,De,e),[t.memoizedState,e]}function Js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zf(){return It().memoizedState}function Bl(e,t,n,r){var s=Vt();De.flags|=e,s.memoizedState=Js(1|t,n,void 0,r===void 0?null:r)}function Wi(e,t,n,r){var s=It();r=r===void 0?null:r;var l=void 0;if(Ae!==null){var a=Ae.memoizedState;if(l=a.destroy,r!==null&&Nc(r,a.deps)){s.memoizedState=Js(t,n,l,r);return}}De.flags|=e,s.memoizedState=Js(1|t,n,l,r)}function Au(e,t){return Bl(8390656,8,e,t)}function Cc(e,t){return Wi(2048,8,e,t)}function Jf(e,t){return Wi(4,2,e,t)}function qf(e,t){return Wi(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4,4,eh.bind(null,t,e),n)}function Tc(){}function nh(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sh(e,t,n){return hr&21?($t(n,t)||(n=af(),De.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function wg(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=xa.transition;xa.transition={};try{e(!1),t()}finally{he=n,xa.transition=r}}function lh(){return It().memoizedState}function kg(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))ah(t,n);else if(n=Af(e,t,n,r),n!==null){var s=nt();Ft(n,e,r,s),oh(n,t,r)}}function jg(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))ah(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,n);if(s.hasEagerState=!0,s.eagerState=o,$t(o,a)){var c=t.interleaved;c===null?(s.next=s,xc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Af(e,t,s,r),n!==null&&(s=nt(),Ft(n,e,r,s),oh(n,t,r))}}function ih(e){var t=e.alternate;return e===De||t!==null&&t===De}function ah(e,t){Os=pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lc(e,n)}}var mi={readContext:bt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Sg={readContext:bt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Au,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bl(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kg.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Lu,useDebugValue:Tc,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Lu(!1),t=e[0];return e=wg.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,s=Vt();if(ke){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),We===null)throw Error(B(349));hr&30||Yf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Au(Gf.bind(null,r,l,e),[e]),r.flags|=2048,Js(9,Qf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Vt(),t=We.identifierPrefix;if(ke){var n=cn,r=on;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ng={readContext:bt,useCallback:nh,useContext:bt,useEffect:Cc,useImperativeHandle:th,useInsertionEffect:Jf,useLayoutEffect:qf,useMemo:rh,useReducer:wa,useRef:Zf,useState:function(){return wa(Zs)},useDebugValue:Tc,useDeferredValue:function(e){var t=It();return sh(t,Ae.memoizedState,e)},useTransition:function(){var e=wa(Zs)[0],t=It().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:lh,unstable_isNewReconciler:!1},Dg={readContext:bt,useCallback:nh,useContext:bt,useEffect:Cc,useImperativeHandle:th,useInsertionEffect:Jf,useLayoutEffect:qf,useMemo:rh,useReducer:ka,useRef:Zf,useState:function(){return ka(Zs)},useDebugValue:Tc,useDeferredValue:function(e){var t=It();return Ae===null?t.memoizedState=e:sh(t,Ae.memoizedState,e)},useTransition:function(){var e=ka(Zs)[0],t=It().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:lh,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do n+=qp(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ja(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Eg=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vi||(vi=!0,_o=r),jo(e,t)},n}function uh(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){jo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){jo(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function zu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Eg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=$g.bind(null,e,t,n),t.then(e,e))}function Fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $u(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var Cg=mn.ReactCurrentOwner,ct=!1;function tt(e,t,n,r){t.child=e===null?Wf(t,null,n,r):rs(t,e.child,n,r)}function Bu(e,t,n,r,s){n=n.render;var l=t.ref;return zr(t,s),r=Dc(e,t,n,r,l,s),n=Ec(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(ke&&n&&hc(t),t.flags|=1,tt(e,t,r,s),t.child)}function Wu(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Lc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,dh(e,t,l,r,s)):(e=Vl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(a,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=Wn(l,r),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Hs(l,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,pn(e,t,s)}return So(e,t,n,r,s)}function fh(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Or,vt),vt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(Or,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ve(Or,vt),vt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ve(Or,vt),vt|=r;return tt(e,t,s,n),t.child}function hh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,s){var l=dt(n)?dr:qe.current;return l=ts(t,l),zr(t,s),n=Dc(e,t,n,r,l,s),r=Ec(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(ke&&r&&hc(t),t.flags|=1,tt(e,t,n,s),t.child)}function Uu(e,t,n,r,s){if(dt(n)){var l=!0;ai(t)}else l=!1;if(zr(t,s),t.stateNode===null)Wl(e,t),$f(t,n,r),ko(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=bt(d):(d=dt(n)?dr:qe.current,d=ts(t,d));var h=n.getDerivedStateFromProps,x=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&Mu(t,a,r,d),Sn=!1;var p=t.memoizedState;a.state=p,fi(t,r,a,s),c=t.memoizedState,o!==r||p!==c||ut.current||Sn?(typeof h=="function"&&(wo(t,n,h,r),c=t.memoizedState),(o=Sn||Ou(t,n,o,r,p,c,d))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zf(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Mt(t.type,o),a.props=d,x=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=dt(n)?dr:qe.current,c=ts(t,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==x||p!==c)&&Mu(t,a,r,c),Sn=!1,p=t.memoizedState,a.state=p,fi(t,r,a,s);var T=t.memoizedState;o!==x||p!==T||ut.current||Sn?(typeof v=="function"&&(wo(t,n,v,r),T=t.memoizedState),(d=Sn||Ou(t,n,d,r,p,T,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),a.props=r,a.state=T,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,l,s)}function No(e,t,n,r,s,l){hh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Tu(t,n,!1),pn(e,t,l);r=t.stateNode,Cg.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=rs(t,e.child,null,l),t.child=rs(t,null,o,l)):tt(e,t,o,l),t.memoizedState=r.state,s&&Tu(t,n,!0),t.child}function ph(e){var t=e.stateNode;t.pendingContext?Cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cu(e,t.context,!1),kc(e,t.containerInfo)}function Hu(e,t,n,r,s){return ns(),mc(s),t.flags|=256,tt(e,t,n,r),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function Eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,n){var r=t.pendingProps,s=Ne.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ve(Ne,s&1),e===null)return yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Vi(a,r,0,null),e=ur(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Eo(n),t.memoizedState=Do,e):Pc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Tg(e,t,a,r,o,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Wn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?l=Wn(o,l):(l=ur(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Eo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return l=e.child,e=l.sibling,r=Wn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pc(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pl(e,t,n,r){return r!==null&&mc(r),rs(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tg(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=ja(Error(B(422))),Pl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Vi({mode:"visible",children:r.children},s,0,null),l=ur(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&rs(t,e.child,null,a),t.child.memoizedState=Eo(a),t.memoizedState=Do,l);if(!(t.mode&1))return Pl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(B(419)),r=ja(l,r,void 0),Pl(e,t,a,r)}if(o=(a&e.childLanes)!==0,ct||o){if(r=We,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,hn(e,s),Ft(r,e,s,-1))}return Rc(),r=ja(Error(B(421))),Pl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,yt=zn(s.nextSibling),xt=t,ke=!0,At=null,e!==null&&(Et[Ct++]=on,Et[Ct++]=cn,Et[Ct++]=fr,on=e.id,cn=e.overflow,fr=t),t=Pc(t,r.children),t.flags|=4096,t)}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xo(e.return,t,n)}function Sa(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function gh(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(tt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,n,t);else if(e.tag===19)Vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ve(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sa(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sa(t,!0,n,null,l);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pg(e,t,n){switch(t.tag){case 3:ph(t),ns();break;case 5:Uf(t);break;case 1:dt(t.type)&&ai(t);break;case 4:kc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ve(ui,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?mh(e,t,n):(ve(Ne,Ne.current&1),e=pn(e,t,n),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,n)}return pn(e,t,n)}var vh,Co,yh,xh;vh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Co=function(){};yh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,nr(en.current);var l=null;switch(n){case"input":s=Ga(e,s),r=Ga(e,r),l=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":s=Za(e,s),r=Za(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=li)}qa(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(As.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(As.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&xe("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bg(e,t,n){var r=t.pendingProps;switch(pc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return dt(t.type)&&ii(),Ke(t),null;case 3:return r=t.stateNode,ss(),we(ut),we(qe),Sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Ro(At),At=null))),Co(e,t),Ke(t),null;case 5:jc(t);var s=nr(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)yh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ke(t),null}if(e=nr(en.current),Cl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Zt]=t,r[Qs]=l,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Ds.length;s++)xe(Ds[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":eu(r,l),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},xe("invalid",r);break;case"textarea":nu(r,l),xe("invalid",r)}qa(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&El(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&El(r.textContent,o,e),s=["children",""+o]):As.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xe("scroll",r)}switch(n){case"input":yl(r),tu(r,l,!0);break;case"textarea":yl(r),ru(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=li)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Zt]=t,e[Qs]=r,vh(e,t,!1,!1),t.stateNode=e;e:{switch(a=eo(n,r),n){case"dialog":xe("cancel",e),xe("close",e),s=r;break;case"iframe":case"object":case"embed":xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ds.length;s++)xe(Ds[s],e);s=r;break;case"source":xe("error",e),s=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=r;break;case"details":xe("toggle",e),s=r;break;case"input":eu(e,r),s=Ga(e,r),xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),xe("invalid",e);break;case"textarea":nu(e,r),s=Za(e,r),xe("invalid",e);break;default:s=r}qa(n,s),o=s;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Gd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yd(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zs(e,c):typeof c=="number"&&zs(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(As.hasOwnProperty(l)?c!=null&&l==="onScroll"&&xe("scroll",e):c!=null&&qo(e,l,c,a))}switch(n){case"input":yl(e),tu(e,r,!1);break;case"textarea":yl(e),ru(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Mr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=nr(Ks.current),nr(en.current),Cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(l=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:El(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ke(t),null;case 13:if(we(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&yt!==null&&t.mode&1&&!(t.flags&128))Lf(),ns(),t.flags|=98560,l=!1;else if(l=Cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(B(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(B(317));l[Zt]=t}else ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),l=!1}else At!==null&&(Ro(At),At=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?ze===0&&(ze=3):Rc())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return ss(),Co(e,t),e===null&&Vs(t.stateNode.containerInfo),Ke(t),null;case 10:return yc(t.type._context),Ke(t),null;case 17:return dt(t.type)&&ii(),Ke(t),null;case 19:if(we(Ne),l=t.memoizedState,l===null)return Ke(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)vs(l,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hi(e),a!==null){for(t.flags|=128,vs(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ne,Ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>is&&(t.flags|=128,r=!0,vs(l,!1),t.lanes=4194304)}else{if(!r)if(e=hi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!ke)return Ke(t),null}else 2*Ie()-l.renderingStartTime>is&&n!==1073741824&&(t.flags|=128,r=!0,vs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,n=Ne.current,ve(Ne,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Mc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Ig(e,t){switch(pc(t),t.tag){case 1:return dt(t.type)&&ii(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),we(ut),we(qe),Sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jc(t),null;case 13:if(we(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ne),null;case 4:return ss(),null;case 10:return yc(t.type._context),null;case 22:case 23:return Mc(),null;case 24:return null;default:return null}}var bl=!1,Je=!1,_g=typeof WeakSet=="function"?WeakSet:Set,K=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function To(e,t,n){try{n()}catch(r){be(e,t,r)}}var Yu=!1;function Og(e,t){if(uo=ni,e=Sf(),fc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,h=0,x=e,p=null;t:for(;;){for(var v;x!==n||s!==0&&x.nodeType!==3||(o=a+s),x!==l||r!==0&&x.nodeType!==3||(c=a+r),x.nodeType===3&&(a+=x.nodeValue.length),(v=x.firstChild)!==null;)p=x,x=v;for(;;){if(x===e)break t;if(p===n&&++d===s&&(o=a),p===l&&++h===r&&(c=a),(v=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fo={focusedElem:e,selectionRange:n},ni=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,j=T.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?S:Mt(t.type,S),j);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){be(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return T=Yu,Yu=!1,T}function Ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&To(t,n,l)}s=s.next}while(s!==r)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Qs],delete t[mo],delete t[mg],delete t[gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kh(e){return e.tag===5||e.tag===3||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=li));else if(r!==4&&(e=e.child,e!==null))for(bo(e,t,n),e=e.sibling;e!==null;)bo(e,t,n),e=e.sibling}function Io(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}var Ue=null,Lt=!1;function vn(e,t,n){for(n=n.child;n!==null;)jh(e,t,n),n=n.sibling}function jh(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ri,n)}catch{}switch(n.tag){case 5:Je||_r(n,t);case 6:var r=Ue,s=Lt;Ue=null,vn(e,t,n),Ue=r,Lt=s,Ue!==null&&(Lt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Lt?(e=Ue,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),Ws(e)):ga(Ue,n.stateNode));break;case 4:r=Ue,s=Lt,Ue=n.stateNode.containerInfo,Lt=!0,vn(e,t,n),Ue=r,Lt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&To(n,t,a),s=s.next}while(s!==r)}vn(e,t,n);break;case 1:if(!Je&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){be(n,t,o)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,vn(e,t,n),Je=r):vn(e,t,n);break;default:vn(e,t,n)}}function Gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _g),t.forEach(function(r){var s=Wg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ue=o.stateNode,Lt=!1;break e;case 3:Ue=o.stateNode.containerInfo,Lt=!0;break e;case 4:Ue=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(Ue===null)throw Error(B(160));jh(l,a,s),Ue=null,Lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){be(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}function Sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Ht(e),r&4){try{Ms(3,e,e.return),Ui(3,e)}catch(S){be(e,e.return,S)}try{Ms(5,e,e.return)}catch(S){be(e,e.return,S)}}break;case 1:Ot(t,e),Ht(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(Ot(t,e),Ht(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var s=e.stateNode;try{zs(s,"")}catch(S){be(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ud(s,l),eo(o,a);var d=eo(o,l);for(a=0;a<c.length;a+=2){var h=c[a],x=c[a+1];h==="style"?Gd(s,x):h==="dangerouslySetInnerHTML"?Yd(s,x):h==="children"?zs(s,x):qo(s,h,x,d)}switch(o){case"input":Ka(s,l);break;case"textarea":Hd(s,l);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Mr(s,!!l.multiple,v,!1):p!==!!l.multiple&&(l.defaultValue!=null?Mr(s,!!l.multiple,l.defaultValue,!0):Mr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Qs]=l}catch(S){be(e,e.return,S)}}break;case 6:if(Ot(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(S){be(e,e.return,S)}}break;case 3:if(Ot(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ws(t.containerInfo)}catch(S){be(e,e.return,S)}break;case 4:Ot(t,e),Ht(e);break;case 13:Ot(t,e),Ht(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(_c=Ie())),r&4&&Gu(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(d=Je)||h,Ot(t,e),Je=d):Ot(t,e),Ht(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(K=e,h=e.child;h!==null;){for(x=K=h;K!==null;){switch(p=K,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ms(4,p,p.return);break;case 1:_r(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(S){be(r,n,S)}}break;case 5:_r(p,p.return);break;case 22:if(p.memoizedState!==null){Xu(x);continue}}v!==null?(v.return=p,K=v):Xu(x)}h=h.sibling}e:for(h=null,x=e;;){if(x.tag===5){if(h===null){h=x;try{s=x.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,c=x.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Qd("display",a))}catch(S){be(e,e.return,S)}}}else if(x.tag===6){if(h===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(S){be(e,e.return,S)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;h===x&&(h=null),x=x.return}h===x&&(h=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ot(t,e),Ht(e),r&4&&Gu(e);break;case 21:break;default:Ot(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zs(s,""),r.flags&=-33);var l=Qu(e);Io(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Qu(e);bo(e,o,a);break;default:throw Error(B(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mg(e,t,n){K=e,Nh(e)}function Nh(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||bl;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Je;o=bl;var d=Je;if(bl=a,(Je=c)&&!d)for(K=s;K!==null;)a=K,c=a.child,a.tag===22&&a.memoizedState!==null?Zu(s):c!==null?(c.return=a,K=c):Zu(s);for(;l!==null;)K=l,Nh(l),l=l.sibling;K=s,bl=o,Je=d}Ku(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,K=l):Ku(e)}}function Ku(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ui(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&_u(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_u(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var x=h.dehydrated;x!==null&&Ws(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Je||t.flags&512&&Po(t)}catch(p){be(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Xu(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Zu(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(c){be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){be(t,s,c)}}var l=t.return;try{Po(t)}catch(c){be(t,l,c)}break;case 5:var a=t.return;try{Po(t)}catch(c){be(t,a,c)}}}catch(c){be(t,t.return,c)}if(t===e){K=null;break}var o=t.sibling;if(o!==null){o.return=t.return,K=o;break}K=t.return}}var Rg=Math.ceil,gi=mn.ReactCurrentDispatcher,bc=mn.ReactCurrentOwner,Pt=mn.ReactCurrentBatchConfig,ue=0,We=null,Le=null,He=0,vt=0,Or=Qn(0),ze=0,qs=null,pr=0,Hi=0,Ic=0,Rs=null,ot=null,_c=0,is=1/0,rn=null,vi=!1,_o=null,$n=null,Il=!1,Mn=null,yi=0,Ls=0,Oo=null,Ul=-1,Hl=0;function nt(){return ue&6?Ie():Ul!==-1?Ul:Ul=Ie()}function Bn(e){return e.mode&1?ue&2&&He!==0?He&-He:yg.transition!==null?(Hl===0&&(Hl=af()),Hl):(e=he,e!==0||(e=window.event,e=e===void 0?16:pf(e.type)),e):1}function Ft(e,t,n,r){if(50<Ls)throw Ls=0,Oo=null,Error(B(185));cl(e,n,r),(!(ue&2)||e!==We)&&(e===We&&(!(ue&2)&&(Hi|=n),ze===4&&Dn(e,He)),ft(e,r),n===1&&ue===0&&!(t.mode&1)&&(is=Ie()+500,$i&&Gn()))}function ft(e,t){var n=e.callbackNode;ym(e,t);var r=ti(e,e===We?He:0);if(r===0)n!==null&&iu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iu(n),t===1)e.tag===0?vg(Ju.bind(null,e)):Of(Ju.bind(null,e)),hg(function(){!(ue&6)&&Gn()}),n=null;else{switch(of(r)){case 1:n=sc;break;case 4:n=sf;break;case 16:n=ei;break;case 536870912:n=lf;break;default:n=ei}n=_h(n,Dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dh(e,t){if(Ul=-1,Hl=0,ue&6)throw Error(B(327));var n=e.callbackNode;if(Fr()&&e.callbackNode!==n)return null;var r=ti(e,e===We?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xi(e,r);else{t=r;var s=ue;ue|=2;var l=Ch();(We!==e||He!==t)&&(rn=null,is=Ie()+500,cr(e,t));do try{zg();break}catch(o){Eh(e,o)}while(!0);vc(),gi.current=l,ue=s,Le!==null?t=0:(We=null,He=0,t=ze)}if(t!==0){if(t===2&&(s=lo(e),s!==0&&(r=s,t=Mo(e,s))),t===1)throw n=qs,cr(e,0),Dn(e,r),ft(e,Ie()),n;if(t===6)Dn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lg(s)&&(t=xi(e,r),t===2&&(l=lo(e),l!==0&&(r=l,t=Mo(e,l))),t===1))throw n=qs,cr(e,0),Dn(e,r),ft(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Jn(e,ot,rn);break;case 3:if(Dn(e,r),(r&130023424)===r&&(t=_c+500-Ie(),10<t)){if(ti(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=po(Jn.bind(null,e,ot,rn),t);break}Jn(e,ot,rn);break;case 4:if(Dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-zt(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rg(r/1960))-r,10<r){e.timeoutHandle=po(Jn.bind(null,e,ot,rn),r);break}Jn(e,ot,rn);break;case 5:Jn(e,ot,rn);break;default:throw Error(B(329))}}}return ft(e,Ie()),e.callbackNode===n?Dh.bind(null,e):null}function Mo(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=ot,ot=n,t!==null&&Ro(t)),e}function Ro(e){ot===null?ot=e:ot.push.apply(ot,e)}function Lg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!$t(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~Ic,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Ju(e){if(ue&6)throw Error(B(327));Fr();var t=ti(e,0);if(!(t&1))return ft(e,Ie()),null;var n=xi(e,t);if(e.tag!==0&&n===2){var r=lo(e);r!==0&&(t=r,n=Mo(e,r))}if(n===1)throw n=qs,cr(e,0),Dn(e,t),ft(e,Ie()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,ot,rn),ft(e,Ie()),null}function Oc(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(is=Ie()+500,$i&&Gn())}}function mr(e){Mn!==null&&Mn.tag===0&&!(ue&6)&&Fr();var t=ue;ue|=1;var n=Pt.transition,r=he;try{if(Pt.transition=null,he=1,e)return e()}finally{he=r,Pt.transition=n,ue=t,!(ue&6)&&Gn()}}function Mc(){vt=Or.current,we(Or)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fg(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(pc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ii();break;case 3:ss(),we(ut),we(qe),Sc();break;case 5:jc(r);break;case 4:ss();break;case 13:we(Ne);break;case 19:we(Ne);break;case 10:yc(r.type._context);break;case 22:case 23:Mc()}n=n.return}if(We=e,Le=e=Wn(e.current,null),He=vt=t,ze=0,qs=null,Ic=Hi=pr=0,ot=Rs=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}tr=null}return e}function Eh(e,t){do{var n=Le;try{if(vc(),$l.current=mi,pi){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pi=!1}if(hr=0,Be=Ae=De=null,Os=!1,Xs=0,bc.current=null,n===null||n.return===null){ze=1,qs=t,Le=null;break}e:{var l=e,a=n.return,o=n,c=t;if(t=He,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=o,x=h.tag;if(!(h.mode&1)&&(x===0||x===11||x===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Fu(a);if(v!==null){v.flags&=-257,$u(v,a,o,l,t),v.mode&1&&zu(l,d,t),t=v,c=d;var T=t.updateQueue;if(T===null){var S=new Set;S.add(c),t.updateQueue=S}else T.add(c);break e}else{if(!(t&1)){zu(l,d,t),Rc();break e}c=Error(B(426))}}else if(ke&&o.mode&1){var j=Fu(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),$u(j,a,o,l,t),mc(ls(c,o));break e}}l=c=ls(c,o),ze!==4&&(ze=2),Rs===null?Rs=[l]:Rs.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=ch(l,c,t);Iu(l,f);break e;case 1:o=c;var u=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($n===null||!$n.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=uh(l,o,t);Iu(l,k);break e}}l=l.return}while(l!==null)}Ph(n)}catch(D){t=D,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Ch(){var e=gi.current;return gi.current=mi,e===null?mi:e}function Rc(){(ze===0||ze===3||ze===2)&&(ze=4),We===null||!(pr&268435455)&&!(Hi&268435455)||Dn(We,He)}function xi(e,t){var n=ue;ue|=2;var r=Ch();(We!==e||He!==t)&&(rn=null,cr(e,t));do try{Ag();break}catch(s){Eh(e,s)}while(!0);if(vc(),ue=n,gi.current=r,Le!==null)throw Error(B(261));return We=null,He=0,ze}function Ag(){for(;Le!==null;)Th(Le)}function zg(){for(;Le!==null&&!cm();)Th(Le)}function Th(e){var t=Ih(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Ph(e):Le=t,bc.current=null}function Ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ig(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(n=bg(n,t,vt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Jn(e,t,n){var r=he,s=Pt.transition;try{Pt.transition=null,he=1,Fg(e,t,n,r)}finally{Pt.transition=s,he=r}return null}function Fg(e,t,n,r){do Fr();while(Mn!==null);if(ue&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(xm(e,l),e===We&&(Le=We=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,_h(ei,function(){return Fr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Pt.transition,Pt.transition=null;var a=he;he=1;var o=ue;ue|=4,bc.current=null,Og(e,n),Sh(n,e),lg(fo),ni=!!uo,fo=uo=null,e.current=n,Mg(n),um(),ue=o,he=a,Pt.transition=l}else e.current=n;if(Il&&(Il=!1,Mn=e,yi=s),l=e.pendingLanes,l===0&&($n=null),hm(n.stateNode),ft(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=_o,_o=null,e;return yi&1&&e.tag!==0&&Fr(),l=e.pendingLanes,l&1?e===Oo?Ls++:(Ls=0,Oo=e):Ls=0,Gn(),null}function Fr(){if(Mn!==null){var e=of(yi),t=Pt.transition,n=he;try{if(Pt.transition=null,he=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,yi=0,ue&6)throw Error(B(331));var s=ue;for(ue|=4,K=e.current;K!==null;){var l=K,a=l.child;if(K.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(K=d;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Ms(8,h,l)}var x=h.child;if(x!==null)x.return=h,K=x;else for(;K!==null;){h=K;var p=h.sibling,v=h.return;if(wh(h),h===d){K=null;break}if(p!==null){p.return=v,K=p;break}K=v}}}var T=l.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}K=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,K=a;else e:for(;K!==null;){if(l=K,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ms(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,K=f;break e}K=l.return}}var u=e.current;for(K=u;K!==null;){a=K;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,K=g;else e:for(a=u;K!==null;){if(o=K,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ui(9,o)}}catch(D){be(o,o.return,D)}if(o===a){K=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,K=k;break e}K=o.return}}if(ue=s,Gn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ri,e)}catch{}r=!0}return r}finally{he=n,Pt.transition=t}}return!1}function qu(e,t,n){t=ls(n,t),t=ch(e,t,1),e=Fn(e,t,1),t=nt(),e!==null&&(cl(e,1,t),ft(e,t))}function be(e,t,n){if(e.tag===3)qu(e,e,n);else for(;t!==null;){if(t.tag===3){qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=ls(n,e),e=uh(t,e,1),t=Fn(t,e,1),e=nt(),t!==null&&(cl(t,1,e),ft(t,e));break}}t=t.return}}function $g(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(He&n)===n&&(ze===4||ze===3&&(He&130023424)===He&&500>Ie()-_c?cr(e,0):Ic|=n),ft(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var n=nt();e=hn(e,t),e!==null&&(cl(e,t,n),ft(e,n))}function Bg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bh(e,n)}function Wg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),bh(e,n)}var Ih;Ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,Pg(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ke&&t.flags&1048576&&Mf(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var s=ts(t,qe.current);zr(t,n),s=Dc(null,t,r,e,s,n);var l=Ec();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(l=!0,ai(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wc(t),s.updater=Bi,t.stateNode=s,s._reactInternals=t,ko(t,r,e,n),t=No(null,t,r,!0,l,n)):(t.tag=0,ke&&l&&hc(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Hg(r),e=Mt(r,e),s){case 0:t=So(null,t,r,e,n);break e;case 1:t=Uu(null,t,r,e,n);break e;case 11:t=Bu(null,t,r,e,n);break e;case 14:t=Wu(null,t,r,Mt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),So(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Uu(e,t,r,s,n);case 3:e:{if(ph(t),e===null)throw Error(B(387));r=t.pendingProps,l=t.memoizedState,s=l.element,zf(e,t),fi(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=ls(Error(B(423)),t),t=Hu(e,t,r,n,s);break e}else if(r!==s){s=ls(Error(B(424)),t),t=Hu(e,t,r,n,s);break e}else for(yt=zn(t.stateNode.containerInfo.firstChild),xt=t,ke=!0,At=null,n=Wf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),r===s){t=pn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return Uf(t),e===null&&yo(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,ho(r,s)?a=null:l!==null&&ho(r,l)&&(t.flags|=32),hh(e,t),tt(e,t,a,n),t.child;case 6:return e===null&&yo(t),null;case 13:return mh(e,t,n);case 4:return kc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rs(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Bu(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,ve(ui,r._currentValue),r._currentValue=a,l!==null)if($t(l.value,a)){if(l.children===s.children&&!ut.current){t=pn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=un(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),xo(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(B(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),xo(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zr(t,n),s=bt(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),Wu(e,t,r,s,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Wl(e,t),t.tag=1,dt(r)?(e=!0,ai(t)):e=!1,zr(t,n),$f(t,r,s),ko(t,r,s,n),No(null,t,r,!0,e,n);case 19:return gh(e,t,n);case 22:return fh(e,t,n)}throw Error(B(156,t.tag))};function _h(e,t){return rf(e,t)}function Ug(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Ug(e,t,n,r)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hg(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tc)return 11;if(e===nc)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")Lc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sr:return ur(n.children,s,l,t);case ec:a=8,s|=8;break;case Ha:return e=Tt(12,n,t,s|2),e.elementType=Ha,e.lanes=l,e;case Va:return e=Tt(13,n,t,s),e.elementType=Va,e.lanes=l,e;case Ya:return e=Tt(19,n,t,s),e.elementType=Ya,e.lanes=l,e;case $d:return Vi(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zd:a=10;break e;case Fd:a=9;break e;case tc:a=11;break e;case nc:a=14;break e;case jn:a=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Tt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function ur(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Vi(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=$d,e.lanes=n,e.stateNode={isHidden:!1},e}function Na(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Da(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,s,l,a,o,c){return e=new Vg(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Tt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(l),e}function Yg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oh(e){if(!e)return Hn;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(dt(n))return _f(e,n,t)}return t}function Mh(e,t,n,r,s,l,a,o,c){return e=Ac(n,r,!0,e,s,l,a,o,c),e.context=Oh(null),n=e.current,r=nt(),s=Bn(n),l=un(r,s),l.callback=t??null,Fn(n,l,s),e.current.lanes=s,cl(e,s,r),ft(e,r),e}function Yi(e,t,n,r){var s=t.current,l=nt(),a=Bn(s);return n=Oh(n),t.context===null?t.context=n:t.pendingContext=n,t=un(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(s,t,a),e!==null&&(Ft(e,s,a,l),Fl(e,s,a)),a}function wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zc(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function Qg(){return null}var Rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}Qi.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Yi(e,t,null,null)};Qi.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Yi(null,e,null,null)}),t[fn]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=df();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&hf(e)}};function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function Gg(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=wi(a);l.call(d)}}var a=Mh(t,r,e,0,null,!1,!1,"",td);return e._reactRootContainer=a,e[fn]=a.current,Vs(e.nodeType===8?e.parentNode:e),mr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=wi(c);o.call(d)}}var c=Ac(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=c,e[fn]=c.current,Vs(e.nodeType===8?e.parentNode:e),mr(function(){Yi(t,c,n,r)}),c}function Ki(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var o=s;s=function(){var c=wi(a);o.call(c)}}Yi(t,a,e,s)}else a=Gg(n,t,e,s,r);return wi(a)}cf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(lc(t,n|1),ft(t,Ie()),!(ue&6)&&(is=Ie()+500,Gn()))}break;case 13:mr(function(){var r=hn(e,1);if(r!==null){var s=nt();Ft(r,e,1,s)}}),zc(e,1)}};ic=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=nt();Ft(t,e,134217728,n)}zc(e,134217728)}};uf=function(e){if(e.tag===13){var t=Bn(e),n=hn(e,t);if(n!==null){var r=nt();Ft(n,e,t,r)}zc(e,t)}};df=function(){return he};ff=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};no=function(e,t,n){switch(t){case"input":if(Ka(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fi(r);if(!s)throw Error(B(90));Wd(r),Ka(r,s)}}}break;case"textarea":Hd(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};Zd=Oc;Jd=mr;var Kg={usingClientEntryPoint:!1,Events:[dl,Cr,Fi,Kd,Xd,Oc]},ys={findFiberByHostInstance:er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Xg={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tf(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||Qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Ri=_l.inject(Xg),qt=_l}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(t))throw Error(B(200));return Yg(e,t,null,n)};kt.createRoot=function(e,t){if(!$c(e))throw Error(B(299));var n=!1,r="",s=Rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ac(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,Vs(e.nodeType===8?e.parentNode:e),new Fc(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=tf(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return mr(e)};kt.hydrate=function(e,t,n){if(!Gi(t))throw Error(B(200));return Ki(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Rh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mh(t,null,e,1,n??null,s,!1,l,a),e[fn]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qi(t)};kt.render=function(e,t,n){if(!Gi(t))throw Error(B(200));return Ki(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(B(40));return e._reactRootContainer?(mr(function(){Ki(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};kt.unstable_batchedUpdates=Oc;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gi(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Ki(e,t,n,!1,r)};kt.version="18.2.0-next-9e3b772b8-20220608";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),Od.exports=kt;var Zg=Od.exports,Ah,nd=Zg;Ah=nd.createRoot,nd.hydrateRoot;const Xi=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"9 18 15 12 9 6"})}),hl=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"6 9 12 15 18 9"})}),Vn=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Lo=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Jg=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("circle",{cx:"12",cy:"12",r:"10"})}),qg=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"m9 12 2 2 4-4"})]}),ev=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),Kn=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),zh=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"20 6 9 17 4 12"})}),rd=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Ea=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),i.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),Ao=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),tv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),nv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),rv=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M12 1v6m0 6v6m0-6h6m-6 0H6"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});function Bc(e,t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)?new Date(t):t}function sv(e){return e==null?e:JSON.parse(JSON.stringify(e),Bc)}var Yt,Br,ki,Fh;class lv{constructor(t="uqueue:"){G(this,ki);G(this,Yt,void 0);G(this,Br,new Set);se(this,Yt,t)}async read(t){try{const n=localStorage.getItem(P(this,Yt)+t);return n?JSON.parse(n,Bc):null}catch(n){return console.error(`LocalStorage read error for ${t}:`,n),null}}async write(t,n){try{const r=JSON.stringify(n);localStorage.setItem(P(this,Yt)+t,r)}catch(r){throw console.error(`LocalStorage write error for ${t}:`,r),r.name==="QuotaExceededError"&&L(this,ki,Fh).call(this,{type:"quota-exceeded",key:t}),r}}async delete(t){localStorage.removeItem(P(this,Yt)+t)}async keys(){const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&r.startsWith(P(this,Yt))&&t.push(r.slice(P(this,Yt).length))}return t}async isOnline(){return!0}onStateChange(t){return P(this,Br).add(t),()=>P(this,Br).delete(t)}getPrefix(){return P(this,Yt)}}Yt=new WeakMap,Br=new WeakMap,ki=new WeakSet,Fh=function(t){P(this,Br).forEach(n=>{try{n(t)}catch(r){console.error("Error in storage listener:",r)}})};var Nt,$e,ht,En,rr,Wr,Ur,el,zo,sr,Es,ji,$h,Si,Bh,Ni,Wh,Xe,at,Qt,wn;class iv{constructor(t){G(this,el);G(this,sr);G(this,ji);G(this,Si);G(this,Ni);G(this,Xe);G(this,Qt);G(this,Nt,void 0);G(this,$e,null);G(this,ht,[]);G(this,En,new Map);G(this,rr,"idle");G(this,Wr,!1);G(this,Ur,null);se(this,Nt,t),typeof window<"u"&&(window.addEventListener("online",()=>L(this,Si,Bh).call(this)),window.addEventListener("offline",()=>L(this,Ni,Wh).call(this)))}getLocalProvider(){return P(this,Nt)}setRemoteProvider(t){se(this,$e,t),t&&L(this,sr,Es).call(this)}hasRemoteProvider(){return P(this,$e)!==null}async read(t){return P(this,Nt).read(t)}async write(t,n){await P(this,Nt).write(t,n),P(this,$e)&&L(this,el,zo).call(this,{type:"write",key:t,data:n,timestamp:Date.now()})}async delete(t){await P(this,Nt).delete(t),P(this,$e)&&L(this,el,zo).call(this,{type:"delete",key:t,timestamp:Date.now()})}async keys(){return P(this,Nt).keys()}getSyncState(){return P(this,rr)}getPendingCount(){return P(this,ht).length}async fullSync(){if(!P(this,$e))throw new Error("No remote provider connected");if(!await P(this,$e).isOnline()){L(this,Xe,at).call(this,"offline");return}L(this,Xe,at).call(this,"syncing");try{const t=await P(this,Nt).keys();for(const n of t){const r=await P(this,Nt).read(n);r!==null&&await P(this,$e).write(n,r)}L(this,Xe,at).call(this,"idle"),L(this,Qt,wn).call(this,"sync-completed",{syncedKeys:t})}catch(t){throw console.error("Full sync failed:",t),L(this,Xe,at).call(this,"error"),L(this,Qt,wn).call(this,"sync-error",{error:t}),t}}async pullFromRemote(){if(!P(this,$e))throw new Error("No remote provider connected");if(!await P(this,$e).isOnline()){L(this,Xe,at).call(this,"offline");return}L(this,Xe,at).call(this,"syncing");try{const t=await P(this,$e).keys();for(const n of t){const r=await P(this,$e).read(n);r!==null&&await P(this,Nt).write(n,r)}L(this,Xe,at).call(this,"idle"),L(this,Qt,wn).call(this,"pull-completed",{pulledKeys:t})}catch(t){throw console.error("Pull from remote failed:",t),L(this,Xe,at).call(this,"error"),t}}on(t,n){return P(this,En).has(t)||P(this,En).set(t,new Set),P(this,En).get(t).add(n),()=>{var r;return(r=P(this,En).get(t))==null?void 0:r.delete(n)}}}Nt=new WeakMap,$e=new WeakMap,ht=new WeakMap,En=new WeakMap,rr=new WeakMap,Wr=new WeakMap,Ur=new WeakMap,el=new WeakSet,zo=function(t){const n=P(this,ht).findIndex(r=>r.key===t.key&&r.type===t.type);n>=0?P(this,ht)[n]=t:P(this,ht).push(t),L(this,Qt,wn).call(this,"queue-changed",{pendingCount:P(this,ht).length}),L(this,sr,Es).call(this)},sr=new WeakSet,Es=async function(){if(P(this,Wr)||!P(this,$e)||P(this,ht).length===0)return;if(!await P(this,$e).isOnline()){L(this,Xe,at).call(this,"offline");return}se(this,Wr,!0),L(this,Xe,at).call(this,"syncing");try{for(;P(this,ht).length>0;){const n=P(this,ht)[0];n.type==="write"?await P(this,$e).write(n.key,n.data):n.type==="delete"&&await P(this,$e).delete(n.key),P(this,ht).shift(),L(this,Qt,wn).call(this,"queue-changed",{pendingCount:P(this,ht).length})}L(this,Xe,at).call(this,"idle")}catch(n){console.error("Sync queue processing failed:",n),L(this,Xe,at).call(this,"error"),L(this,Qt,wn).call(this,"sync-error",{error:n}),L(this,ji,$h).call(this)}finally{se(this,Wr,!1)}},ji=new WeakSet,$h=function(){P(this,Ur)||se(this,Ur,setTimeout(()=>{se(this,Ur,null),L(this,sr,Es).call(this)},5e3))},Si=new WeakSet,Bh=function(){P(this,rr)==="offline"&&L(this,sr,Es).call(this)},Ni=new WeakSet,Wh=function(){L(this,Xe,at).call(this,"offline")},Xe=new WeakSet,at=function(t){P(this,rr)!==t&&(se(this,rr,t),L(this,Qt,wn).call(this,"sync-state-changed",{state:t}))},Qt=new WeakSet,wn=function(t,n){const r=P(this,En).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})};var Ca={};const av="https://www.googleapis.com/auth/drive.file",Ta="uqueue-data.json",ov="https://www.googleapis.com/discovery/v1/apis/drive/v3/rest";var Cn,lr,pt,Rt,Hr,Vr,ir,Di,Ei,Ci,Uh,ar,Cs,Yr,Yl,Ti,Hh,Pi,Vh,an,qn;class cv{constructor(t=null){G(this,Ci);G(this,ar);G(this,Yr);G(this,Ti);G(this,Pi);G(this,an);G(this,Cn,void 0);G(this,lr,null);G(this,pt,null);G(this,Rt,null);G(this,Hr,!1);G(this,Vr,new Set);G(this,ir,null);G(this,Di,!1);G(this,Ei,!1);se(this,Cn,t||(Ca==null?void 0:Ca.VITE_GOOGLE_CLIENT_ID)||null)}hasClientId(){return!!P(this,Cn)}setClientId(t){se(this,Cn,t)}async initialize(){if(!P(this,Hr)){if(!P(this,Cn))throw new Error("Google Client ID not configured. Set VITE_GOOGLE_CLIENT_ID in .env or pass to constructor.");await Promise.all([L(this,Pi,Vh).call(this),L(this,Ti,Hh).call(this)]),await new Promise((t,n)=>{window.gapi.load("client",async()=>{try{await window.gapi.client.init({discoveryDocs:[ov]}),se(this,Di,!0),t()}catch(r){n(r)}})}),se(this,lr,window.google.accounts.oauth2.initTokenClient({client_id:P(this,Cn),scope:av,callback:t=>{if(t.error){console.error("OAuth error:",t.error),L(this,an,qn).call(this,{type:"auth-error",error:t.error});return}t.access_token&&(se(this,pt,t.access_token),L(this,an,qn).call(this,{type:"authenticated"}))}})),se(this,Ei,!0),se(this,Hr,!0)}}async authenticate(){return P(this,Hr)||await this.initialize(),new Promise((t,n)=>{try{const r=P(this,lr).callback;P(this,lr).callback=async s=>{if(s.error){n(new Error(s.error));return}if(s.access_token){se(this,pt,s.access_token),L(this,an,qn).call(this,{type:"authenticated"});try{const l=await L(this,Ci,Uh).call(this);t(l)}catch(l){n(l)}}},P(this,lr).requestAccessToken({prompt:"consent"})}catch(r){n(r)}})}async signOut(){if(P(this,pt)){try{window.google.accounts.oauth2.revoke(P(this,pt))}catch(t){console.warn("Token revocation failed:",t)}se(this,pt,null),se(this,Rt,null),se(this,ir,null),L(this,an,qn).call(this,{type:"signed-out"})}}isAuthenticated(){return!!P(this,pt)&&!!P(this,Rt)}async read(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await L(this,ar,Cs).call(this);return(n==null?void 0:n[t])??null}async write(t,n){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const r=await L(this,ar,Cs).call(this)||{};r[t]=n,r._lastModified=new Date().toISOString(),await L(this,Yr,Yl).call(this,r)}async delete(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await L(this,ar,Cs).call(this)||{};delete n[t],n._lastModified=new Date().toISOString(),await L(this,Yr,Yl).call(this,n)}async keys(){if(!this.isAuthenticated())return[];const t=await L(this,ar,Cs).call(this)||{};return Object.keys(t).filter(n=>!n.startsWith("_"))}async isOnline(){return navigator.onLine&&this.isAuthenticated()}onStateChange(t){return P(this,Vr).add(t),()=>P(this,Vr).delete(t)}}Cn=new WeakMap,lr=new WeakMap,pt=new WeakMap,Rt=new WeakMap,Hr=new WeakMap,Vr=new WeakMap,ir=new WeakMap,Di=new WeakMap,Ei=new WeakMap,Ci=new WeakSet,Uh=async function(){const n=(await window.gapi.client.drive.files.list({q:`name='${Ta}' and trashed=false`,fields:"files(id, name, modifiedTime)",spaces:"drive"})).result.files;if(n&&n.length>0)return se(this,Rt,n[0].id),P(this,Rt);const r=await window.gapi.client.drive.files.create({resource:{name:Ta,mimeType:"application/json"},fields:"id"});return se(this,Rt,r.result.id),await L(this,Yr,Yl).call(this,{_created:new Date().toISOString(),_lastModified:new Date().toISOString()}),P(this,Rt)},ar=new WeakSet,Cs=async function(){const t=await fetch(`https://www.googleapis.com/drive/v3/files/${P(this,Rt)}?alt=media`,{headers:{Authorization:`Bearer ${P(this,pt)}`}});if(!t.ok)throw t.status===401?(se(this,pt,null),L(this,an,qn).call(this,{type:"token-expired"}),new Error("Token expired")):new Error(`Failed to read file: ${t.status}`);const n=await t.text();return n?(se(this,ir,JSON.parse(n,Bc)),P(this,ir)):null},Yr=new WeakSet,Yl=async function(t){const n="-------314159265358979323846",r=`\r
--`+n+`\r
`,s=`\r
--`+n+"--",l={name:Ta,mimeType:"application/json"},a=r+`Content-Type: application/json\r
\r
`+JSON.stringify(l)+r+`Content-Type: application/json\r
\r
`+JSON.stringify(t)+s,o=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${P(this,Rt)}?uploadType=multipart`,{method:"PATCH",headers:{Authorization:`Bearer ${P(this,pt)}`,"Content-Type":`multipart/related; boundary="${n}"`},body:a});if(!o.ok)throw o.status===401?(se(this,pt,null),L(this,an,qn).call(this,{type:"token-expired"}),new Error("Token expired")):new Error(`Failed to write file: ${o.status}`);se(this,ir,t)},Ti=new WeakSet,Hh=function(){return new Promise((t,n)=>{var s,l;if((l=(s=window.google)==null?void 0:s.accounts)!=null&&l.oauth2){t();return}const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google Identity Services")),document.head.appendChild(r)})},Pi=new WeakSet,Vh=function(){return new Promise((t,n)=>{if(window.gapi){t();return}const r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google API client")),document.head.appendChild(r)})},an=new WeakSet,qn=function(t){P(this,Vr).forEach(n=>{try{n(t)}catch(r){console.error("Error in GoogleDriveProvider listener:",r)}})};let Pa=null;function uv(){return Pa||(Pa=new cv),Pa}let ba=null,Ia=null;function dv(){return ba||(ba=new lv("uqueue:")),ba}function Zi(){return Ia||(Ia=new iv(dv())),Ia}var Tn,or,Pn,Gt,Qr,Gr,Kr,Ql,Xr,Gl;class Wc{constructor(t,n,r=null){G(this,Kr);G(this,Xr);G(this,Tn,void 0);G(this,or,void 0);G(this,Pn,new Map);G(this,Gt,null);G(this,Qr,void 0);G(this,Gr,!1);se(this,Tn,t),se(this,or,n),se(this,Qr,r)}async initialize(){if(P(this,Gr))return;const t=await P(this,or).read(P(this,Tn));t!==null?se(this,Gt,t):P(this,Qr)!==null?(se(this,Gt,L(this,Xr,Gl).call(this,P(this,Qr))),await P(this,or).write(P(this,Tn),P(this,Gt))):se(this,Gt,null),se(this,Gr,!0),L(this,Kr,Ql).call(this,"data-changed",{data:this.getData()})}isInitialized(){return P(this,Gr)}async save(t){se(this,Gt,t),await P(this,or).write(P(this,Tn),t),L(this,Kr,Ql).call(this,"data-changed",{data:this.getData()})}getData(){return L(this,Xr,Gl).call(this,P(this,Gt))}getRawData(){return P(this,Gt)}getStorageKey(){return P(this,Tn)}on(t,n){return P(this,Pn).has(t)||P(this,Pn).set(t,new Set),P(this,Pn).get(t).add(n),()=>this.off(t,n)}off(t,n){var r;(r=P(this,Pn).get(t))==null||r.delete(n)}emit(t,n){L(this,Kr,Ql).call(this,t,n)}generateId(t="id"){return`${t}-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}clone(t){return L(this,Xr,Gl).call(this,t)}}Tn=new WeakMap,or=new WeakMap,Pn=new WeakMap,Gt=new WeakMap,Qr=new WeakMap,Gr=new WeakMap,Kr=new WeakSet,Ql=function(t,n){const r=P(this,Pn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},Xr=new WeakSet,Gl=function(t){return sv(t)};const fv=[{id:"1",title:"Design new landing page",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-30T14:00:00"),estimate:4,tags:["design","urgent"],description:"",featurePath:"frontend",timeRanges:["sprint"],children:[{id:"1.1",title:"Create wireframes",completed:!0,backend:"local",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-28T10:00:00"),estimate:1,tags:[],description:"",children:[]},{id:"1.2",title:"Get stakeholder feedback",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-01-28T10:00:00"),dueDate:new Date("2026-01-29T12:00:00"),estimate:1,dependencies:["1.1"],tags:[],description:"",children:[]},{id:"1.3",title:"Finalize design system",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-01-29T12:00:00"),dueDate:new Date("2026-01-30T16:00:00"),estimate:2,dependencies:["1.2"],tags:[],description:"",children:[]}]},{id:"2",title:"Implement authentication flow",completed:!1,backend:"our_backend",level:"story",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:["backend","security"],description:"",featurePath:"backend",timeRanges:["sprint"],children:[{id:"2.1",title:"Set up OAuth providers",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-05T17:00:00"),estimate:3,tags:[],description:"",children:[]},{id:"2.2",title:"Write integration tests",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-02-05T17:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:2,dependencies:["2.1"],tags:[],description:"",children:[]}]},{id:"3",title:"Update documentation",completed:!1,backend:"google_drive",assignee:"carol",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-04T17:00:00"),estimate:2,tags:["docs"],description:"",timeRanges:["sprint"],children:[]},{id:"4",title:"Code review for PR #234",completed:!1,backend:"github",assignee:"dave",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-03T18:00:00"),estimate:1,tags:["review","urgent"],description:"",timeRanges:["day"],children:[]},{id:"5",title:"Weekly team sync",completed:!0,backend:"local",dueDate:new Date("2026-01-28T09:00:00"),tags:["meeting"],description:"",children:[]},{id:"10",title:"v2.0 Platform Redesign",completed:!1,backend:"our_backend",level:"epic",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-03-20T17:00:00"),estimate:30,tags:["platform","v2"],description:"Complete redesign of the platform for v2.0 launch.",timeRanges:["half"],children:[{id:"10.1",title:"New auth system",completed:!1,backend:"our_backend",level:"story",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:12,tags:["auth"],description:"",timeRanges:["sprint"],children:[{id:"10.1.1",title:"OAuth integration",completed:!1,backend:"our_backend",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.1.2",title:"Session management",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:4,dependencies:["10.1.1"],tags:[],description:"",children:[]},{id:"10.1.3",title:"Auth security review",completed:!1,backend:"local",assignee:"carol",startDate:new Date("2026-02-17T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:3,dependencies:["10.1.2"],tags:[],description:"",children:[]}]},{id:"10.2",title:"API overhaul",completed:!1,backend:"our_backend",level:"story",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:10,tags:["api"],description:"",timeRanges:["sprint"],children:[{id:"10.2.1",title:"API endpoint migration",completed:!1,backend:"our_backend",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-19T17:00:00"),estimate:6,tags:[],description:"",children:[]},{id:"10.2.2",title:"API integration tests",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-02-19T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:4,dependencies:["10.2.1"],tags:[],description:"",children:[]}]},{id:"10.3",title:"Frontend refresh",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:12,tags:["frontend"],description:"",timeRanges:["sprint"],children:[{id:"10.3.1",title:"Component library update",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-03T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.3.2",title:"Dashboard redesign",completed:!1,backend:"github",assignee:"bob",startDate:new Date("2026-03-03T09:00:00"),dueDate:new Date("2026-03-10T17:00:00"),estimate:5,dependencies:["10.3.1"],tags:[],description:"",children:[]},{id:"10.3.3",title:"E2E testing",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-03-10T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:2,dependencies:["10.3.2"],tags:[],description:"",children:[]}]}]},{id:"11",title:"Database migration",completed:!1,backend:"our_backend",level:"story",assignee:"dave",startDate:new Date("2026-02-05T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:8,tags:["database","infra"],description:"Migrate from PostgreSQL 14 to 16 with schema changes.",timeRanges:["sprint"],children:[]},{id:"6",title:"Daily standup notes",completed:!1,type:"chore",recurrence:"daily",backend:"local",dueDate:new Date("2026-02-03T09:30:00"),timeRanges:["day"],tags:["team"],description:"Write up standup notes and share with team.",instances:{"2026-02-01":{completed:!0,notes:""},"2026-02-02":{completed:!0,notes:"Weekend catch-up"},"2026-02-03":{completed:!1,notes:""}},children:[]},{id:"7",title:"Sprint retrospective report",completed:!1,type:"assignment",assignees:["alice","bob","carol"],backend:"local",dueDate:new Date("2026-02-07T17:00:00"),timeRanges:["sprint"],tags:["process"],description:"Each team member writes their section of the retro report.",instances:{alice:{completed:!0,notes:"Submitted Friday"},bob:{completed:!1,notes:""},carol:{completed:!1,notes:"WIP"}},children:[]}];var Zr,Kl,tl,Fo,Jr,Xl;class hv extends Wc{constructor(n){super("todos:v2",n,fv);G(this,Zr);G(this,tl);G(this,Jr)}async getTodos(){return this.getData()}async setTodos(n){await this.save(n)}findById(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findById(n,l.children);if(a)return a}}return null}findParent(n,r=null,s=null){const l=r??this.getData();for(const a of l){if(a.id===n)return s;if(a.children&&a.children.length>0){const o=this.findParent(n,a.children,a);if(o!==void 0)return o}}return null}async addTodo(n,r=null,s={}){const l=this.getData(),a={id:this.generateId("todo"),title:n,completed:!1,backend:"local",dueDate:null,tags:[],description:"",children:[],...s};if(r){const o=L(this,Zr,Kl).call(this,l,r,a);await this.save(o)}else await this.save([...l,a]);return a}async updateTodo(n,r){const s=this.getData(),l=L(this,tl,Fo).call(this,s,n,r);return await this.save(l),l}async deleteTodo(n){const r=this.getData(),s=L(this,Jr,Xl).call(this,r,n);return await this.save(s),s}async toggleTodo(n){const r=this.findById(n);return r?this.updateTodo(n,{completed:!r.completed}):this.getData()}async moveTodo(n,r){const s=this.getData(),l=this.findById(n);if(!l)return s;let a=L(this,Jr,Xl).call(this,s,n);return r?a=L(this,Zr,Kl).call(this,a,r,this.clone(l)):a=[...a,this.clone(l)],await this.save(a),a}async reorderTodos(n,r,s){const l=this.getData(),a=(c,d)=>{if(d===null){const h=[...c],[x]=h.splice(r,1);return h.splice(s,0,x),h}return c.map(h=>{if(h.id===d){const x=[...h.children||[]],[p]=x.splice(r,1);return x.splice(s,0,p),{...h,children:x}}return h.children&&h.children.length>0?{...h,children:a(h.children,d)}:h})},o=a(l,n);return await this.save(o),o}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}Zr=new WeakSet,Kl=function(n,r,s){return n.map(l=>l.id===r?{...l,children:[...l.children||[],s]}:l.children&&l.children.length>0?{...l,children:L(this,Zr,Kl).call(this,l.children,r,s)}:l)},tl=new WeakSet,Fo=function(n,r,s){return n.map(l=>l.id===r?{...l,...s}:l.children&&l.children.length>0?{...l,children:L(this,tl,Fo).call(this,l.children,r,s)}:l)},Jr=new WeakSet,Xl=function(n,r){return n.filter(s=>s.id!==r).map(s=>s.children&&s.children.length>0?{...s,children:L(this,Jr,Xl).call(this,s.children,r)}:s)};const pv=[{id:"unassigned",name:"Unassigned",avatar:"",email:"",enabled:!0,isSystem:!0}],Yh=["","","","","","","","","","","","","","","","","","","","","","","","","","",""];class mv extends Wc{constructor(t){super("people:v2",t,pv)}async getPeople(){return this.getData()}async setPeople(t){await this.save(t)}getPerson(t){return this.getData().find(n=>n.id===t)||null}getEnabledPeople(){return this.getData().filter(t=>t.enabled)}getRegularPeople(){return this.getData().filter(t=>!t.isSystem)}getSystemPeople(){return this.getData().filter(t=>t.isSystem)}async addPerson(t){const n=this.getData(),r={id:this.generateId("person"),name:t.name||"New Person",avatar:t.avatar||"",email:t.email||"",enabled:!0,...t,id:t.id||this.generateId("person")};return await this.save([...n,r]),r.id}async updatePerson(t,n){const r=this.getData(),s=r.find(a=>a.id===t);if(s!=null&&s.isSystem&&(n.name!==void 0||n.id!==void 0)){console.warn("Cannot modify system entry name or ID");return}const l=r.map(a=>a.id===t?{...a,...n}:a);await this.save(l)}async deletePerson(t){const n=this.getData(),r=n.find(l=>l.id===t);if(r!=null&&r.isSystem){console.warn("Cannot delete system entry");return}const s=n.filter(l=>l.id!==t);await this.save(s)}async toggleEnabled(t){const n=this.getPerson(t);!n||n.isSystem||await this.updatePerson(t,{enabled:!n.enabled})}async reorderPeople(t,n){const r=[...this.getData()],[s]=r.splice(t,1);r.splice(n,0,s),await this.save(r)}subscribe(t){return this.on("data-changed",({data:n})=>t(n))}}const gv=[{id:"frontend",name:"Frontend",description:"Frontend features and UI development",memberIds:["alice","bob"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["alice","bob"],overrides:[]},resources:[{id:"res-fe-1",label:"Frontend Wiki",url:"#",type:"wiki",visibility:"public"},{id:"res-fe-2",label:"UI Components Repo",url:"#",type:"repo",visibility:"public"},{id:"res-fe-3",label:"Analytics Dashboard",url:"#",type:"dashboard",visibility:"team-only"}],partnerTeamIds:["backend"],children:[]},{id:"backend",name:"Backend",description:"Backend services and API development",memberIds:["carol","dave"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["carol","dave"],overrides:[]},resources:[{id:"res-be-1",label:"API Spec",url:"#",type:"spec",visibility:"public"},{id:"res-be-2",label:"Services Repo",url:"#",type:"repo",visibility:"public"},{id:"res-be-3",label:"Cloud Budget",url:"#",type:"budget",visibility:"restricted"}],partnerTeamIds:["frontend"],children:[]}],Qh={daily:1,weekly:7,biweekly:14};function Gh(e,t=new Date){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return null;const n=Qh[e.rotationPeriod]||7;if(e.overrides&&e.overrides.length>0)for(const d of e.overrides){const h=new Date(d.date);h.setHours(0,0,0,0);const x=new Date(h);x.setDate(x.getDate()+n);const p=new Date(t);if(p.setHours(0,0,0,0),p>=h&&p<x)return d.memberId}const r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date(t);s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=e.memberOrder.length,c=(a%o+o)%o;return e.memberOrder[c]}function vv(e,t=8){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return[];const n=Qh[e.rotationPeriod]||7,r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date;s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=[];for(let c=0;c<t;c++){const d=a+c,h=new Date(r);h.setDate(h.getDate()+d*n);const x=new Date(h);x.setDate(x.getDate()+n-1);let p=null;if(e.overrides)for(const v of e.overrides){const T=new Date(v.date);if(T.setHours(0,0,0,0),T>=h&&T<=x){p=v.memberId;break}}if(!p){const v=e.memberOrder.length,T=(d%v+v)%v;p=e.memberOrder[T]}o.push({startDate:h,endDate:x,memberId:p,isCurrent:c===0})}return o}var nl,$o,rl,Bo,sl,Wo,ll,Uo,bn,kr;class yv extends Wc{constructor(n){super("feature-tree:v2",n,gv);G(this,nl);G(this,rl);G(this,sl);G(this,ll);G(this,bn)}async getTree(){return this.getData()}async setTree(n){await this.save(n)}findNode(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findNode(n,l.children);if(a)return a}}return null}flattenTree(){const n=[],r=(s,l=0)=>{for(const a of s)n.push({id:a.id,name:a.name,depth:l}),a.children&&a.children.length>0&&r(a.children,l+1)};return r(this.getData()),n}async addNode(n,r){const s={id:this.generateId("ft"),name:r.name||"New Feature",description:r.description||"",memberIds:r.memberIds||[],oncall:r.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:new Date().toISOString().slice(0,10),memberOrder:[],overrides:[]},resources:[],partnerTeamIds:[],children:[],...r,id:r.id||this.generateId("ft")},l=this.getData(),a=L(this,nl,$o).call(this,n,s,l);return await this.save(a),s.id}async updateNode(n,r){const s=this.getData(),l=L(this,rl,Bo).call(this,n,r,s);await this.save(l)}async deleteNode(n){let r=this.getData();r=L(this,ll,Uo).call(this,r,n),r=L(this,sl,Wo).call(this,n,r),await this.save(r)}async addResource(n,r){const s=this.findNode(n);if(!s)return;const l={id:this.generateId("res"),label:r.label||"",url:r.url||"",type:r.type||"other",visibility:r.visibility||"public"},a=[...s.resources||[],l];return await this.updateNode(n,{resources:a}),l.id}async removeResource(n,r){const s=this.findNode(n);if(!s)return;const l=(s.resources||[]).filter(a=>a.id!==r);await this.updateNode(n,{resources:l})}async updateResource(n,r,s){const l=this.findNode(n);if(!l)return;const a=(l.resources||[]).map(o=>o.id===r?{...o,...s}:o);await this.updateNode(n,{resources:a})}async addPartnerTeam(n,r){const s=this.getData(),l=L(this,bn,kr).call(this,n,s),a=L(this,bn,kr).call(this,r,s);!l||!a||(l.partnerTeamIds||(l.partnerTeamIds=[]),a.partnerTeamIds||(a.partnerTeamIds=[]),l.partnerTeamIds.includes(r)||l.partnerTeamIds.push(r),a.partnerTeamIds.includes(n)||a.partnerTeamIds.push(n),await this.save(s))}async removePartnerTeam(n,r){const s=this.getData(),l=L(this,bn,kr).call(this,n,s),a=L(this,bn,kr).call(this,r,s);l&&l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(o=>o!==r)),a&&a.partnerTeamIds&&(a.partnerTeamIds=a.partnerTeamIds.filter(o=>o!==n)),await this.save(s)}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}nl=new WeakSet,$o=function(n,r,s){return n===null?[...s,r]:s.map(l=>l.id===n?{...l,children:[...l.children||[],r]}:l.children&&l.children.length>0?{...l,children:L(this,nl,$o).call(this,n,r,l.children)}:l)},rl=new WeakSet,Bo=function(n,r,s){return s.map(l=>l.id===n?{...l,...r}:l.children&&l.children.length>0?{...l,children:L(this,rl,Bo).call(this,n,r,l.children)}:l)},sl=new WeakSet,Wo=function(n,r){return r.filter(s=>s.id!==n).map(s=>s.children&&s.children.length>0?{...s,children:L(this,sl,Wo).call(this,n,s.children)}:s)},ll=new WeakSet,Uo=function(n,r){return n.map(s=>{const l={...s};return l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(a=>a!==r)),l.children&&l.children.length>0&&(l.children=L(this,ll,Uo).call(this,l.children,r)),l})},bn=new WeakSet,kr=function(n,r){for(const s of r){if(s.id===n)return s;if(s.children&&s.children.length>0){const l=L(this,bn,kr).call(this,n,s.children);if(l)return l}}return null};let _a=null,Oa=null,Ma=null;function Kh(){return _a||(_a=new hv(Zi())),_a}function $r(){return Oa||(Oa=new mv(Zi())),Oa}function Jt(){return Ma||(Ma=new yv(Zi())),Ma}var Ze,mt,et,gt,In,Dt,_n,Yo,qr,il,bi,Xh,al,Ho,Kt,kn,Ii,Zh,_i,Jh,Pe,Re,Oi,qh;class xv{constructor(t=[]){G(this,bi);G(this,al);G(this,Kt);G(this,Ii);G(this,_i);G(this,Pe);G(this,Oi);G(this,Ze,null);G(this,mt,[]);G(this,et,new Set);G(this,gt,new Set);G(this,In,[]);G(this,Dt,[]);G(this,_n,new Map);G(this,Yo,new Map);G(this,qr,new Map);G(this,il,!1);t.forEach(n=>P(this,gt).add(n)),se(this,Ze,Kh()),L(this,bi,Xh).call(this)}isInitialized(){return P(this,il)}setFilterFunction(t){se(this,In,t?[t]:[]),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"filter-changed",{visibleCount:P(this,Dt).length})}async appendItem(t,n){L(this,Oi,qh).call(this);try{const r=await P(this,Ze).addTodo(n.title,t);return(n.timeRanges||n.description||n.priority)&&await P(this,Ze).updateTodo(r.id,{timeRanges:n.timeRanges,description:n.description,priority:n.priority,...n}),r.id}catch(r){throw L(this,Pe,Re).call(this,"error",{operation:"appendItem",error:r}),r}}async insertAt(t,n,r){return this.appendItem(t,r)}async insertAfter(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async insertBefore(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async deleteItem(t){try{return await P(this,Ze).deleteTodo(t),P(this,et).has(t)&&(P(this,et).delete(t),L(this,Pe,Re).call(this,"selection-changed",{selectedIds:Array.from(P(this,et))})),!0}catch(n){throw L(this,Pe,Re).call(this,"error",{operation:"deleteItem",error:n}),n}}async updateItem(t,n){try{return await P(this,Ze).updateTodo(t,n),!0}catch(r){throw L(this,Pe,Re).call(this,"error",{operation:"updateItem",error:r}),r}}async toggleComplete(t,n=!0){var r;try{const s=this.getItem(t);if(!s)return!1;if(await P(this,Ze).toggleTodo(t),n&&((r=s.children)==null?void 0:r.length)>0){const l=a=>{a.forEach(o=>{P(this,Ze).toggleTodo(o.id),o.children&&l(o.children)})};l(s.children)}return!0}catch(s){throw L(this,Pe,Re).call(this,"error",{operation:"toggleComplete",error:s}),s}}async makeChild(t,n){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);if(!this.getItem(n))throw new Error(`Parent ${n} not found`);if(L(this,_i,Jh).call(this,n,t))throw new Error("Cannot make item a child of its own descendant");return await P(this,Ze).moveTodo(t,n),this.expand(n),!0}catch(r){throw L(this,Pe,Re).call(this,"error",{operation:"makeChild",error:r}),r}}async indent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t),s=r?r.children:P(this,mt),l=s.findIndex(o=>o.id===t);if(l<=0)return!1;const a=s[l-1];return await this.makeChild(t,a.id)}catch(n){throw L(this,Pe,Re).call(this,"error",{operation:"indent",error:n}),n}}async outdent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t);if(!r)return!1;const s=this.getParent(r.id),l=(s==null?void 0:s.id)||null;return await P(this,Ze).moveTodo(t,l),!0}catch(n){throw L(this,Pe,Re).call(this,"error",{operation:"outdent",error:n}),n}}expand(t){P(this,gt).has(t)||(P(this,gt).add(t),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"expansion-changed",{expandedIds:Array.from(P(this,gt))}))}collapse(t){P(this,gt).has(t)&&(P(this,gt).delete(t),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"expansion-changed",{expandedIds:Array.from(P(this,gt))}))}toggleExpand(t){P(this,gt).has(t)?this.collapse(t):this.expand(t)}select(t,n=!0){n&&P(this,et).clear(),P(this,et).add(t),L(this,Pe,Re).call(this,"selection-changed",{selectedIds:Array.from(P(this,et))})}deselect(t){P(this,et).delete(t),L(this,Pe,Re).call(this,"selection-changed",{selectedIds:Array.from(P(this,et))})}clearSelection(){P(this,et).clear(),L(this,Pe,Re).call(this,"selection-changed",{selectedIds:[]})}multiSelect(t){t.forEach(n=>P(this,et).add(n)),L(this,Pe,Re).call(this,"selection-changed",{selectedIds:Array.from(P(this,et))})}getItem(t){return P(this,qr).get(t)}getParent(t){const n=r=>{var s;for(const l of r){if((s=l.children)!=null&&s.some(a=>a.id===t))return l;if(l.children){const a=n(l.children);if(a)return a}}return null};return n(P(this,mt))}getChildren(t){const n=this.getItem(t);return(n==null?void 0:n.children)||[]}getSiblings(t){const n=this.getParent(t);return(n?n.children:P(this,mt)).filter(s=>s.id!==t)}getAllItems(){return P(this,mt)}getSelectedIds(){return Array.from(P(this,et))}getExpandedIds(){return Array.from(P(this,gt))}getVisibleItems(){return P(this,Dt)}getItemsInRange(t,n){return P(this,Dt).slice(t,n)}getItemPosition(t){return P(this,Dt).findIndex(n=>n.id===t)}getVisibleCount(){return P(this,Dt).length}addFilter(t){P(this,In).push(t),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"filter-changed",{visibleCount:P(this,Dt).length})}clearFilters(){se(this,In,[]),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"filter-changed",{visibleCount:P(this,Dt).length})}on(t,n){P(this,_n).has(t)||P(this,_n).set(t,new Set),P(this,_n).get(t).add(n)}off(t,n){var r;(r=P(this,_n).get(t))==null||r.delete(n)}}Ze=new WeakMap,mt=new WeakMap,et=new WeakMap,gt=new WeakMap,In=new WeakMap,Dt=new WeakMap,_n=new WeakMap,Yo=new WeakMap,qr=new WeakMap,il=new WeakMap,bi=new WeakSet,Xh=async function(){P(this,Ze).isInitialized()||await P(this,Ze).initialize(),se(this,mt,await P(this,Ze).getTodos()),L(this,al,Ho).call(this),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"items-changed",{items:P(this,mt)}),P(this,Ze).on("data-changed",({data:t})=>{se(this,mt,t),L(this,al,Ho).call(this),L(this,Kt,kn).call(this),L(this,Pe,Re).call(this,"items-changed",{items:P(this,mt)})}),se(this,il,!0)},al=new WeakSet,Ho=function(){P(this,qr).clear();const t=n=>{n.forEach(r=>{P(this,qr).set(r.id,r),r.children&&t(r.children)})};t(P(this,mt))},Kt=new WeakSet,kn=function(){se(this,Dt,[]);const t=(n,r=0)=>{n.forEach(s=>{var l;L(this,Ii,Zh).call(this,s)&&(P(this,Dt).push({id:s.id,depth:r,item:s}),P(this,gt).has(s.id)&&((l=s.children)==null?void 0:l.length)>0&&t(s.children,r+1))})};t(P(this,mt))},Ii=new WeakSet,Zh=function(t){return P(this,In).length===0?!0:P(this,In).every(n=>n(t))},_i=new WeakSet,Jh=function(t,n){const r=this.getItem(n);if(!r||!r.children)return!1;const s=l=>{for(const a of l)if(a.id===t||a.children&&s(a.children))return!0;return!1};return s(r.children)},Pe=new WeakSet,Re=function(t,n){const r=P(this,_n).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},Oi=new WeakSet,qh=function(){return`op-${Date.now()}-${Math.random().toString(36).slice(2,9)}`};let Ra=null;function wv(e){return Ra||(Ra=new xv(e||["1","2"])),Ra}function ep(e){return!!(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0)}function kv(e){const t=e.getDay();return t>=1&&t<=5}function jv(e,t,n,r,s=!1){const l=[],a=new Date(t);a.setHours(0,0,0,0);const o=new Date(n);if(o.setHours(23,59,59,999),e==="daily"){const c=new Date(a);for(;c<=o;)(!s||kv(c))&&l.push(new Date(c)),c.setDate(c.getDate()+1)}else if(e==="weekly"||e==="biweekly"){const c=e==="biweekly"?14:7,d=r?r.getDay():1,h=new Date(a);for(;h.getDay()!==d;)h.setDate(h.getDate()+1);for(;h<=o;)l.push(new Date(h)),h.setDate(h.getDate()+c)}else if(e==="monthly"){const c=r?r.getDate():1,d=new Date(a.getFullYear(),a.getMonth(),c);for(d<a&&d.setMonth(d.getMonth()+1);d<=o;)l.push(new Date(d)),d.setMonth(d.getMonth()+1)}return l}function sd(e,t,n={}){var s;const r=((s=e.instances)==null?void 0:s[t])||{};return{...e,id:`${e.id}:${t}`,masterId:e.id,isInstance:!0,instanceKey:t,completed:r.completed||!1,notes:r.notes||"",...n,children:[]}}function Sv(e,t,n,r,s={}){const{showAllInstances:l=!1}=s;if(e.type==="chore"&&e.recurrence){const a=jv(e.recurrence,t,n,e.dueDate,e.workdaysOnly||!1);return a.length===0?[]:(l?a:[Nv(a)]).map(c=>{const d=c.toISOString().slice(0,10);return sd(e,d,{instanceDate:c,recurrence:void 0})})}if(e.type==="assignment"&&e.assignees&&e.assignees.length>0){if(e.dueDate){const a=new Date(e.dueDate);if(a<t||a>n)return[]}return e.assignees.map(a=>{const o=r==null?void 0:r.find(c=>c.id===a);return sd(e,a,{instanceAssignee:a,instanceAssigneeName:(o==null?void 0:o.name)||a,instanceAssigneeAvatar:(o==null?void 0:o.avatar)||"",assignee:a,assignees:void 0})})}return[]}function Nv(e){if(e.length===0)return null;const t=new Date;t.setHours(0,0,0,0);const n=t.toISOString().slice(0,10),r=e.find(a=>a.toISOString().slice(0,10)===n);if(r)return r;const s=e.filter(a=>a>=t).sort((a,o)=>a-o);return s.length>0?s[0]:e.filter(a=>a<t).sort((a,o)=>o-a)[0]}function Dv(e){if(e.type==="chore"&&e.recurrence){const t=Object.keys(e.instances||{}).length;if(t>0)return t;switch(e.recurrence){case"daily":return"~30/mo";case"weekly":return"~4/mo";case"biweekly":return"~2/mo";case"monthly":return"~1/mo";default:return"?"}}return e.type==="assignment"&&e.assignees?e.assignees.length:0}function Ev(e){var l;const t=e.instances||{},n=Object.keys(t),r=e.type==="assignment"?((l=e.assignees)==null?void 0:l.length)||0:n.length,s=n.filter(a=>{var o;return(o=t[a])==null?void 0:o.completed}).length;return{total:r,completed:s}}function Cv(e,t,n,r){return{...e||{},[t]:{...(e==null?void 0:e[t])||{},[n]:r}}}const Tv={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""};function tp({todo:e,depth:t=0,isExpanded:n,isSelected:r,expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:d,onDoubleClick:h,onContextMenu:x,onDragStart:p,onDragOver:v,onDrop:T,onDragEnd:S,dragOverId:j,dragOverPosition:f,draggedId:u,onNavigateToMaster:g,teamMembers:k}){const D=e.children&&e.children.length>0,E=e.isInstance,I=!E&&ep(e),b=V=>{V.stopPropagation(),p&&p(e.id,V)},R=V=>{V.preventDefault(),V.stopPropagation(),v&&v(e.id,V)},z=V=>{V.preventDefault(),V.stopPropagation(),T&&T(e.id,V)},m=V=>{V.stopPropagation(),S&&S(V)},W=j===e.id&&f==="middle",Q=u===e.id;let q=null;if(E)if(e.instanceDate){const V=new Date(e.instanceDate),re=V.toLocaleDateString("en-US",{weekday:"short"}),Y=`${V.getMonth()+1}/${V.getDate()}`;q=`${re} ${Y}`}else e.instanceAssignee&&(q=`${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`);let ae=null;if(I){const V=Dv(e),re=Ev(e);ae=i.jsxs("span",{className:"master-instance-count",title:re.total>0?`${re.completed}/${re.total} completed`:"",children:[" ",typeof V=="number"?`${V} instances`:V,re.total>0&&` (${re.completed})`]})}return i.jsxs("div",{style:{marginLeft:`${t*24}px`},children:[i.jsxs("div",{"data-item-id":e.id,className:`todo-item ${r?a.has(e.id)?"multi-selected":"selected":""} ${e.completed?"completed":""} ${W?"drop-indicator-middle":""} ${Q?"dragging":""} ${E?`instance instance-${e.type}`:""} ${I?"master":""}`,onClick:()=>d(e.id),onDoubleClick:()=>h&&h(e.id),onContextMenu:V=>{V.preventDefault(),x&&x(e.id,V.clientX,V.clientY)},draggable:!E,onDragStart:b,onDragOver:R,onDrop:z,onDragEnd:m,children:[D?i.jsx("button",{className:"expand-btn",onClick:V=>{V.stopPropagation(),o(e.id)},"aria-label":"toggle-expand",children:n?i.jsx(hl,{size:16}):i.jsx(Xi,{size:16})}):i.jsx("div",{className:"expand-spacer"}),!E&&i.jsxs("span",{className:"task-number",children:["#",e.id]}),i.jsx("button",{className:"checkbox",onClick:V=>{V.stopPropagation(),c(e.id)},"aria-label":"toggle-complete",children:e.completed?i.jsx(qg,{size:18}):i.jsx(Jg,{size:18})}),i.jsx("span",{className:"backend-icon",children:Tv[e.backend]}),e.type&&e.type!=="task"&&i.jsxs("span",{className:`type-pill type-${e.type}`,children:[e.type==="bug"&&"",e.type==="issue"&&"",e.type==="feature"&&"",e.type==="assignment"&&"",e.type==="chore"&&""," ",e.type]}),i.jsx("span",{className:"todo-title",children:e.title}),q&&i.jsx("span",{className:"instance-context",children:q}),E&&g&&i.jsx("button",{className:"master-link",onClick:V=>{V.stopPropagation(),g(e.masterId)},title:`Open master #${e.masterId}`,children:""}),ae,!E&&e.assignees&&e.assignees.length>0&&i.jsxs("span",{className:"assignee-count",title:e.assignees.join(", "),children:[" ",e.assignees.length]}),!E&&e.recurrence&&i.jsxs("span",{className:"recurrence-badge",children:[" ",e.recurrence]}),e.dependencies&&e.dependencies.length>0&&i.jsxs("span",{className:"dependency-indicator",title:`Depends on: ${e.dependencies.map(V=>"#"+V).join(", ")}`,children:[" ",e.dependencies.length]}),e.tags&&e.tags.length>0&&i.jsx("div",{className:"tags",children:e.tags.map(V=>i.jsx("span",{className:"tag",children:V},V))}),e.dueDate&&!E&&i.jsxs("span",{className:"due-date",children:[i.jsx(Lo,{size:12}),new Date(e.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),D&&n&&i.jsx("div",{className:"children",children:e.children.map(V=>i.jsx(tp,{todo:V,depth:t+1,isExpanded:s.has(V.id),isSelected:V.id===l||a.has(V.id),expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:d,onDoubleClick:h,onContextMenu:x,onDragStart:p,onDragOver:v,onDrop:T,onDragEnd:S,dragOverId:j,dragOverPosition:f,draggedId:u,onNavigateToMaster:g,teamMembers:k},V.id))})]})}const Pv={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""},La=[{id:"unassigned",name:"Unassigned",avatar:""},{id:"alice",name:"Alice Chen",avatar:""},{id:"bob",name:"Bob Smith",avatar:""},{id:"carol",name:"Carol White",avatar:""},{id:"dave",name:"Dave Brown",avatar:""}],bv=[{id:"task",label:"Task"},{id:"bug",label:"Bug"},{id:"issue",label:"Issue"},{id:"feature",label:"Feature"},{id:"assignment",label:"Assignment"},{id:"chore",label:"Chore"},{id:"buffer",label:"Buffer Time"}],Iv=[{id:"daily",label:"Daily"},{id:"weekly",label:"Weekly"},{id:"biweekly",label:"Biweekly"},{id:"monthly",label:"Monthly"}],_v=["P0","P1","P2","P3","P4"],Ov=["Critical","High","Medium","Low"],Mv=["untriaged","backlog","triaged","in_progress","fixed","closed"],Rv=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"api",name:"API"},{id:"database",name:"Database"},{id:"auth",name:"Authentication"},{id:"infra",name:"Infrastructure"},{id:"other",name:"Other"}];function Lv({todo:e,onUpdate:t,onClose:n,style:r,teamMembers:s,featureOptions:l,onNavigateToMaster:a}){if(!e)return null;const o=e.isInstance,c=!o&&(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0),d=m=>{const W=m.target.value?new Date(m.target.value):null;t(e.id,{dueDate:W})},h=m=>{t(e.id,{description:m.target.value})},x=m=>{if(m.key==="Enter"&&m.target.value.trim()){const W=[...e.tags||[],m.target.value.trim()];t(e.id,{tags:W}),m.target.value=""}},p=m=>{const W=(e.tags||[]).filter(Q=>Q!==m);t(e.id,{tags:W})},v=m=>{if(m.key==="Enter"&&m.target.value.trim()){const W=m.target.value.trim().replace(/^#/,""),Q=[...e.dependencies||[],W];t(e.id,{dependencies:Q}),m.target.value=""}},T=m=>{const W=(e.dependencies||[]).filter(Q=>Q!==m);t(e.id,{dependencies:W})},S=m=>{const W=parseFloat(m.target.value);t(e.id,{estimate:isNaN(W)?null:W})},j=m=>{t(e.id,{assignee:m.target.value})},f=m=>{t(e.id,{type:m.target.value})},u=m=>{t(e.id,{priority:m.target.value})},g=m=>{t(e.id,{severity:m.target.value})},k=m=>{t(e.id,{triageStatus:m.target.value})},D=m=>{t(e.id,{featureArea:m.target.value})},E=e.type==="bug"||e.type==="issue",I=E?[{key:"environment",label:"Environment / Setup"},{key:"reproSteps",label:"Steps to Reproduce"},{key:"expectedBehavior",label:"Expected Behavior"},{key:"actualBehavior",label:"Actual Behavior"}]:[],b=I.filter(m=>e[m.key]&&e[m.key].trim()).length,R=m=>W=>{t(e.id,{[m]:W.target.value})},z=m=>{t(e.id,{debugInfo:m.target.value})};return i.jsxs("aside",{className:"detail-panel",style:r,children:[i.jsxs("div",{className:"detail-header",children:[i.jsx("h2",{children:e.title}),i.jsx("button",{className:"close-btn",onClick:n,children:i.jsx(Kn,{size:16})})]}),o&&i.jsxs("div",{className:"instance-banner",children:[i.jsxs("span",{className:"instance-banner-label",children:["Instance of #",e.masterId,e.instanceDate&&`  ${new Date(e.instanceDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}`,e.instanceAssignee&&`  ${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`]}),a&&i.jsx("button",{className:"instance-banner-link",onClick:()=>a(e.masterId),children:" Open Master"})]}),i.jsx("div",{className:"detail-backend",children:i.jsxs("span",{className:"backend-badge",children:[Pv[e.backend]," ",e.backend.replace("_"," ")]})}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ea,{size:16})," Type"]}),i.jsx("select",{className:"detail-input",value:e.type||"task",onChange:f,children:bv.map(m=>i.jsx("option",{value:m.id,children:m.label},m.id))})]}),E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Priority"}),i.jsxs("select",{className:"detail-input",value:e.priority||"",onChange:u,children:[i.jsx("option",{value:"",children:"No Priority"}),_v.map(m=>i.jsx("option",{value:m,children:m},m))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Severity"}),i.jsxs("select",{className:"detail-input",value:e.severity||"",onChange:g,children:[i.jsx("option",{value:"",children:"No Severity"}),Ov.map(m=>i.jsx("option",{value:m,children:m},m))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Triage Status"}),i.jsx("select",{className:"detail-input",value:e.triageStatus||"untriaged",onChange:k,children:Mv.map(m=>i.jsx("option",{value:m,children:m.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase())},m))})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature Area"}),i.jsxs("select",{className:"detail-input",value:e.featureArea||"",onChange:D,children:[i.jsx("option",{value:"",children:"No Feature Area"}),Rv.map(m=>i.jsx("option",{value:m.id,children:m.name},m.id))]})]}),i.jsxs("div",{className:"bug-completeness",children:[i.jsx("div",{className:"bug-completeness-bar",children:i.jsx("div",{className:"bug-completeness-fill",style:{width:`${b/4*100}%`}})}),i.jsxs("span",{className:"bug-completeness-label",children:[b,"/4 details filled"]})]}),I.map(m=>i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{className:`bug-field-header ${e[m.key]&&e[m.key].trim()?"filled":"empty"}`,children:[e[m.key]&&e[m.key].trim()?"":""," ",m.label]}),i.jsx("textarea",{className:"detail-textarea bug-field-textarea",placeholder:m.key==="environment"?"OS, browser, device, app version, relevant config...":m.key==="reproSteps"?`1. Go to...
2. Click on...
3. Observe...`:m.key==="expectedBehavior"?"What should have happened...":"What actually happened, error messages, stack traces...",rows:m.key==="reproSteps"?5:3,value:e[m.key]||"",onChange:R(m.key)})]},m.key)),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Attachments"}),i.jsx("div",{className:"bug-attachment-zone",children:i.jsxs("div",{className:"bug-attachment-placeholder",children:[i.jsx("span",{className:"bug-attachment-icon",children:""}),i.jsx("span",{className:"bug-attachment-text",children:"Screenshots, videos, crash dumps"}),i.jsx("span",{className:"bug-attachment-hint",children:"Drag & drop or click to attach (not yet implemented)"})]})})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Debug Info"}),i.jsx("textarea",{className:"detail-textarea bug-debug-textarea",placeholder:"Paste logs, telemetry data, stack traces, device info...",rows:6,value:e.debugInfo||"",onChange:z})]})]}),e.type==="assignment"&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ao,{size:16})," Assignees"]}),i.jsx("div",{className:"assignee-checklist",children:(s||La).filter(m=>m.id!=="unassigned").map(m=>{const W=e.assignees||[],Q=W.includes(m.id);return i.jsxs("label",{className:"assignee-check-row",children:[i.jsx("input",{type:"checkbox",checked:Q,onChange:()=>{const q=Q?W.filter(ae=>ae!==m.id):[...W,m.id];t(e.id,{assignees:q})}}),i.jsx("span",{className:"assignee-check-avatar",children:m.avatar}),i.jsx("span",{className:"assignee-check-name",children:m.name})]},m.id)})})]}),e.type==="chore"&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Recurrence"}),i.jsxs("select",{className:"detail-input",value:e.recurrence||"",onChange:m=>t(e.id,{recurrence:m.target.value}),children:[i.jsx("option",{value:"",children:"No Recurrence"}),Iv.map(m=>i.jsx("option",{value:m.id,children:m.label},m.id))]}),e.recurrence==="daily"&&i.jsxs("label",{className:"workdays-only-toggle",children:[i.jsx("input",{type:"checkbox",checked:e.workdaysOnly||!1,onChange:m=>t(e.id,{workdaysOnly:m.target.checked})}),i.jsx("span",{children:"Workdays only (Mon-Fri)"})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Lo,{size:16})," Due Date"]}),i.jsx("input",{type:"datetime-local",className:"detail-input",value:e.dueDate&&e.dueDate instanceof Date?e.dueDate.toISOString().slice(0,16):"",onChange:d})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Lo,{size:16})," Estimate (days)"]}),i.jsx("input",{type:"number",className:"detail-input",placeholder:"Enter estimate in days...",min:"0.5",step:"0.5",value:e.estimate||"",onChange:S})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ao,{size:16})," Assigned To"]}),i.jsx("select",{className:"detail-input",value:e.assignee||"unassigned",onChange:j,children:La.map(m=>i.jsxs("option",{value:m.id,children:[m.avatar," ",m.name]},m.id))})]}),l&&l.length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature"}),i.jsxs("select",{className:"detail-input",value:e.featurePath||"",onChange:m=>t(e.id,{featurePath:m.target.value||null}),children:[i.jsx("option",{value:"",children:"No Feature"}),l.map(m=>i.jsxs("option",{value:m.id,children:["".repeat(m.depth),m.name]},m.id))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ea,{size:16})," Tags"]}),i.jsxs("div",{className:"tag-input",children:[(e.tags||[]).map(m=>i.jsxs("span",{className:"tag editable",children:[m,i.jsx("button",{onClick:()=>p(m),children:""})]},m)),i.jsx("input",{type:"text",placeholder:"Add tag...",className:"detail-input-inline",onKeyDown:x})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ea,{size:16})," Dependencies"]}),i.jsxs("div",{className:"tag-input",children:[(e.dependencies||[]).map(m=>i.jsxs("span",{className:"tag editable dependency-tag",children:["#",m,i.jsx("button",{onClick:()=>T(m),children:""})]},m)),i.jsx("input",{type:"text",placeholder:"Add dependency (e.g., #123)...",className:"detail-input-inline",onKeyDown:v})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(rd,{size:16})," Description"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add detailed description...",rows:6,value:e.description||"",onChange:h})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(nv,{size:16})," Attachments"]}),i.jsx("div",{className:"attachments",children:i.jsx("button",{className:"attachment-btn",disabled:!0,children:"Add File (not implemented)"})})]}),o&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(rd,{size:16})," Instance Notes"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add notes for this instance...",rows:4,value:e.notes||"",onChange:m=>t(e.id,{notes:m.target.value})})]}),c&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Instances"}),i.jsxs("div",{className:"instance-list",children:[e.type==="assignment"&&(e.assignees||[]).map(m=>{var q;const W=(s||La).find(ae=>ae.id===m),Q=((q=e.instances)==null?void 0:q[m])||{};return i.jsxs("div",{className:`instance-list-row ${Q.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:Q.completed?"":""}),i.jsx("span",{className:"instance-list-avatar",children:(W==null?void 0:W.avatar)||""}),i.jsx("span",{className:"instance-list-name",children:(W==null?void 0:W.name)||m}),Q.notes&&i.jsx("span",{className:"instance-list-notes",children:Q.notes})]},m)}),e.type==="chore"&&Object.entries(e.instances||{}).sort(([m],[W])=>m.localeCompare(W)).map(([m,W])=>{const q=new Date(m).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return i.jsxs("div",{className:`instance-list-row ${W.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:W.completed?"":""}),i.jsx("span",{className:"instance-list-name",children:q}),W.notes&&i.jsx("span",{className:"instance-list-notes",children:W.notes})]},m)}),(!e.instances||Object.keys(e.instances).length===0)&&i.jsx("div",{className:"instance-list-empty",children:"No instances yet. Instances appear in day/sprint views."})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(tv,{size:16})," Comments"]}),i.jsx("div",{className:"comments",children:i.jsx("textarea",{className:"comment-input",placeholder:"Add a comment...",rows:3,disabled:!0})})]})]})}function Av({todos:e}){const n=(()=>{const s=new Date,l=[],a=S=>{S.forEach(j=>{j.completed||l.push(j),j.children&&a(j.children)})};if(a(e),l.length===0)return{percentage:0,status:"safe",message:"All clear!"};const o=l.filter(S=>S.dueDate).sort((S,j)=>new Date(S.dueDate)-new Date(j.dueDate));if(o.length===0)return{percentage:0,status:"safe",message:"No upcoming deadlines"};const c=o[0],h=(new Date(c.dueDate)-s)/(1e3*60*60),x=o.length,p=Math.min(100,x/h*100);let v="safe",T="On track";return p>80?(v="critical",T="High pressure! Focus time needed"):p>50&&(v="warning",T="Getting busy - stay focused"),{percentage:Math.max(0,p),status:v,message:T}})(),r={safe:"#3fb950",warning:"#fb8500",critical:"#f85149"};return i.jsxs("div",{className:"stress-meter",children:[i.jsxs("div",{className:"stress-header",children:[i.jsx(ev,{size:14}),i.jsx("span",{children:"Stress Meter"})]}),i.jsx("div",{className:"stress-bar-bg",children:i.jsx("div",{className:`stress-bar-fill stress-${n.status}`,style:{width:`${n.percentage}%`,backgroundColor:r[n.status]}})}),i.jsx("div",{className:"stress-message",children:n.message})]})}const zv=[{id:"day",label:"Today",emoji:""},{id:"week",label:"Week",emoji:""},{id:"sprint",label:"Sprint",emoji:""},{id:"half",label:"Half",emoji:""},{id:"year",label:"Year",emoji:""},{id:"global",label:"Global",emoji:""}];function Fv({activeRange:e,onRangeChange:t,onDropToRange:n,periodOffset:r,onPeriodChange:s}){const[l,a]=C.useState(null),o=(T,S)=>{T.preventDefault(),a(S)},c=()=>{a(null)},d=(T,S)=>{T.preventDefault(),a(null),n&&n(S)},h=()=>{s&&s(r-1)},x=()=>{s&&s(r+1)},p=()=>{s&&s(0)},v=()=>{if(r===0)return e==="day"?"Today":`Current ${e}`;const T=r>0?"Next":"Previous",S=Math.abs(r);return S===1?e==="day"?r>0?"Tomorrow":"Yesterday":`${T} ${e}`:`${S} ${e}s ${r>0?"ahead":"ago"}`};return i.jsxs("div",{className:"time-range-tabs",children:[i.jsxs("div",{className:"time-range-navigation",children:[i.jsx("button",{className:"nav-button",onClick:h,title:"Previous period",children:""}),i.jsx("button",{className:"nav-today",onClick:p,title:"Go to current period",disabled:r===0,children:v()}),i.jsx("button",{className:"nav-button",onClick:x,title:"Next period",children:""})]}),zv.map(T=>i.jsxs("button",{className:`time-tab ${e===T.id?"active":""} ${l===T.id?"drag-over":""}`,onClick:()=>t(T.id),onDragOver:S=>o(S,T.id),onDragLeave:c,onDrop:S=>d(S,T.id),children:[i.jsx("span",{className:"tab-emoji",children:T.emoji}),i.jsx("span",{className:"tab-label",children:T.label})]},T.id))]})}const $v=[{id:"local",name:"Local Storage",icon:"",enabled:!0},{id:"our_backend",name:"Cloud Sync",icon:"",enabled:!0},{id:"github",name:"GitHub Issues",icon:"",enabled:!1},{id:"google_drive",name:"Google Drive",icon:"",enabled:!1},{id:"azure_devops",name:"Azure DevOps",icon:"",enabled:!1},{id:"onenote",name:"OneNote",icon:"",enabled:!1}];function Bv({showCompleted:e,onToggleCompleted:t,viewMode:n,teamMembers:r,onUpdateTeamMembers:s,onOpenTimeBlockManager:l,ghostItemsInline:a,onToggleGhostItemsInline:o,todos:c,featureTree:d,onImportData:h}){const[x,p]=C.useState(!1),[v,T]=C.useState($v),[S,j]=C.useState(r||[]),f=C.useRef(null),u=b=>{T(R=>R.map(z=>z.id===b?{...z,enabled:!z.enabled}:z))},g=b=>{const R=S.map(z=>z.id===b?{...z,enabled:!z.enabled}:z);j(R),s&&s(R)},k=(b,R)=>{const z=[...S],[m]=z.splice(b,1);z.splice(R,0,m),j(z),s&&s(z)},D=()=>{const b={version:"1.0",exportedAt:new Date().toISOString(),todos:c||[],people:r||[],featureTree:d||[]},R=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),z=URL.createObjectURL(R),m=document.createElement("a");m.href=z,m.download=`uqueue-export-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(z)},E=()=>{var b;(b=f.current)==null||b.click()},I=async b=>{var z;const R=(z=b.target.files)==null?void 0:z[0];if(R){try{const m=await R.text(),W=JSON.parse(m);if(!W.version||!W.todos){alert("Invalid export file format");return}h&&(h(W),p(!1))}catch(m){alert("Failed to parse import file: "+m.message)}b.target.value=""}};return x?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"settings-overlay",onClick:()=>p(!1)}),i.jsxs("div",{className:"settings-modal",children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h2",{children:"Settings"}),i.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:i.jsx(Kn,{size:18})})]}),i.jsxs("div",{className:"settings-content",children:[n==="team"&&S&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Team Members"}),i.jsx("p",{className:"settings-description",children:"Manage team members and their display order"}),i.jsx("div",{className:"backend-list",children:S.map((b,R)=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:b.avatar}),i.jsx("span",{className:"backend-item-name",children:b.name})]}),i.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[i.jsx("button",{className:"reorder-btn",onClick:()=>R>0&&k(R,R-1),disabled:R===0,title:"Move up",children:""}),i.jsx("button",{className:"reorder-btn",onClick:()=>R<S.length-1&&k(R,R+1),disabled:R===S.length-1,title:"Move down",children:""}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:b.enabled!==!1,onChange:()=>g(b.id)}),i.jsx("span",{className:"toggle-slider"})]})]})]},b.id))}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(Vn,{size:16}),"Add Team Member (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Connected Services"}),i.jsx("p",{className:"settings-description",children:"Manage which services can sync your tasks"}),i.jsx("div",{className:"backend-list",children:v.map(b=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:b.icon}),i.jsx("span",{className:"backend-item-name",children:b.name})]}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:b.enabled,onChange:()=>u(b.id)}),i.jsx("span",{className:"toggle-slider"})]})]},b.id))}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(Vn,{size:16}),"Add Custom Service (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Time Management"}),i.jsx("p",{className:"settings-description",children:"Create recurring time blocks to organize your day"}),i.jsx("button",{className:"add-service-btn",onClick:()=>{p(!1),l&&l()},children:" Manage Time Blocks"})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Data Management"}),i.jsx("p",{className:"settings-description",children:"Export or import all your data (todos, people, feature tree)"}),i.jsxs("div",{className:"data-management-buttons",children:[i.jsx("button",{className:"add-service-btn",onClick:D,children:" Export Data"}),i.jsx("button",{className:"add-service-btn",onClick:E,children:" Import Data"}),i.jsx("input",{ref:f,type:"file",accept:".json",onChange:I,style:{display:"none"}})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Preferences"}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:e,onChange:b=>t(b.target.checked)}),"Show completed tasks"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Show stress meter"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Auto-expand parent items"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox"}),"Enable notifications"]})}),n==="personal"&&i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:a||!1,onChange:b=>o&&o(b.target.checked)}),"Show ghost entries inline (below tasks)"]})})]})]}),i.jsx("div",{className:"settings-footer",children:i.jsx("button",{className:"settings-close-btn",onClick:()=>p(!1),children:"Close"})})]})]}):i.jsx("button",{className:"settings-button",onClick:()=>p(!0),title:"Settings",children:i.jsx(rv,{size:18})})}const Wv=[{id:"day",label:"Today",emoji:""},{id:"week",label:"Week",emoji:""},{id:"sprint",label:"Sprint",emoji:""},{id:"half",label:"Half",emoji:""},{id:"year",label:"Year",emoji:""},{id:"global",label:"Global",emoji:""}];function Uv({x:e,y:t,todo:n,onClose:r,onToggleRange:s,onMoveToRange:l}){const a=C.useRef(null);if(C.useEffect(()=>{const h=p=>{a.current&&!a.current.contains(p.target)&&r()},x=p=>{p.key==="Escape"&&r()};return document.addEventListener("mousedown",h),document.addEventListener("keydown",x),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",x)}},[r]),!n)return null;const o=n.timeRanges||["global"],c=h=>{s(n.id,h)},d=h=>{l&&l(n.id,h),r()};return i.jsxs("div",{ref:a,className:"context-menu",style:{left:e,top:t},children:[i.jsx("div",{className:"context-menu-header",children:"Quick actions"}),i.jsxs("div",{className:"context-menu-items",children:[i.jsxs("button",{className:"context-menu-item",onClick:()=>d("day"),children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Move to Today"})]}),i.jsxs("button",{className:"context-menu-item",onClick:()=>d("week"),children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Move to This Week"})]}),i.jsxs("button",{className:"context-menu-item",onClick:()=>d("sprint"),children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Move to Current Sprint"})]}),i.jsxs("button",{className:"context-menu-item",onClick:()=>d("global"),children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Move to Backlog"})]})]}),i.jsx("div",{className:"context-menu-divider"}),i.jsx("div",{className:"context-menu-header",children:"Assign to time ranges"}),i.jsx("div",{className:"context-menu-items",children:Wv.map(h=>{const x=o.includes(h.id);return i.jsxs("button",{className:`context-menu-item ${x?"active":""}`,onClick:()=>c(h.id),children:[i.jsx("span",{className:"context-menu-icon",children:h.emoji}),i.jsx("span",{className:"context-menu-label",children:h.label}),x&&i.jsx("span",{className:"context-menu-check",children:i.jsx(zh,{size:14})})]},h.id)})})]})}const Aa=[{id:"personal",label:"Personal",icon:""},{id:"team",label:"Team",icon:""},{id:"timeline",label:"Timeline",icon:""},{id:"bugs",label:"Bugs",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"features",label:"Features",icon:""},{id:"people",label:"People",icon:""}];function Hv({activeMode:e,onModeChange:t}){const[n,r]=C.useState(!1),s=C.useRef(null),l=Aa.find(o=>o.id===e)||Aa[0];C.useEffect(()=>{const o=d=>{s.current&&!s.current.contains(d.target)&&r(!1)},c=d=>{d.key==="Escape"&&r(!1)};return n&&(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}},[n]);const a=o=>{t(o),r(!1)};return i.jsxs("div",{className:"mode-selector",ref:s,children:[i.jsxs("button",{className:"mode-selector-button",onClick:()=>r(!n),children:[i.jsx("span",{className:"mode-icon",children:l.icon}),i.jsx("span",{className:"mode-label",children:l.label}),i.jsx(hl,{size:14})]}),n&&i.jsx("div",{className:"mode-dropdown",children:Aa.map(o=>i.jsxs("button",{className:`mode-option ${o.id===e?"active":""}`,onClick:()=>a(o.id),children:[i.jsx("span",{className:"mode-option-icon",children:o.icon}),i.jsx("span",{className:"mode-option-label",children:o.label})]},o.id))})]})}const ld=1.5;function Vv({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:a=[],onSelect:o,onDoubleClick:c,onContextMenu:d,onUpdate:h}){const[x,p]=C.useState(()=>new Set(["sprint","backlog"])),v=(m,W=null)=>{const Q=[],q=(ae,V=W)=>{ae.forEach(re=>{!r&&re.completed||(Q.push({...re,featureId:V||re.featureId}),re.children&&re.children.length>0&&q(re.children,V||re.featureId))})};return q(m),Q},T=C.useMemo(()=>v(e),[e,r]),{sprintTasks:S,backlogTasks:j}=C.useMemo(()=>{const m=[],W=[],Q=["day","week","sprint"];return T.forEach(q=>{(q.timeRanges||["global"]).some(re=>Q.includes(re))?m.push(q):W.push(q)}),{sprintTasks:m,backlogTasks:W}},[T]),f=C.useMemo(()=>{const m=new Map;return S.forEach(W=>{const Q=W.assignee||"unassigned";m.has(Q)||m.set(Q,[]),m.get(Q).push(W)}),m.forEach(W=>{W.sort((Q,q)=>(Q.teamOrder||0)-(q.teamOrder||0))}),m},[S]),u=C.useMemo(()=>{const m=new Map;return m.set("_uncategorized",[]),j.forEach(W=>{const Q=W.featureId||"_uncategorized";m.has(Q)||m.set(Q,[]),m.get(Q).push(W)}),m.get("_uncategorized").length===0&&m.delete("_uncategorized"),m},[j]),g=m=>{if(m==="_uncategorized")return"Uncategorized";const W=Q=>{for(const q of Q){if(q.id===m)return q.name;if(q.children){const ae=W(q.children);if(ae)return ae}}return null};return W(a)||m},k=m=>(l==null?void 0:l.find(W=>W.id===m))||{id:m,name:m,avatar:""},D=m=>{p(W=>{const Q=new Set(W);return Q.has(m)?Q.delete(m):Q.add(m),Q})},E=m=>x.has(m),I=m=>m===t||(n==null?void 0:n.has(m)),b=m=>{const W=m.reduce((q,ae)=>q+(ae.estimate||ld),0),Q=m.filter(q=>q.completed).length;return{total:W.toFixed(1),count:m.length,completed:Q}},R=(m,W=0)=>{const Q=m.estimate||ld,q=k(m.assignee||"unassigned");return i.jsxs("div",{className:`condensed-task-row ${I(m.id)?"selected":""} ${m.completed?"completed":""}`,style:{paddingLeft:`${(W+1)*24}px`},onClick:()=>o(m.id),onDoubleClick:()=>c&&c(m.id),onContextMenu:ae=>{ae.preventDefault(),d&&d(m.id,ae.clientX,ae.clientY)},children:[i.jsx("span",{className:"condensed-task-checkbox",children:i.jsx("input",{type:"checkbox",checked:m.completed||!1,onChange:ae=>{ae.stopPropagation(),h&&h(m.id,{completed:!m.completed})}})}),i.jsx("span",{className:"condensed-task-title",children:m.title}),i.jsxs("span",{className:"condensed-task-meta",children:[i.jsxs("span",{className:"condensed-task-estimate",children:[Q,"d"]}),i.jsx("span",{className:"condensed-task-assignee",title:q.name,children:q.avatar})]})]},m.id)},z=(m,W,Q,q,ae=0)=>{const V=E(m);return i.jsxs("div",{className:"condensed-group-header",style:{paddingLeft:`${ae*24}px`},onClick:()=>D(m),children:[i.jsx("span",{className:"condensed-expand-icon",children:V?i.jsx(hl,{size:14}):i.jsx(Xi,{size:14})}),Q&&i.jsx("span",{className:"condensed-group-icon",children:Q}),i.jsx("span",{className:"condensed-group-label",children:W}),i.jsxs("span",{className:"condensed-group-stats",children:[q.completed,"/",q.count," (",q.total,"d)"]})]})};return i.jsxs("div",{className:"condensed-team-view",children:[i.jsxs("div",{className:"condensed-section",children:[z("sprint","Current Sprint","",b(S)),E("sprint")&&i.jsxs("div",{className:"condensed-section-content",children:[Array.from(f.entries()).map(([m,W])=>{const Q=k(m),q=`sprint-${m}`,ae=b(W);return i.jsxs("div",{className:"condensed-person-group",children:[z(q,Q.name,Q.avatar,ae,1),E(q)&&i.jsx("div",{className:"condensed-person-tasks",children:W.map(V=>R(V,2))})]},q)}),f.size===0&&i.jsx("div",{className:"condensed-empty",style:{paddingLeft:"48px"},children:"No tasks in current sprint"})]})]}),i.jsxs("div",{className:"condensed-section",children:[z("backlog","Backlog","",b(j)),E("backlog")&&i.jsxs("div",{className:"condensed-section-content",children:[Array.from(u.entries()).map(([m,W])=>{const Q=`backlog-${m}`,q=b(W),ae=g(m);return i.jsxs("div",{className:"condensed-feature-group",children:[z(Q,ae,"",q,1),E(Q)&&i.jsx("div",{className:"condensed-feature-tasks",children:W.map(V=>R(V,2))})]},Q)}),u.size===0&&i.jsx("div",{className:"condensed-empty",style:{paddingLeft:"48px"},children:"No tasks in backlog"})]})]})]})}const xs=1.5,Yv=40,Qv=[{id:"block",label:"Block View"},{id:"condensed",label:"Condensed View"}];function Gv({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,teams:a=[],featureTree:o=[],selectedTeamId:c,onTeamChange:d,onSelect:h,onDoubleClick:x,onContextMenu:p,onUpdate:v,onReorderTeamMembers:T}){const[S,j]=C.useState("block"),[f,u]=C.useState(null),[g,k]=C.useState(null),[D,E]=C.useState(null),[I,b]=C.useState(null),[R,z]=C.useState(null),[m,W]=C.useState(""),Q=c?a.find($=>$.id===c):null,q=C.useMemo(()=>{let $=(l==null?void 0:l.filter(ee=>ee.enabled!==!1))||[];if(Q&&Q.memberIds){const ee=new Set(Q.memberIds);$=$.filter(fe=>ee.has(fe.id))}return $},[l,Q]),ae=$=>{const ee=[],fe=Fe=>{Fe.forEach(Me=>{if(!r&&Me.completed)return;const St=Me.timeRanges||["global"],w=["day","week","sprint","half","year","global"],F=St.some(U=>{const _=w.indexOf(U),H=w.indexOf(s);return _<=H});(s==="global"||F)&&ee.push(Me),Me.children&&Me.children.length>0&&fe(Me.children)})};return fe($),ee},V=C.useMemo(()=>ae(e),[e,r,s]),re=$=>V.filter(ee=>(ee.assignee||"unassigned")===$).sort((ee,fe)=>(ee.teamOrder||0)-(fe.teamOrder||0)),Y=($,ee)=>{if(!$.dependencies||$.dependencies.length===0)return!1;const fe=new Date;return $.dependencies.some(Fe=>{const Me=ee.find(St=>St.id===Fe);return!Me||Me.completed?!1:Me.dueDate?new Date(Me.dueDate)<fe:!1})},Z=$=>re($).reduce((fe,Fe)=>fe+(Fe.estimate||xs),0),oe=(()=>{switch(s){case"day":return 1;case"week":return 5;case"sprint":return 10;case"half":return 60;case"year":return 240;case"global":return 999;default:return 10}})(),pe=($,ee)=>{$.stopPropagation(),u(ee),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("taskId",ee.id)},Ye=($,ee,fe)=>{$.preventDefault(),$.stopPropagation(),f&&b({memberId:ee,index:fe})},je=($,ee,fe)=>{if($.preventDefault(),$.stopPropagation(),!f)return;(f.assignee||"unassigned")!==ee&&v&&v(f.id,{assignee:ee}),re(ee).map((w,F)=>w.id===f.id?{id:w.id,order:fe}:F>=fe?{id:w.id,order:F+1}:{id:w.id,order:F}).forEach(({id:w,order:F})=>{v&&v(w,{teamOrder:F})}),u(null),b(null)},ge=($,ee)=>{k(ee),$.dataTransfer.effectAllowed="move"},Oe=($,ee)=>{$.preventDefault(),g!==null&&E(ee)},Ce=($,ee)=>{if($.preventDefault(),g===null||g===ee){k(null),E(null);return}T&&T(g,ee),k(null),E(null)},tn=()=>{u(null),k(null),E(null),b(null)},_t=$=>$.id===t||n.has($.id),Bt=$=>!$.children||$.children.length===0?$.completed?$.estimate||xs:0:$.children.reduce((ee,fe)=>ee+Bt(fe),0),lt=$=>{const ee=$.estimate||xs;if(!$.children||$.children.length===0)return ee;const fe=$.children.reduce((Fe,Me)=>Fe+lt(Me),0);return Math.max(ee,fe)},gn=$=>{const ee=lt($),fe=Bt($);return ee>0?fe/ee*100:0},us=($,ee)=>{ee.stopPropagation(),z($.id),W(($.estimate||xs).toString())},Wt=$=>{W($.target.value)},it=()=>{if(R&&v){const $=parseFloat(m);!isNaN($)&&$>0&&v(R,{estimate:$})}z(null),W("")},Qe=$=>{$.key==="Enter"?it():$.key==="Escape"&&(z(null),W(""))};return i.jsxs("div",{className:"team-view-sprint",children:[i.jsxs("div",{className:"team-selector-bar",children:[a.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"team-selector-label",children:"Team:"}),i.jsxs("select",{className:"team-selector-dropdown",value:c||"",onChange:$=>d&&d($.target.value||null),children:[i.jsx("option",{value:"",children:"All Teams"}),a.map($=>{var ee;return i.jsxs("option",{value:$.id,children:[$.name," (",((ee=$.memberIds)==null?void 0:ee.length)||0," members)"]},$.id)})]})]}),i.jsx("label",{className:"team-selector-label",children:"View:"}),i.jsx("select",{className:"team-selector-dropdown",value:S,onChange:$=>j($.target.value),children:Qv.map($=>i.jsx("option",{value:$.id,children:$.label},$.id))})]}),S==="condensed"?i.jsx(Vv,{todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:o,onSelect:h,onDoubleClick:x,onContextMenu:p,onUpdate:v}):i.jsx("div",{className:"team-columns-container",children:q.map(($,ee)=>{const fe=re($.id),Fe=Z($.id),Me=Math.min(Fe/oe*100,100),St=Fe>oe;return i.jsxs("div",{className:`team-member-column ${D===ee?"drag-over":""}`,draggable:!0,onDragStart:w=>ge(w,ee),onDragOver:w=>Oe(w,ee),onDrop:w=>Ce(w,ee),onDragEnd:tn,children:[i.jsxs("div",{className:"team-member-header",children:[i.jsxs("div",{className:"team-member-info",children:[i.jsx("span",{className:"team-member-avatar",children:$.avatar}),i.jsxs("div",{className:"team-member-details",children:[i.jsx("div",{className:"team-member-name",children:$.name}),i.jsxs("div",{className:`team-capacity ${St?"over-capacity":""}`,children:[Fe.toFixed(1),"d / ",oe,"d"]})]})]}),i.jsx("div",{className:"capacity-bar",children:i.jsx("div",{className:`capacity-fill ${St?"over-capacity":""}`,style:{width:`${Math.min(Me,100)}%`}})})]}),i.jsx("div",{className:"team-tasks-container",onDragOver:w=>Ye(w,$.id,fe.length),onDrop:w=>je(w,$.id,fe.length),children:fe.length===0?i.jsx("div",{className:"team-empty-state",children:"No tasks assigned"}):fe.map((w,F)=>{const _=(w.estimate||xs)*Yv,H=gn(w),X=Y(w,V),ne=w.dueDate?Math.ceil((new Date(w.dueDate)-new Date)/(1e3*60*60*24)):null;return i.jsxs("div",{style:{position:"relative"},onDragOver:de=>Ye(de,$.id,F),onDrop:de=>je(de,$.id,F),children:[(I==null?void 0:I.memberId)===$.id&&(I==null?void 0:I.index)===F&&i.jsx("div",{className:"task-drop-indicator"}),i.jsxs("div",{className:`team-task-box ${_t(w)?"selected":""} ${w.completed?"completed":""} ${X?"blocked":""}`,style:{height:`${_}px`},draggable:!0,onDragStart:de=>pe(de,w),onDragEnd:tn,onClick:()=>h(w.id),onDoubleClick:()=>x&&x(w.id),onContextMenu:de=>{de.preventDefault(),p&&p(w.id,de.clientX,de.clientY)},children:[i.jsx("div",{className:"task-progress-fill",style:{height:`${H}%`}}),i.jsxs("div",{className:"task-content",children:[i.jsxs("div",{className:"task-header-row",children:[i.jsxs("span",{className:"task-id",children:["#",w.id]}),X&&i.jsx("span",{className:"task-blocked-icon",title:"Blocked by late dependency",children:""})]}),i.jsx("div",{className:"task-title-text",children:w.title}),i.jsxs("div",{className:"task-footer-row",children:[R===w.id?i.jsx("input",{type:"number",step:"0.5",min:"0",className:"task-estimate-input",value:m,onChange:Wt,onBlur:it,onKeyDown:Qe,autoFocus:!0,onClick:de=>de.stopPropagation()}):i.jsxs("span",{className:"task-estimate clickable",onClick:de=>us(w,de),title:"Click to edit estimate",children:[Bt(w).toFixed(1),"/",lt(w).toFixed(1),"d"]}),ne!==null&&i.jsx("span",{className:`task-days-remaining ${ne<0?"overdue":""}`,children:ne<0?`${Math.abs(ne)}d overdue`:`${ne}d left`})]})]})]})]},w.id)})})]},$.id)})})]})}const Se=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},yn=(e,t)=>(new Date(t).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0))/864e5,Vo=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},za=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},Fa={day:1,week:7,sprint:14,month:30,quarter:90,half:182,year:365,global:730},id=e=>{const t=new Date;switch(t.setHours(0,0,0,0),e){case"day":return t;case"week":return Vo(t);case"sprint":{const n=new Date("2024-01-01"),r=Math.floor((Vo(t)-n)/(1e3*60*60*24*7)),s=Math.floor(r/2);return Se(n,s*14)}case"month":return new Date(t.getFullYear(),t.getMonth(),1);case"quarter":{const n=Math.floor(t.getMonth()/3);return new Date(t.getFullYear(),n*3,1)}case"half":{const n=t.getMonth()<6?0:6;return new Date(t.getFullYear(),n,1)}case"year":return new Date(t.getFullYear(),0,1);case"global":return Se(t,-365);default:return t}},ye=40,Kv=250,Xv=1,Zv=1095,Jv=.002,Xn=1;function qv({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s="sprint",periodOffset:l=0,teamMembers:a=[],teams:o=[],timeBlocks:c=[],onSelect:d,onDoubleClick:h,onContextMenu:x,onUpdate:p}){const[v,T]=C.useState(()=>new Set(o.map(w=>w.id))),S=C.useRef(null),[j,f]=C.useState(800),[u,g]=C.useState(null),[k,D]=C.useState(null),[E,I]=C.useState(null),[b,R]=C.useState(()=>Fa[s]||14),[z,m]=C.useState(()=>id(s)),[W,Q]=C.useState(!1),[q,ae]=C.useState(null);C.useEffect(()=>{const w=()=>{S.current&&f(S.current.clientWidth)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const V=j/b,re=C.useMemo(()=>b<=3?"hour":b<=60?"day":b<=180?"week":"month",[b]),Y=C.useMemo(()=>{const w=Se(za(z),-Xn),F=Se(za(z),Math.ceil(b)+Xn);return F.setHours(23,59,59,999),{start:w,end:F}},[z,b]),Z=C.useMemo(()=>{const w=za(z),F=Se(w,Math.ceil(b));return F.setHours(23,59,59,999),{start:w,end:F}},[z,b]),te=C.useMemo(()=>{const w=[],F=Y.start,U=Y.end;if(re==="hour"){let _=new Date(F);for(;_<=U;){for(let H=0;H<24;H++){const X=new Date(_);X.setHours(H,0,0,0);const ne=yn(z,_);w.push({date:X,hour:H,dayOffset:ne,isWeekend:[0,6].includes(_.getDay()),isWorkHour:H>=9&&H<17,x:(ne+H/24)*V,width:V/24})}_=Se(_,1)}}else if(re==="day"){let _=new Date(F);for(;_<=U;){const H=yn(z,_);w.push({date:new Date(_),dayOffset:H,isWeekend:[0,6].includes(_.getDay()),x:H*V,width:V}),_=Se(_,1)}}else if(re==="week"){let _=Vo(F);for(;_<=U;){const H=yn(z,_);w.push({date:new Date(_),dayOffset:H,isWeekend:!1,x:H*V,width:7*V}),_=Se(_,7)}}else{let _=new Date(F.getFullYear(),F.getMonth(),1);for(;_<=U;){const H=yn(z,_),X=new Date(_.getFullYear(),_.getMonth()+1,0).getDate();w.push({date:new Date(_),dayOffset:H,isWeekend:!1,x:H*V,width:X*V}),_=new Date(_.getFullYear(),_.getMonth()+1,1)}}return w},[Y,re,z,V]),oe=C.useMemo(()=>{const w=[],F=U=>{U.forEach(_=>{if(!r&&_.completed)return;_.children&&_.children.length>0&&(r||_.children.some(X=>!X.completed))?F(_.children):w.push(_)})};return F(e),w},[e,r]),{regularTasks:pe,bufferTasks:Ye}=C.useMemo(()=>{const w=[],F=[];return oe.forEach(U=>{U.type==="buffer"?F.push(U):w.push(U)}),F.sort((U,_)=>{const H=U.startDate||U.dueDate||new Date("2099-01-01"),X=_.startDate||_.dueDate||new Date("2099-01-01");return new Date(H)-new Date(X)}),{regularTasks:w,bufferTasks:F}},[oe]),je=C.useMemo(()=>{const w={};return pe.forEach(F=>{const U=F.assignee||"unassigned";w[U]||(w[U]=[]),w[U].push(F)}),Object.values(w).forEach(F=>F.sort((U,_)=>{const H=U.startDate||U.dueDate||new Date("2099-01-01"),X=_.startDate||_.dueDate||new Date("2099-01-01");return new Date(H)-new Date(X)})),w},[pe]),ge=C.useMemo(()=>{const w=[],F=new Set;if(o.forEach(_=>{_.memberIds.forEach(H=>F.add(H))}),o.forEach(_=>{w.push({type:"team",team:_}),v.has(_.id)&&_.memberIds.forEach(H=>{const X=a.find(me=>me.id===H);if(!X||X.enabled===!1)return;const ne=je[H]||[],de=Ol(ne,Y);de.forEach((me,Ut)=>{w.push({type:"member",member:X,subRow:Ut,totalSubRows:de.length,tasks:me})}),de.length===0&&w.push({type:"member",member:X,subRow:0,totalSubRows:1,tasks:[]})})}),a.forEach(_=>{if(_.id==="unassigned"||F.has(_.id))return;const H=je[_.id];if(!H||H.length===0)return;w.push({type:"team",team:{id:`_solo_${_.id}`,name:_.name,memberIds:[_.id]}});const X=Ol(H,Y);X.forEach((ne,de)=>{w.push({type:"member",member:_,subRow:de,totalSubRows:X.length,tasks:ne})})}),Ye.length>0){const _={id:"_buffer",name:"Buffer Time",avatar:""};w.push({type:"team",team:{id:"_buffer",name:"Buffer Time",memberIds:["_buffer"]}});const H=Ol(Ye,Y);H.forEach((X,ne)=>{w.push({type:"buffer",member:_,subRow:ne,totalSubRows:H.length,tasks:X})})}const U=je.unassigned;if(U&&U.length>0){const _=a.find(X=>X.id==="unassigned")||{id:"unassigned",name:"Unassigned",avatar:""};w.push({type:"team",team:{id:"_unassigned",name:"Unassigned",memberIds:["unassigned"]}});const H=Ol(U,Y);H.forEach((X,ne)=>{w.push({type:"member",member:_,subRow:ne,totalSubRows:H.length,tasks:X})})}return w},[o,v,a,je,Ye,Y]),Oe=C.useCallback(w=>{const F=w.startDate?new Date(w.startDate):w.dueDate?Se(new Date(w.dueDate),-(w.estimate||1)):z,U=w.dueDate?new Date(w.dueDate):Se(F,w.estimate||1),_=yn(z,F),H=yn(F,U);return{x:_*V,width:Math.max(H,.5)*V,clippedLeft:F<Y.start,clippedRight:U>Y.end,startDate:F,endDate:U}},[z,V,Y]),Ce=C.useMemo(()=>{const w=new Date;w.setHours(12,0,0,0);const F=yn(z,w);return F<-Xn||F>b+Xn?null:F*V},[z,b,V]),tn=C.useMemo(()=>{const w=[],F=new Map;return ge.forEach((U,_)=>{U.type!=="member"&&U.type!=="buffer"||U.tasks.forEach(H=>{const X=Oe(H);F.set(H.id,{rowIdx:_,pos:X})})}),ge.forEach((U,_)=>{U.type!=="member"&&U.type!=="buffer"||U.tasks.forEach(H=>{if(!H.dependencies)return;const X=F.get(H.id);X&&H.dependencies.forEach(ne=>{const de=F.get(ne);if(!de)return;const me=oe.find(yr=>yr.id===ne),Ut=me&&!me.completed&&new Date>de.pos.startDate;w.push({source:de,target:X,violated:Ut})})})}),w},[ge,Oe,oe]),_t=w=>{T(F=>{const U=new Set(F);return U.has(w)?U.delete(w):U.add(w),U})},Bt=(w,F,U,_)=>{if(!p)return;w.preventDefault(),w.stopPropagation();const H=F.estimate||1;let X,ne;F.startDate?X=new Date(F.startDate):F.dueDate?X=Se(new Date(F.dueDate),-H):X=new Date(z),F.dueDate?ne=new Date(F.dueDate):ne=Se(X,H),g({taskId:F.id,mode:U,startX:w.clientX,startY:w.clientY,origStart:X,origDue:ne,origEstimate:H,origRowIdx:_,origAssignee:F.assignee||"unassigned"})},lt=C.useCallback(w=>{if(!u||!p)return;const F=w.clientX-u.startX,U=Math.round(F/V);if(u.mode==="move"&&S.current){const H=S.current.getBoundingClientRect(),X=w.clientY-H.top-ye,ne=Math.floor(X/ye);ne>=0&&ne<ge.length&&D(ne)}if(U===0)return;const _={};u.mode==="move"?(_.startDate=Se(u.origStart,U),_.dueDate=Se(u.origDue,U)):u.mode==="resize-right"?(_.dueDate=Se(u.origDue,U),_.estimate=Math.max(.5,u.origEstimate+U)):u.mode==="resize-left"&&(_.startDate=Se(u.origStart,U),_.estimate=Math.max(.5,u.origEstimate-U)),p(u.taskId,_)},[u,p,V,ge.length]),gn=C.useCallback(()=>{if(u&&u.mode==="move"&&k!==null&&p){const w=ge[k];if(w&&w.type==="member"){const F=w.member.id;F!==u.origAssignee&&p(u.taskId,{assignee:F})}}g(null),D(null)},[u,k,ge,p]);Id.useEffect(()=>{if(u)return document.addEventListener("mousemove",lt),document.addEventListener("mouseup",gn),document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",lt),document.removeEventListener("mouseup",gn),document.body.style.userSelect=""}},[u,lt,gn]);const us=C.useCallback(w=>{w.target.closest(".tl-bar")||(w.preventDefault(),Q(!0),ae({x:w.clientX,scrollDate:new Date(z)}))},[z]),Wt=C.useCallback(w=>{if(!W||!q)return;const U=-((w.clientX-q.x)/V),_=Se(q.scrollDate,Math.round(U));m(_)},[W,q,V]),it=C.useCallback(()=>{Q(!1),ae(null)},[]);C.useEffect(()=>{if(W)return document.addEventListener("mousemove",Wt),document.addEventListener("mouseup",it),document.body.style.cursor="grabbing",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",Wt),document.removeEventListener("mouseup",it),document.body.style.cursor="",document.body.style.userSelect=""}},[W,Wt,it]);const Qe=C.useCallback((w,F,U)=>{if(w.preventDefault(),w.stopPropagation(),!S.current)return;const _=S.current.getBoundingClientRect(),H=Oe(F);I({sourceId:F.id,sourceRowIdx:U,sourceX:H.x+H.width,sourceY:U*ye+ye/2,mouseX:w.clientX-_.left,mouseY:w.clientY-_.top-ye})},[Oe]),$=C.useCallback(w=>{if(!E||!S.current)return;const F=S.current.getBoundingClientRect();I(U=>({...U,mouseX:w.clientX-F.left,mouseY:w.clientY-F.top-ye}))},[E]),ee=C.useCallback(w=>{if(!E||!S.current||!p){I(null);return}const F=S.current.getBoundingClientRect(),U=w.clientX-F.left,_=w.clientY-F.top-ye;let H=null;for(const X of ge)if(!(X.type!=="member"&&X.type!=="buffer")){for(const ne of X.tasks){if(ne.id===E.sourceId)continue;const de=Oe(ne),Ut=ge.indexOf(X)*ye,yr=Ut+ye;if(U>=de.x&&U<=de.x+de.width&&_>=Ut&&_<=yr){H=ne;break}}if(H)break}if(H){const X=H.dependencies||[];X.includes(E.sourceId)||p(H.id,{dependencies:[...X,E.sourceId]})}I(null)},[E,ge,Oe,p]);C.useEffect(()=>{if(E)return document.addEventListener("mousemove",$),document.addEventListener("mouseup",ee),document.body.style.cursor="crosshair",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",ee),document.body.style.cursor="",document.body.style.userSelect=""}},[E,$,ee]);const fe=C.useCallback(w=>{w.preventDefault();const F=w.deltaY*Jv*b,U=Math.max(Xv,Math.min(Zv,b+F));if(S.current){const _=S.current.getBoundingClientRect(),H=(w.clientX-_.left)/_.width,X=Se(z,b*H),ne=Se(X,-(U*H));m(ne)}R(U)},[b,z]),Fe=C.useCallback(w=>{R(Fa[w]||14),m(id(w))},[]),Me=C.useMemo(()=>{const w=U=>U.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),F=U=>U.toLocaleDateString("en-US",{month:"short",day:"numeric"});return b<=1?Z.start.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):b<=7?`${F(Z.start)}  ${F(Z.end)}`:b<=60?`${F(Z.start)}  ${F(Z.end)}`:b<=365?`${w(Z.start)}  ${w(Z.end)}`:`${Z.start.getFullYear()}  ${Z.end.getFullYear()}`},[b,Z]),St=C.useMemo(()=>b<=1?"Day":b<=7?"Week":b<=14?"Sprint":b<=30?"Month":b<=90?"Quarter":b<=182?"Half":b<=365?"Year":"Global",[b]);return i.jsxs("div",{className:"tl-view",children:[i.jsxs("div",{className:"tl-header-bar",children:[i.jsx("div",{className:"tl-zoom-presets",children:Object.keys(Fa).map(w=>i.jsx("button",{className:`tl-zoom-btn ${St.toLowerCase()===w?"active":""}`,onClick:()=>Fe(w),children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),i.jsx("span",{className:"tl-period-label",children:Me}),i.jsxs("span",{className:"tl-zoom-indicator",children:["Zoom: ",Math.round(b),"d"]})]}),i.jsxs("div",{className:"tl-body",children:[i.jsxs("div",{className:"tl-sidebar",style:{width:Kv},children:[i.jsx("div",{className:"tl-sidebar-header",style:{height:ye},children:i.jsx("span",{children:"Teams"})}),ge.map((w,F)=>{if(w.type==="team"){const U=v.has(w.team.id);return i.jsxs("div",{className:"tl-sidebar-team",style:{height:ye},onClick:()=>_t(w.team.id),children:[U?i.jsx(hl,{size:14}):i.jsx(Xi,{size:14}),i.jsx("span",{children:w.team.name})]},`team-${w.team.id}`)}return i.jsx("div",{className:"tl-sidebar-member",style:{height:ye},children:w.subRow===0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-member-avatar",children:w.member.avatar}),i.jsx("span",{className:"tl-member-name",children:w.member.name})]})},`member-${w.member.id}-${w.subRow}`)})]}),i.jsxs("div",{className:`tl-viewport ${W?"panning":""}`,ref:S,onWheel:fe,onMouseDown:us,children:[i.jsx("div",{className:"tl-col-headers",style:{height:ye},children:te.map((w,F)=>{let U;if(re==="hour"){const _=w.hour,H=_===0;U=i.jsxs(i.Fragment,{children:[H&&i.jsx("span",{className:"tl-col-day-label",children:w.date.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})}),i.jsx("span",{className:`tl-col-hour ${w.isWorkHour?"work-hour":""}`,children:_===0?"12a":_<12?`${_}a`:_===12?"12p":`${_-12}p`})]})}else re==="day"?U=i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-col-day",children:w.date.toLocaleDateString("en-US",{weekday:"narrow"})}),i.jsx("span",{className:"tl-col-num",children:w.date.getDate()})]}):re==="week"?U=i.jsx("span",{className:"tl-col-label",children:w.date.toLocaleDateString("en-US",{month:"short",day:"numeric"})}):U=i.jsx("span",{className:"tl-col-label",children:w.date.toLocaleDateString("en-US",{month:"short",year:"2-digit"})});return i.jsx("div",{className:`tl-col-header ${w.isWeekend?"weekend":""} ${re==="hour"&&!w.isWorkHour?"off-hours":""}`,style:{width:w.width,left:w.x},children:U},`${w.date.toISOString()}-${w.hour||0}`)})}),i.jsxs("div",{className:"tl-rows",style:{position:"relative"},children:[te.map(w=>i.jsx("div",{className:`tl-grid-col ${w.isWeekend?"weekend":""} ${re==="hour"&&!w.isWorkHour?"off-hours":""}`,style:{left:w.x,width:w.width,height:ge.length*ye}},`bg-${w.date.toISOString()}-${w.hour||0}`)),re==="hour"&&c.map(w=>{const F=new Date(w.start),U=new Date(w.end),_=yn(z,F)+F.getHours()/24,H=(U-F)/(1e3*60*60*24),X=_*V,ne=H*V;return X>j+Xn*V||X+ne<-Xn*V?null:i.jsx("div",{className:`tl-time-block tl-time-block-${w.type||"blocked"}`,style:{left:X,width:ne,height:ge.length*ye},title:w.title,children:i.jsx("span",{className:"tl-time-block-label",children:w.title})},w.id)}),Ce!==null&&i.jsx("div",{className:"tl-today-line",style:{left:Ce,height:ge.length*ye},children:i.jsx("span",{className:"tl-today-label",children:"Today"})}),i.jsxs("svg",{className:"tl-dep-svg",style:{width:j,height:ge.length*ye},children:[tn.map((w,F)=>{const U=w.source.pos.x+w.source.pos.width,_=w.source.rowIdx*ye+ye/2,H=w.target.pos.x,X=w.target.rowIdx*ye+ye/2,ne=(U+H)/2;return i.jsxs("g",{children:[i.jsx("path",{d:`M ${U} ${_} C ${ne} ${_}, ${ne} ${X}, ${H} ${X}`,fill:"none",stroke:w.violated?"#f85149":"#6e7681",strokeWidth:"1.5",strokeDasharray:w.violated?"":"4,3",opacity:w.violated?.8:.4}),i.jsx("polygon",{points:`${H},${X} ${H-6},${X-3} ${H-6},${X+3}`,fill:w.violated?"#f85149":"#6e7681",opacity:w.violated?.8:.4})]},F)}),E&&i.jsxs("g",{className:"tl-dep-drag-arrow",children:[i.jsx("path",{d:`M ${E.sourceX} ${E.sourceY} L ${E.mouseX} ${E.mouseY}`,fill:"none",stroke:"#4493f8",strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("polygon",{points:`${E.mouseX},${E.mouseY} ${E.mouseX-8},${E.mouseY-4} ${E.mouseX-8},${E.mouseY+4}`,fill:"#4493f8"}),i.jsx("circle",{cx:E.sourceX,cy:E.sourceY,r:"4",fill:"#4493f8"})]})]}),ge.map((w,F)=>{if(w.type==="team")return i.jsx("div",{className:"tl-row tl-team-row",style:{height:ye,top:F*ye}},`team-row-${w.team.id}`);const U=(u==null?void 0:u.mode)==="move"&&k===F&&k!==u.origRowIdx;return i.jsx("div",{className:`tl-row ${U?"drag-target":""}`,style:{height:ye,top:F*ye},children:w.tasks.map(_=>{const H=Oe(_),X=_.id===t||(n==null?void 0:n.has(_.id)),ne=(u==null?void 0:u.taskId)===_.id,de=Xn*V;return H.x+H.width<-de||H.x>j+de?null:i.jsxs("div",{className:`tl-bar ${_.type==="buffer"?"buffer":""} ${_.completed?"completed":""} ${X?"selected":""} ${ne?"dragging":""} ${H.clippedLeft?"clipped-left":""} ${H.clippedRight?"clipped-right":""}`,style:{left:H.x,width:H.width},onClick:me=>{me.stopPropagation(),d(_.id)},onDoubleClick:me=>{me.stopPropagation(),h&&h(_.id)},onContextMenu:me=>{me.preventDefault(),!E&&x&&x(_.id,me.clientX,me.clientY)},onMouseDown:me=>{me.button===2?Qe(me,_,F):me.button===0&&Bt(me,_,"move",F)},children:[i.jsx("div",{className:"tl-bar-handle tl-bar-handle-left",onMouseDown:me=>Bt(me,_,"resize-left",F)}),i.jsx("span",{className:"tl-bar-label",children:_.title}),_.estimate&&i.jsxs("span",{className:"tl-bar-est",children:[_.estimate,"d"]}),i.jsx("div",{className:"tl-bar-handle tl-bar-handle-right",onMouseDown:me=>Bt(me,_,"resize-right",F)})]},_.id)})},`member-row-${w.member.id}-${w.subRow}`)})]})]})]})]})}function Ol(e,t){if(e.length===0)return[];const n=[[]];return e.forEach(r=>{const s=r.startDate?new Date(r.startDate):r.dueDate?Se(new Date(r.dueDate),-(r.estimate||1)):t.start,l=r.dueDate?new Date(r.dueDate):Se(s,r.estimate||1);let a=!1;for(const o of n)if(!o.some(d=>{const h=d.startDate?new Date(d.startDate):d.dueDate?Se(new Date(d.dueDate),-(d.estimate||1)):t.start,x=d.dueDate?new Date(d.dueDate):Se(h,d.estimate||1);return s<x&&l>h})){o.push(r),a=!0;break}a||n.push([r])}),n}const ad=[{id:"untriaged",label:"New / Untriaged",color:"#F59E0B"},{id:"backlog",label:"Backlog",color:"#6B7280"},{id:"triaged",label:"Triaged",color:"#4F81F5"},{id:"in_progress",label:"In Progress",color:"#BC52E6"},{id:"fixed",label:"Fixed",color:"#3FB950"},{id:"closed",label:"Closed",color:"#374151"}],ey=["P0","P1","P2","P3","P4"],ty=["Critical","High","Medium","Low"],$a=[{id:"frontend",name:"Frontend",team:"alice"},{id:"backend",name:"Backend",team:"bob"},{id:"api",name:"API",team:"bob"},{id:"database",name:"Database",team:"carol"},{id:"auth",name:"Authentication",team:"dave"},{id:"infra",name:"Infrastructure",team:"dave"},{id:"other",name:"Other",team:"unassigned"}],ny=e=>{switch(e){case"P0":return"#DC2626";case"P1":return"#F59E0B";case"P2":return"#4F81F5";case"P3":return"#6B7280";case"P4":return"#9CA3AF";default:return"#6B7280"}},od=e=>{switch(e){case"Critical":return"#DC2626";case"High":return"#F59E0B";case"Medium":return"#4F81F5";case"Low":return"#6B7280";default:return"#6B7280"}};function ry({todos:e,selectedId:t,selectedIds:n,showCompleted:r,onSelect:s,onDoubleClick:l,onContextMenu:a,onUpdate:o}){const[c,d]=C.useState(null),[h,x]=C.useState(null),[p,v]=C.useState(null),S=(I=>{const b=[],R=z=>{z.forEach(m=>{if(m.type==="bug"||m.type==="issue"){if(!r&&m.completed||c&&m.priority!==c||h&&m.severity!==h||p&&m.featureArea!==p)return;b.push(m)}m.children&&m.children.length>0&&R(m.children)})};return R(I),b})(e),f=(I=>{const b={};return ad.forEach(R=>{b[R.id]=[]}),I.forEach(R=>{const z=R.triageStatus||"untriaged";b[z]&&b[z].push(R)}),b})(S),u=(I,b)=>{I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("bugId",b)},g=I=>{I.preventDefault()},k=(I,b)=>{I.preventDefault();const R=I.dataTransfer.getData("bugId");R&&o&&o(R,{triageStatus:b})},D=I=>I.id===t||n.has(I.id),E=I=>{if(!I.featureArea)return;const b=$a.find(R=>R.id===I.featureArea);b&&b.team&&o&&o(I.id,{assignee:b.team})};return i.jsxs("div",{className:"bug-view",children:[i.jsxs("div",{className:"bug-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Priority:"}),i.jsxs("select",{value:c||"",onChange:I=>d(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Priorities"}),ey.map(I=>i.jsx("option",{value:I,children:I},I))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severity:"}),i.jsxs("select",{value:h||"",onChange:I=>x(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Severities"}),ty.map(I=>i.jsx("option",{value:I,children:I},I))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Feature Area:"}),i.jsxs("select",{value:p||"",onChange:I=>v(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Features"}),$a.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("div",{className:"bug-stats",children:["Total Bugs: ",S.length]})]}),i.jsx("div",{className:"bug-columns",children:ad.map(I=>{const b=f[I.id]||[];return i.jsxs("div",{className:"bug-column",onDragOver:g,onDrop:R=>k(R,I.id),children:[i.jsxs("div",{className:"bug-column-header",style:{borderTopColor:I.color},children:[i.jsx("h3",{children:I.label}),i.jsx("span",{className:"bug-count",children:b.length})]}),i.jsx("div",{className:"bug-column-content",children:b.length===0?i.jsx("div",{className:"bug-empty",children:"No bugs"}):b.map(R=>{var z;return i.jsxs("div",{className:`bug-card ${D(R)?"selected":""} ${R.completed?"completed":""}`,draggable:!0,onDragStart:m=>u(m,R.id),onClick:()=>s(R.id),onDoubleClick:()=>l&&l(R.id),onContextMenu:m=>{m.preventDefault(),a&&a(R.id,m.clientX,m.clientY)},children:[i.jsxs("div",{className:"bug-card-header",children:[i.jsxs("span",{className:"bug-number",children:["#",R.id]}),R.priority&&i.jsx("span",{className:"bug-priority",style:{backgroundColor:ny(R.priority)},children:R.priority}),R.severity&&i.jsx("span",{className:"bug-severity",style:{borderColor:od(R.severity),color:od(R.severity)},children:R.severity})]}),i.jsx("div",{className:"bug-title",children:R.title}),R.featureArea&&i.jsx("div",{className:"bug-feature",children:((z=$a.find(m=>m.id===R.featureArea))==null?void 0:z.name)||R.featureArea}),i.jsxs("div",{className:"bug-card-footer",children:[R.assignee&&R.assignee!=="unassigned"?i.jsx("span",{className:"bug-assignee",children:R.assignee}):i.jsx("button",{className:"bug-auto-route",onClick:m=>{m.stopPropagation(),E(R)},disabled:!R.featureArea,title:R.featureArea?"Auto-assign based on feature area":"Set feature area first",children:"Auto-route"}),R.dueDate&&i.jsx("span",{className:"bug-due",children:new Date(R.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},R.id)})})]},I.id)})})]})}const _e={blue:"#4493f8",green:"#3fb950",orange:"#fb8500",red:"#f85149",purple:"#a371f7",teal:"#3ddbd9",gray:"#6e7681"},sy={task:_e.blue,bug:_e.red,feature:_e.green,issue:_e.orange,assignment:_e.purple,chore:_e.teal},ly={P0:_e.red,P1:_e.orange,P2:"#e3b341",P3:_e.blue,P4:_e.gray},cd=[_e.blue,_e.green,_e.orange,_e.purple,_e.teal];function iy(e){const t=[],n=r=>{r.forEach(s=>{t.push(s),s.children&&s.children.length>0&&n(s.children)})};return n(e),t}function Ba(e,t,n="down"){const r=[];let s=e;for(let l=t-1;l>=0;l--){r.push(s);const a=Math.floor(Math.random()*3)+1;n==="down"?s=s+a:s=Math.max(0,s-a)}return r.reverse()}function xn({label:e,value:t,subtext:n}){return i.jsxs("div",{className:"analytics-stat-card",children:[i.jsx("div",{className:"analytics-stat-value",children:t}),i.jsx("div",{className:"analytics-stat-label",children:e}),n&&i.jsx("div",{className:"analytics-stat-subtext",children:n})]})}function ud({data:e,data2:t,label1:n,label2:r,color1:s,color2:l,height:a=200,dayLabels:o}){const c={top:20,right:20,bottom:30,left:40},d=500,h=d-c.left-c.right,x=a-c.top-c.bottom,p=[...e,...t||[]],v=Math.max(...p,1),T=0,S=k=>c.left+k/(e.length-1)*h,j=k=>c.top+x-(k-T)/(v-T)*x,f=k=>k.map((D,E)=>`${S(E)},${j(D)}`).join(" "),u=4,g=Array.from({length:u+1},(k,D)=>{const E=T+(v-T)/u*D;return{y:j(E),label:Math.round(E)}});return i.jsxs("svg",{viewBox:`0 0 ${d} ${a}`,className:"analytics-line-chart",children:[g.map((k,D)=>i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:k.y,x2:d-c.right,y2:k.y,stroke:"#2d333b",strokeWidth:"1"}),i.jsx("text",{x:c.left-6,y:k.y+4,textAnchor:"end",fill:"#6e7681",fontSize:"10",children:k.label})]},D)),o&&e.map((k,D)=>D%2!==0&&D!==e.length-1?null:i.jsx("text",{x:S(D),y:a-4,textAnchor:"middle",fill:"#6e7681",fontSize:"9",children:o[D]},D)),i.jsx("polyline",{points:f(e),fill:"none",stroke:s,strokeWidth:"2",strokeLinejoin:"round"}),t&&i.jsx("polyline",{points:f(t),fill:"none",stroke:l,strokeWidth:"2",strokeLinejoin:"round",strokeDasharray:"4,3"}),i.jsx("circle",{cx:S(e.length-1),cy:j(e[e.length-1]),r:"4",fill:s}),t&&i.jsx("circle",{cx:S(t.length-1),cy:j(t[t.length-1]),r:"4",fill:l}),n&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:8,x2:c.left+16,y2:8,stroke:s,strokeWidth:"2"}),i.jsx("text",{x:c.left+20,y:12,fill:"#e6edf3",fontSize:"10",children:n})]}),r&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left+100,y1:8,x2:c.left+116,y2:8,stroke:l,strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("text",{x:c.left+120,y:12,fill:"#e6edf3",fontSize:"10",children:r})]})]})}function Wa({items:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.value),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsx("div",{className:"analytics-hbar-label",children:r.label}),i.jsx("div",{className:"analytics-hbar-track",children:i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.value/n*100}%`,background:r.color}})}),i.jsx("div",{className:"analytics-hbar-value",children:r.value})]},s))})}function ay({members:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.completed+r.remaining),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsxs("div",{className:"analytics-hbar-label",children:[r.avatar," ",r.name]}),i.jsxs("div",{className:"analytics-hbar-track stacked",children:[i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.completed/n*100}%`,background:_e.green},title:`${r.completed} completed`}),i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.remaining/n*100}%`,background:_e.blue,opacity:.5},title:`${r.remaining} remaining`})]}),i.jsx("div",{className:"analytics-hbar-value",children:r.completed+r.remaining})]},s))})}function oy({todos:e,teamMembers:t,showCompleted:n}){const[r,s]=C.useState("personal"),l=C.useMemo(()=>iy(e),[e]),a=C.useMemo(()=>{const p=l.length,v=l.filter(D=>D.completed).length,T=l.filter(D=>!D.completed&&D.dueDate&&new Date(D.dueDate)<new Date).length,S=p>0?Math.round(v/p*100):0,j={};l.forEach(D=>{const E=D.type||"task";j[E]=(j[E]||0)+1});const f={};l.forEach(D=>{D.priority&&(f[D.priority]=(f[D.priority]||0)+1)});const u={};l.forEach(D=>{const E=D.assignee||"unassigned";u[E]||(u[E]={total:0,completed:0}),u[E].total++,D.completed&&u[E].completed++});const g=l.filter(D=>D.type==="bug"||D.type==="issue"),k=g.filter(D=>D.completed||D.triageStatus==="fixed"||D.triageStatus==="closed").length;return{total:p,completed:v,overdue:T,completionPct:S,byType:j,byPriority:f,byAssignee:u,bugs:g.length,bugsResolved:k}},[l]),o=C.useMemo(()=>{const p=[];for(let v=13;v>=0;v--){const T=new Date;T.setDate(T.getDate()-v),p.push(`${T.getMonth()+1}/${T.getDate()}`)}return p},[]),c=C.useMemo(()=>Ba(a.total-a.completed,14,"down"),[a]),d=C.useMemo(()=>Ba(a.bugs,14,"down"),[a]),h=C.useMemo(()=>Ba(a.bugsResolved,14,"down"),[a]),x=(t==null?void 0:t.filter(p=>p.enabled!==!1&&p.id!=="unassigned"))||[];return i.jsxs("div",{className:"analytics-view",children:[i.jsxs("div",{className:"analytics-tab-bar",children:[i.jsx("button",{className:`analytics-tab ${r==="personal"?"active":""}`,onClick:()=>s("personal"),children:"Personal"}),i.jsx("button",{className:`analytics-tab ${r==="team"?"active":""}`,onClick:()=>s("team"),children:"Team"})]}),r==="personal"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(xn,{label:"Total Tasks",value:a.total}),i.jsx(xn,{label:"Completed",value:a.completed}),i.jsx(xn,{label:"Completion",value:`${a.completionPct}%`}),i.jsx(xn,{label:"Overdue",value:a.overdue,subtext:a.overdue>0?"needs attention":"on track"})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Burndown (14 days)"}),i.jsx(ud,{data:c,label1:"Remaining",color1:_e.blue,dayLabels:o})]}),i.jsxs("div",{className:"analytics-grid",children:[i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Type"}),i.jsx(Wa,{items:Object.entries(a.byType).map(([p,v])=>({label:p.charAt(0).toUpperCase()+p.slice(1),value:v,color:sy[p]||_e.gray}))})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Priority"}),i.jsx(Wa,{items:["P0","P1","P2","P3","P4"].filter(p=>a.byPriority[p]).map(p=>({label:p,value:a.byPriority[p],color:ly[p]}))})]})]})]}),r==="team"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(xn,{label:"Total Tasks",value:a.total}),i.jsx(xn,{label:"Completed",value:a.completed}),i.jsx(xn,{label:"Team Members",value:x.length}),i.jsx(xn,{label:"Avg Tasks/Person",value:x.length>0?Math.round(a.total/x.length):0})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Workload by Member"}),i.jsx(ay,{members:x.map(p=>{const v=a.byAssignee[p.id]||{total:0,completed:0};return{name:p.name,avatar:p.avatar,completed:v.completed,remaining:v.total-v.completed}})})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Bugs: Created vs Resolved (14 days)"}),i.jsx(ud,{data:d,data2:h,label1:"Created",label2:"Resolved",color1:_e.red,color2:_e.green,dayLabels:o})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Completion by Member"}),i.jsx(Wa,{maxValue:100,items:x.map((p,v)=>{const T=a.byAssignee[p.id]||{total:0,completed:0},S=T.total>0?Math.round(T.completed/T.total*100):0;return{label:`${p.avatar} ${p.name}`,value:S,color:cd[v%cd.length]}})})]})]})]})}const dd={emails:{id:"ghost-emails",title:" Emails to Respond",type:"ghost",source:"email",icon:"",items:[{id:"email-1",title:"RE: Q1 Planning Review",from:"sarah@company.com",preview:"Can you review the draft budget by EOD?",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),url:"mailto:sarah@company.com",priority:"high"},{id:"email-2",title:"Design feedback needed",from:"design@company.com",preview:"New mockups for the dashboard redesign",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),url:"mailto:design@company.com",priority:"medium"},{id:"email-3",title:"Team offsite planning",from:"hr@company.com",preview:"Please fill out the preferences form",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"mailto:hr@company.com",priority:"low"}]},chats:{id:"ghost-chats",title:" Chat Messages",type:"ghost",source:"chat",icon:"",items:[{id:"chat-1",title:"#engineering - Deploy blocker",from:"Bob Smith",preview:"The staging deploy is failing, need help",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),url:"slack://channel?id=C123456",priority:"high",unread:!0},{id:"chat-2",title:"DM from Alice Chen",from:"Alice Chen",preview:"Can you review my PR when you get a chance?",timestamp:new Date(Date.now()-60*60*1e3).toISOString(),url:"slack://user?id=U789012",priority:"medium"}]},meetings:{id:"ghost-meetings",title:" Today's Meetings",type:"ghost",source:"calendar",icon:"",items:[{id:"meeting-1",title:"Daily Standup",startTime:"09:30",endTime:"09:45",attendees:["Team"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/123456789",priority:"medium"},{id:"meeting-2",title:"Sprint Planning",startTime:"14:00",endTime:"15:30",attendees:["Alice","Bob","Carol"],location:"Conference Room A",timestamp:new Date().toISOString(),url:"https://calendar.google.com/event/123",priority:"high"},{id:"meeting-3",title:"1:1 with Manager",startTime:"16:00",endTime:"16:30",attendees:["Manager"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/987654321",priority:"medium"}]},docsToReview:{id:"ghost-docs",title:" Docs to Review",type:"ghost",source:"docs",icon:"",items:[{id:"doc-1",title:"API Design Spec v2",from:"Carol White",preview:"Updated REST API design for user service",timestamp:new Date(Date.now()-3*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/abc123",priority:"high",actionRequired:"Review & approve"},{id:"doc-2",title:"Q1 Retrospective Notes",from:"Team",preview:"Please add your feedback by Friday",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/def456",priority:"medium",actionRequired:"Add feedback"}]},alerts:{id:"ghost-alerts",title:" Alerts & Monitoring",type:"ghost",source:"monitoring",icon:"",items:[{id:"alert-1",title:"High memory usage on prod-server-3",severity:"warning",preview:"Memory at 87%, investigate before it hits threshold",timestamp:new Date(Date.now()-15*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12345",priority:"high"},{id:"alert-2",title:"SSL certificate expiring in 14 days",severity:"info",preview:"api.company.com certificate needs renewal",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12346",priority:"medium"}]}};class cy{getGhostEntries(){return Promise.resolve({})}getGhostEntriesForDate(t){return Promise.resolve({})}dismissGhostItem(t,n){return console.log("Dismissed:",t,n),Promise.resolve()}promoteToTask(t,n){const r=dd[t];if(!r)return Promise.reject("Source not found");const s=r.items.find(l=>l.id===n);return s?Promise.resolve({title:s.title,description:s.preview||"",source:r.source,sourceUrl:s.url,priority:s.priority==="high"?"P0":s.priority==="medium"?"P1":"P2",createdFrom:"ghost"}):Promise.reject("Item not found")}getUnreadCount(){let t=0;return Object.values(dd).forEach(n=>{t+=n.items.length}),Promise.resolve(t)}}const ws=new cy,fd="timeBlocks",hd=[{id:"tb1",title:"Focus Time",startTime:"09:00",endTime:"11:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0},{id:"tb2",title:"Email & Messages",startTime:"14:00",endTime:"15:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#fb8500",enabled:!0},{id:"tb3",title:"Team Sync",startTime:"10:00",endTime:"10:30",recurrence:"weekly",weekdays:[1,3],color:"#3fb950",enabled:!0}];class uy{constructor(){this.listeners=[],this.timeBlocks=this.loadTimeBlocks()}loadTimeBlocks(){try{const t=localStorage.getItem(fd);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load time blocks:",t)}return this.saveTimeBlocks(hd),hd}saveTimeBlocks(t){try{localStorage.setItem(fd,JSON.stringify(t)),this.timeBlocks=t,this.notifyListeners()}catch(n){console.error("Failed to save time blocks:",n)}}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.timeBlocks))}getTimeBlocks(){return Promise.resolve([...this.timeBlocks])}addTimeBlock(t){const n={id:`tb${Date.now()}`,...t,enabled:t.enabled!==!1};return this.saveTimeBlocks([...this.timeBlocks,n]),Promise.resolve(n)}updateTimeBlock(t,n){const r=this.timeBlocks.map(s=>s.id===t?{...s,...n}:s);return this.saveTimeBlocks(r),Promise.resolve(r.find(s=>s.id===t))}deleteTimeBlock(t){const n=this.timeBlocks.filter(r=>r.id!==t);return this.saveTimeBlocks(n),Promise.resolve()}getBlocksForDate(t){const n=t.getDay();return this.timeBlocks.filter(r=>{var s,l;if(!r.enabled)return!1;switch(r.recurrence){case"daily":return!0;case"weekdays":return n>=1&&n<=5;case"weekly":return(s=r.weekdays)==null?void 0:s.includes(n);case"custom":return(l=r.weekdays)==null?void 0:l.includes(n);default:return!1}})}isBlockActive(t,n=new Date){if(!this.getBlocksForDate(n).find(h=>h.id===t.id))return!1;const[s,l]=t.startTime.split(":").map(Number),[a,o]=t.endTime.split(":").map(Number),c=new Date(n);c.setHours(s,l,0,0);const d=new Date(n);return d.setHours(a,o,0,0),n>=c&&n<=d}}const Xt=new uy;function dy({currentDate:e,onPromoteToTask:t,style:n}){const[r,s]=C.useState({}),[l,a]=C.useState([]),[o,c]=C.useState(new Set(["ghost-emails","ghost-meetings"]));C.useEffect(()=>(ws.getGhostEntriesForDate(e).then(f=>{s(f)}),Xt.getTimeBlocks().then(f=>{a(f)}),Xt.subscribe(f=>{a(f)})),[e]);const d=j=>{const f=new Set(o);f.has(j)?f.delete(j):f.add(j),c(f)},h=async(j,f)=>{try{const u=await ws.promoteToTask(j,f.id);t&&t(u),await ws.dismissGhostItem(j,f.id)}catch(u){console.error("Failed to promote item:",u)}},x=async(j,f)=>{await ws.dismissGhostItem(j,f);const u=await ws.getGhostEntriesForDate(e);s(u)},p=()=>Xt.getBlocksForDate(e),v=j=>{const[f,u]=j.split(":").map(Number),g=f>=12?"PM":"AM";return`${f>12?f-12:f===0?12:f}:${u.toString().padStart(2,"0")} ${g}`},T=j=>{const f=new Date,u=new Date(j),g=f-u,k=Math.floor(g/(1e3*60)),D=Math.floor(g/(1e3*60*60)),E=Math.floor(g/(1e3*60*60*24));return k<1?"just now":k<60?`${k}m ago`:D<24?`${D}h ago`:E===1?"yesterday":`${E}d ago`},S=p();return i.jsxs("div",{className:"ghost-entries",style:n,children:[S.length>0&&i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header",children:[i.jsx("span",{className:"ghost-section-icon",children:""}),i.jsx("h3",{className:"ghost-section-title",children:"Time Blocks Today"}),i.jsx("span",{className:"ghost-count",children:S.length})]}),i.jsx("div",{className:"time-blocks-list",children:S.map(j=>{const f=Xt.isBlockActive(j,e);return i.jsxs("div",{className:`time-block-item ${f?"active":""}`,style:{borderLeftColor:j.color},children:[i.jsxs("div",{className:"time-block-time",children:[v(j.startTime)," - ",v(j.endTime)]}),i.jsx("div",{className:"time-block-title",children:j.title}),f&&i.jsx("span",{className:"time-block-badge",children:"Now"})]},j.id)})})]}),Object.entries(r).map(([j,f])=>{var k;const u=o.has(f.id),g=((k=f.items)==null?void 0:k.length)||0;return g===0?null:i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header clickable",onClick:()=>d(f.id),children:[i.jsx("span",{className:"ghost-section-icon",children:f.icon}),i.jsx("h3",{className:"ghost-section-title",children:f.title}),i.jsx("span",{className:"ghost-count",children:g}),i.jsx("span",{className:"expand-icon",children:u?"":""})]}),u&&i.jsx("div",{className:"ghost-items-list",children:f.items.map(D=>i.jsxs("div",{className:`ghost-item priority-${D.priority||"medium"}`,children:[i.jsxs("div",{className:"ghost-item-header",children:[i.jsxs("div",{className:"ghost-item-title",children:[D.title,D.unread&&i.jsx("span",{className:"unread-badge",children:""})]}),i.jsx("div",{className:"ghost-item-time",children:D.startTime?v(D.startTime):T(D.timestamp)})]}),D.from&&i.jsxs("div",{className:"ghost-item-from",children:["From: ",D.from]}),D.preview&&i.jsx("div",{className:"ghost-item-preview",children:D.preview}),D.attendees&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",D.attendees.join(", ")]}),D.location&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",D.location]}),D.actionRequired&&i.jsxs("div",{className:"ghost-item-action",children:[" ",D.actionRequired]}),i.jsxs("div",{className:"ghost-item-actions",children:[D.url&&i.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"ghost-action-btn ghost-action-open",onClick:E=>E.stopPropagation(),children:"Open"}),i.jsx("button",{className:"ghost-action-btn ghost-action-promote",onClick:()=>h(j,D),title:"Convert to task",children:" Create Task"}),i.jsx("button",{className:"ghost-action-btn ghost-action-dismiss",onClick:()=>x(j,D.id),title:"Dismiss",children:""})]})]},D.id))})]},f.id)})]})}const pd=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],md=[{value:"daily",label:"Every day"},{value:"weekdays",label:"Weekdays (Mon-Fri)"},{value:"weekly",label:"Weekly on selected days"},{value:"custom",label:"Custom days"}];function fy({isOpen:e,onClose:t}){const[n,r]=C.useState([]),[s,l]=C.useState(null),[a,o]=C.useState(!1);C.useEffect(()=>(e&&c(),Xt.subscribe(f=>{r(f)})),[e]);const c=async()=>{const j=await Xt.getTimeBlocks();r(j)},d=()=>{l({id:null,title:"",startTime:"09:00",endTime:"10:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0}),o(!0)},h=async()=>{s&&(s.id?await Xt.updateTimeBlock(s.id,s):await Xt.addTimeBlock(s),l(null),o(!1),await c())},x=async j=>{confirm("Delete this time block?")&&(await Xt.deleteTimeBlock(j),await c())},p=async j=>{await Xt.updateTimeBlock(j.id,{enabled:!j.enabled})},v=()=>{l(null),o(!1)},T=j=>{l({...j}),o(!1)},S=j=>{if(!s)return;const f=s.weekdays||[],u=f.includes(j)?f.filter(g=>g!==j):[...f,j].sort();l({...s,weekdays:u})};return e?i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"time-block-manager",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:" Time Block Manager"}),i.jsx("button",{className:"close-btn",onClick:t,children:i.jsx(Kn,{size:18})})]}),i.jsxs("div",{className:"modal-content",children:[!s&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"modal-description",children:"Create recurring time blocks to reserve focused time, meetings, or other scheduled activities."}),i.jsxs("div",{className:"time-block-list",children:[n.length===0&&i.jsx("div",{className:"empty-state",children:"No time blocks yet. Create one to get started!"}),n.map(j=>{var f,u;return i.jsxs("div",{className:"time-block-card",children:[i.jsx("div",{className:"time-block-color-bar",style:{backgroundColor:j.color}}),i.jsxs("div",{className:"time-block-info",children:[i.jsxs("div",{className:"time-block-title-row",children:[i.jsx("h4",{children:j.title}),i.jsxs("label",{className:"toggle-switch-small",children:[i.jsx("input",{type:"checkbox",checked:j.enabled,onChange:()=>p(j)}),i.jsx("span",{className:"toggle-slider-small"})]})]}),i.jsxs("div",{className:"time-block-time-display",children:[j.startTime," - ",j.endTime]}),i.jsxs("div",{className:"time-block-recurrence",children:[(f=md.find(g=>g.value===j.recurrence))==null?void 0:f.label,(j.recurrence==="weekly"||j.recurrence==="custom")&&i.jsxs("span",{className:"time-block-days",children:[" "," ",(u=j.weekdays)==null?void 0:u.map(g=>pd[g]).join(", ")]})]})]}),i.jsxs("div",{className:"time-block-actions",children:[i.jsx("button",{className:"icon-btn",onClick:()=>T(j),title:"Edit",children:""}),i.jsx("button",{className:"icon-btn",onClick:()=>x(j.id),title:"Delete",children:""})]})]},j.id)})]}),i.jsxs("button",{className:"create-block-btn",onClick:d,children:[i.jsx(Vn,{size:16}),"Create Time Block"]})]}),s&&i.jsxs("div",{className:"time-block-editor",children:[i.jsx("h3",{children:a?"Create Time Block":"Edit Time Block"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Title"}),i.jsx("input",{type:"text",value:s.title,onChange:j=>l({...s,title:j.target.value}),placeholder:"e.g., Focus Time, Team Meeting",autoFocus:!0})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Start Time"}),i.jsx("input",{type:"time",value:s.startTime,onChange:j=>l({...s,startTime:j.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"End Time"}),i.jsx("input",{type:"time",value:s.endTime,onChange:j=>l({...s,endTime:j.target.value})})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Recurrence"}),i.jsx("select",{value:s.recurrence,onChange:j=>l({...s,recurrence:j.target.value}),children:md.map(j=>i.jsx("option",{value:j.value,children:j.label},j.value))})]}),(s.recurrence==="weekly"||s.recurrence==="custom")&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Days of Week"}),i.jsx("div",{className:"weekday-picker",children:pd.map((j,f)=>{var u;return i.jsx("button",{className:`weekday-btn ${(u=s.weekdays)!=null&&u.includes(f)?"selected":""}`,onClick:()=>S(f),type:"button",children:j},f)})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Color"}),i.jsx("div",{className:"color-picker",children:["#4493f8","#3fb950","#fb8500","#f85149","#8b949e","#a371f7"].map(j=>i.jsx("button",{className:`color-btn ${s.color===j?"selected":""}`,style:{backgroundColor:j},onClick:()=>l({...s,color:j}),type:"button"},j))})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"btn-secondary",onClick:v,children:"Cancel"}),i.jsx("button",{className:"btn-primary",onClick:h,disabled:!s.title.trim(),children:a?"Create":"Save"})]})]})]})]})}):null}const np=[{id:"document",label:"Document",icon:""},{id:"wiki",label:"Wiki",icon:""},{id:"spec",label:"Spec",icon:""},{id:"drive",label:"Team Drive",icon:""},{id:"dashboard",label:"Dashboard",icon:""},{id:"repo",label:"Code Repo",icon:""},{id:"database",label:"Database",icon:""},{id:"release",label:"Release",icon:""},{id:"budget",label:"Budget",icon:""},{id:"financial",label:"Financial",icon:""},{id:"tool",label:"Tool",icon:""},{id:"architecture",label:"Architecture",icon:""},{id:"other",label:"Other",icon:""}],gd=[{id:"public",label:"Public"},{id:"team-only",label:"Team Only"},{id:"restricted",label:"Restricted"}],hy=e=>{const t=np.find(n=>n.id===e);return t?t.icon:""};function rp({node:e,depth:t,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o}){var T;const c=r.has(e.id),d=e.id===n,h=e.children&&e.children.length>0,x=(T=e.oncall)!=null&&T.enabled?Gh(e.oncall):null,p=x?o.find(S=>S.id===x):null,v=(e.resources||[]).length;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`ft-node ${d?"selected":""}`,style:{paddingLeft:`${12+t*20}px`},onClick:()=>s(e.id),children:[i.jsx("span",{className:"ft-node-chevron",onClick:S=>{S.stopPropagation(),h&&l(e.id)},children:h?c?i.jsx(hl,{size:14}):i.jsx(Xi,{size:14}):i.jsx("span",{style:{width:14,display:"inline-block"}})}),i.jsx("span",{className:"ft-node-name",children:e.name}),i.jsxs("span",{className:"ft-node-badges",children:[v>0&&i.jsx("span",{className:"ft-node-resource-count",title:`${v} resources`,children:v}),e.memberIds&&e.memberIds.length>0&&i.jsx("span",{className:"ft-node-member-count",children:e.memberIds.length}),p&&i.jsx("span",{className:"ft-node-oncall",title:`Oncall: ${p.name}`,children:p.avatar})]}),i.jsx("button",{className:"ft-node-add-child",title:"Add child feature",onClick:S=>{S.stopPropagation(),a(e.id)},children:i.jsx(Vn,{size:12})})]}),c&&h&&e.children.map(S=>i.jsx(rp,{node:S,depth:t+1,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o},S.id))]})}function py({node:e}){const[t,n]=C.useState(""),[r,s]=C.useState(""),[l,a]=C.useState("other"),[o,c]=C.useState("public"),d=e.resources||[],h=()=>{t.trim()&&(Jt().addResource(e.id,{label:t.trim(),url:r.trim(),type:l,visibility:o}),n(""),s(""),a("other"),c("public"))},x=v=>{Jt().removeResource(e.id,v)},p=(v,T)=>{Jt().updateResource(e.id,v,{visibility:T})};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Resources"}),d.length>0?i.jsx("div",{className:"ft-resource-list",children:d.map(v=>i.jsxs("div",{className:"ft-resource-row",children:[i.jsx("span",{className:"ft-resource-icon",children:hy(v.type)}),i.jsx("span",{className:"ft-resource-label",children:v.url&&v.url!=="#"?i.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"ft-resource-link",children:v.label}):v.label}),i.jsx("select",{className:"ft-resource-visibility","data-visibility":v.visibility,value:v.visibility,onChange:T=>p(v.id,T.target.value),children:gd.map(T=>i.jsx("option",{value:T.id,children:T.label},T.id))}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>x(v.id),children:i.jsx(Kn,{size:12})})]},v.id))}):i.jsx("div",{className:"ft-muted",children:"No resources yet."}),i.jsxs("div",{className:"ft-resource-add",children:[i.jsx("input",{type:"text",className:"ft-input",placeholder:"Label",value:t,onChange:v=>n(v.target.value),onKeyDown:v=>{v.key==="Enter"&&h()}}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"URL (optional)",value:r,onChange:v=>s(v.target.value),onKeyDown:v=>{v.key==="Enter"&&h()}}),i.jsx("select",{className:"ft-select ft-select-sm",value:l,onChange:v=>a(v.target.value),children:np.map(v=>i.jsxs("option",{value:v.id,children:[v.icon," ",v.label]},v.id))}),i.jsx("select",{className:"ft-select ft-select-sm",value:o,onChange:v=>c(v.target.value),children:gd.map(v=>i.jsx("option",{value:v.id,children:v.label},v.id))}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:h,disabled:!t.trim(),children:"Add"})]})]})}function my({node:e,featureTree:t,onSelectNode:n}){const[r,s]=C.useState(""),l=e.partnerTeamIds||[],a=C.useMemo(()=>{const h=[],x=p=>{for(const v of p)h.push(v),v.children&&x(v.children)};return x(t),h},[t]),o=a.filter(h=>h.id!==e.id&&!l.includes(h.id)),c=()=>{r&&(Jt().addPartnerTeam(e.id,r),s(""))},d=h=>{Jt().removePartnerTeam(e.id,h)};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Partner Teams"}),l.length>0?i.jsx("div",{className:"ft-partner-list",children:l.map(h=>{const x=a.find(p=>p.id===h);return x?i.jsxs("div",{className:"ft-partner-row",children:[i.jsx("span",{className:"ft-partner-link",onClick:()=>n(h),title:"Navigate to this team",children:x.name}),i.jsxs("span",{className:"ft-partner-member-count",children:[(x.memberIds||[]).length," members"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>d(h),children:i.jsx(Kn,{size:12})})]},h):null})}):i.jsx("div",{className:"ft-muted",children:"No partner teams linked."}),o.length>0&&i.jsxs("div",{className:"ft-partner-add",children:[i.jsxs("select",{className:"ft-select",value:r,onChange:h=>s(h.target.value),children:[i.jsx("option",{value:"",children:"Link a partner team..."}),o.map(h=>i.jsx("option",{value:h.id,children:h.name},h.id))]}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:c,disabled:!r,children:"Link"})]})]})}function gy({node:e,teamMembers:t,onUpdate:n}){const r=e.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:"",memberOrder:[],overrides:[]},[s,l]=C.useState(""),[a,o]=C.useState(""),[c,d]=C.useState(null),h=r.enabled?Gh(r):null,x=h?t.find(k=>k.id===h):null,p=r.enabled?vv(r,8):[],v=k=>{n({oncall:{...r,...k}})},T=()=>{if(!s)return;const k=new Date().toISOString().slice(0,10),D=[...r.overrides||[],{date:k,memberId:s,reason:a}];v({overrides:D}),l(""),o("")},S=k=>{const D=r.overrides.filter((E,I)=>I!==k);v({overrides:D})},j=k=>d(k),f=(k,D)=>{if(k.preventDefault(),c===null||c===D)return;const E=[...r.memberOrder],[I]=E.splice(c,1);E.splice(D,0,I),v({memberOrder:E}),d(D)},u=()=>d(null),g=t.filter(k=>e.memberIds&&e.memberIds.includes(k.id));return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Oncall Schedule"}),i.jsxs("label",{className:"ft-toggle-row",children:[i.jsx("input",{type:"checkbox",checked:r.enabled,onChange:k=>v({enabled:k.target.checked})}),i.jsx("span",{children:"Enable oncall rotation"})]}),r.enabled&&i.jsxs(i.Fragment,{children:[x&&i.jsxs("div",{className:"ft-oncall-current",children:[i.jsx("span",{className:"ft-oncall-current-avatar",children:x.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"ft-oncall-current-label",children:"Currently on call"}),i.jsx("div",{className:"ft-oncall-current-name",children:x.name})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Rotation"}),i.jsxs("select",{className:"ft-select",value:r.rotationPeriod,onChange:k=>v({rotationPeriod:k.target.value}),children:[i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"biweekly",children:"Biweekly"})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Start date"}),i.jsx("input",{type:"date",className:"ft-input",value:r.startDate||"",onChange:k=>v({startDate:k.target.value})})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Rotation Order"}),r.memberOrder&&r.memberOrder.length>0?i.jsx("div",{className:"ft-oncall-order",children:r.memberOrder.map((k,D)=>{const E=t.find(I=>I.id===k);return E?i.jsxs("div",{className:`ft-oncall-order-item ${c===D?"dragging":""}`,draggable:!0,onDragStart:()=>j(D),onDragOver:I=>f(I,D),onDragEnd:u,children:[i.jsx("span",{className:"ft-oncall-order-index",children:D+1}),i.jsx("span",{children:E.avatar}),i.jsx("span",{children:E.name})]},k):null})}):i.jsx("div",{className:"ft-muted",children:"No members in rotation. Add team members first."})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Manual Override"}),i.jsxs("div",{className:"ft-oncall-override",children:[i.jsxs("select",{className:"ft-select",value:s,onChange:k=>l(k.target.value),children:[i.jsx("option",{value:"",children:"Select person..."}),g.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"Reason (optional)",value:a,onChange:k=>o(k.target.value),onKeyDown:k=>{k.key==="Enter"&&T()}}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:T,disabled:!s,children:"Set"})]}),r.overrides&&r.overrides.length>0&&i.jsx("div",{className:"ft-oncall-override-history",children:r.overrides.map((k,D)=>{const E=t.find(I=>I.id===k.memberId);return i.jsxs("div",{className:"ft-oncall-override-row",children:[i.jsx("span",{children:k.date}),i.jsx("span",{children:E?`${E.avatar} ${E.name}`:k.memberId}),k.reason&&i.jsxs("span",{className:"ft-muted",children:["(",k.reason,")"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>S(D),children:i.jsx(Kn,{size:12})})]},D)})})]}),p.length>0&&i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Upcoming Schedule"}),i.jsxs("table",{className:"ft-schedule-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Period"}),i.jsx("th",{children:"On Call"})]})}),i.jsx("tbody",{children:p.map((k,D)=>{const E=t.find(R=>R.id===k.memberId),I=k.startDate.toLocaleDateString("en-US",{month:"short",day:"numeric"}),b=k.endDate.toLocaleDateString("en-US",{month:"short",day:"numeric"});return i.jsxs("tr",{className:k.isCurrent?"ft-schedule-current":"",children:[i.jsxs("td",{children:[I," - ",b]}),i.jsx("td",{children:E?`${E.avatar} ${E.name}`:k.memberId})]},D)})})]})]})]})]})}function vy({node:e,teamMembers:t,featureTree:n,onUpdate:r,onDelete:s,onSelectNode:l}){const a=t.filter(c=>c.id!=="unassigned"),o=c=>{const d=e.memberIds||[];let h;if(d.includes(c)){h=d.filter(p=>p!==c);const x=e.oncall;if(x&&x.memberOrder){const p=x.memberOrder.filter(v=>v!==c);r({memberIds:h,oncall:{...x,memberOrder:p}});return}}else{h=[...d,c];const x=e.oncall;if(x&&x.memberOrder){const p=[...x.memberOrder,c];r({memberIds:h,oncall:{...x,memberOrder:p}});return}}r({memberIds:h})};return i.jsxs("div",{className:"ft-detail-panel",children:[i.jsxs("div",{className:"ft-detail-header",children:[i.jsx("h2",{className:"ft-detail-title",children:e.name}),i.jsx("button",{className:"ft-btn ft-btn-danger",onClick:s,title:"Delete this feature",children:i.jsx(Kn,{size:14})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Name"}),i.jsx("input",{type:"text",className:"ft-input ft-input-full",value:e.name,onChange:c=>r({name:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Description"}),i.jsx("textarea",{className:"ft-textarea",rows:3,placeholder:"Describe this feature area...",value:e.description||"",onChange:c=>r({description:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ao,{size:14})," Members"]}),i.jsx("div",{className:"ft-member-list",children:a.map(c=>{const d=(e.memberIds||[]).includes(c.id);return i.jsxs("label",{className:`ft-member-row ${d?"active":""}`,children:[i.jsx("input",{type:"checkbox",checked:d,onChange:()=>o(c.id)}),i.jsx("span",{className:"ft-member-avatar",children:c.avatar}),i.jsx("span",{className:"ft-member-name",children:c.name})]},c.id)})})]}),i.jsx(py,{node:e}),i.jsx(my,{node:e,featureTree:n,onSelectNode:l}),i.jsx(gy,{node:e,teamMembers:t,onUpdate:c=>r(c)})]})}function yy({featureTree:e,teamMembers:t,onUpdateNode:n,onAddNode:r,onDeleteNode:s}){const[l,a]=C.useState(null),[o,c]=C.useState(()=>new Set(e.map(j=>j.id))),d=C.useCallback((j,f)=>{for(const u of f){if(u.id===j)return u;if(u.children&&u.children.length>0){const g=d(j,u.children);if(g)return g}}return null},[]),h=C.useMemo(()=>l?d(l,e):null,[l,e,d]),x=C.useCallback(j=>{c(f=>{const u=new Set(f);return u.has(j)?u.delete(j):u.add(j),u})},[]),p=C.useCallback(j=>{r(j,{name:"New Feature"}),j&&c(f=>{const u=new Set(f);return u.add(j),u})},[r]),v=C.useCallback(()=>{r(null,{name:"New Feature"})},[r]),T=C.useCallback(()=>{l&&(s(l),a(null))},[l,s]),S=C.useCallback(j=>{a(j);const f=(g,k,D=[])=>{for(const E of g){if(E.id===k)return D;if(E.children&&E.children.length>0){const I=f(E.children,k,[...D,E.id]);if(I)return I}}return null},u=f(e,j);u&&u.length>0&&c(g=>{const k=new Set(g);return u.forEach(D=>k.add(D)),k})},[e]);return i.jsxs("div",{className:"ft-view",children:[i.jsxs("div",{className:"ft-tree-panel",children:[i.jsx("div",{className:"ft-tree-toolbar",children:i.jsxs("button",{className:"ft-btn",onClick:v,children:[i.jsx(Vn,{size:14})," Add Feature"]})}),i.jsxs("div",{className:"ft-tree-list",children:[e.map(j=>i.jsx(rp,{node:j,depth:0,selectedNodeId:l,expandedNodeIds:o,onSelect:a,onToggleExpand:x,onAddChild:p,teamMembers:t},j.id)),e.length===0&&i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"No features yet. Add one to get started."})]})]})]}),h?i.jsx(vy,{node:h,teamMembers:t,featureTree:e,onUpdate:j=>n(h.id,j),onDelete:T,onSelectNode:S},h.id):i.jsx("div",{className:"ft-detail-panel ft-empty-detail",children:i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"Select a feature to view details"})]})})]})}function vd({person:e,onEdit:t,onDelete:n}){const[r,s]=C.useState(!1),[l,a]=C.useState(e.name),[o,c]=C.useState(e.email||""),[d,h]=C.useState(e.avatar),[x,p]=C.useState(!1),v=()=>{t(e.id,{name:l.trim()||e.name,email:o.trim(),avatar:d}),s(!1),p(!1)},T=()=>{a(e.name),c(e.email||""),h(e.avatar),s(!1),p(!1)},S=()=>{$r().toggleEnabled(e.id)};return r?i.jsxs("div",{className:"ppl-card editing",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>p(!x),children:d}),x&&i.jsx("div",{className:"ppl-avatar-picker",children:Yh.map(j=>i.jsx("button",{className:`ppl-avatar-option ${j===d?"selected":""}`,onClick:()=>{h(j),p(!1)},children:j},j))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:l,onChange:j=>a(j.target.value),onKeyDown:j=>{j.key==="Enter"&&v(),j.key==="Escape"&&T()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:o,onChange:j=>c(j.target.value),onKeyDown:j=>{j.key==="Enter"&&v(),j.key==="Escape"&&T()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:v,children:[i.jsx(zh,{size:12})," Save"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:T,children:"Cancel"})]})]}):i.jsxs("div",{className:`ppl-card ${e.enabled?"":"disabled"} ${e.isSystem?"system":""}`,children:[i.jsx("div",{className:"ppl-card-avatar",children:e.avatar}),i.jsxs("div",{className:"ppl-card-info",children:[i.jsx("div",{className:"ppl-card-name",children:e.name}),e.email&&i.jsx("div",{className:"ppl-card-email",children:e.email}),e.isSystem&&i.jsx("div",{className:"ppl-card-badge",children:"System"})]}),i.jsx("div",{className:"ppl-card-actions",children:!e.isSystem&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:`ppl-toggle ${e.enabled?"on":"off"}`,onClick:S,title:e.enabled?"Disable":"Enable",children:e.enabled?"Enabled":"Disabled"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:()=>s(!0),children:"Edit"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm ppl-btn-danger",onClick:()=>n(e.id),children:i.jsx(Kn,{size:12})})]})})]})}function xy({onAdd:e}){const[t,n]=C.useState(!1),[r,s]=C.useState(""),[l,a]=C.useState(""),[o,c]=C.useState(""),[d,h]=C.useState(!1),x=()=>{r.trim()&&(e({name:r.trim(),email:l.trim(),avatar:o}),s(""),a(""),c(""),n(!1))},p=()=>{s(""),a(""),c(""),n(!1),h(!1)};return t?i.jsxs("div",{className:"ppl-card editing new",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>h(!d),children:o}),d&&i.jsx("div",{className:"ppl-avatar-picker",children:Yh.map(v=>i.jsx("button",{className:`ppl-avatar-option ${v===o?"selected":""}`,onClick:()=>{c(v),h(!1)},children:v},v))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:r,onChange:v=>s(v.target.value),onKeyDown:v=>{v.key==="Enter"&&x(),v.key==="Escape"&&p()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:l,onChange:v=>a(v.target.value),onKeyDown:v=>{v.key==="Enter"&&x(),v.key==="Escape"&&p()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:x,disabled:!r.trim(),children:[i.jsx(Vn,{size:12})," Add"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:p,children:"Cancel"})]})]}):i.jsxs("button",{className:"ppl-add-btn",onClick:()=>n(!0),children:[i.jsx(Vn,{size:16})," Add Person"]})}function wy({people:e}){const[t,n]=C.useState(null),r=(h,x)=>{$r().updatePerson(h,x)},s=h=>{$r().addPerson(h)},l=h=>{n(h)},a=()=>{t&&($r().deletePerson(t),n(null))},o=t?e.find(h=>h.id===t):null,c=e.filter(h=>!h.isSystem),d=e.filter(h=>h.isSystem);return i.jsxs("div",{className:"ppl-view",children:[i.jsxs("div",{className:"ppl-header",children:[i.jsx("h2",{className:"ppl-title",children:"People"}),i.jsxs("div",{className:"ppl-stats",children:[c.filter(h=>h.enabled).length," active / ",c.length," total"]})]}),i.jsxs("div",{className:"ppl-content",children:[i.jsx("div",{className:"ppl-section",children:i.jsx(xy,{onAdd:s})}),i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"Team Members"}),i.jsxs("div",{className:"ppl-list",children:[c.map(h=>i.jsx(vd,{person:h,onEdit:r,onDelete:l},h.id)),c.length===0&&i.jsx("div",{className:"ppl-empty",children:"No team members yet. Add someone to get started."})]})]}),d.length>0&&i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"System"}),i.jsx("div",{className:"ppl-list",children:d.map(h=>i.jsx(vd,{person:h,onEdit:r,onDelete:l},h.id))})]})]}),t&&o&&i.jsx("div",{className:"ppl-modal-overlay",onClick:()=>n(null),children:i.jsxs("div",{className:"ppl-modal",onClick:h=>h.stopPropagation(),children:[i.jsx("div",{className:"ppl-modal-title",children:"Delete Person"}),i.jsxs("div",{className:"ppl-modal-body",children:["Are you sure you want to remove ",i.jsx("strong",{children:o.name}),"? This will not affect their existing task assignments."]}),i.jsxs("div",{className:"ppl-modal-actions",children:[i.jsx("button",{className:"ppl-btn",onClick:()=>n(null),children:"Cancel"}),i.jsx("button",{className:"ppl-btn ppl-btn-danger",onClick:a,children:"Delete"})]})]})})]})}const sp=C.createContext(null);function ky({children:e}){const[t,n]=C.useState(!1),[r,s]=C.useState(!1),[l,a]=C.useState(!1),[o,c]=C.useState("idle"),[d,h]=C.useState(0),[x,p]=C.useState(null),[v,T]=C.useState(!1),S=Zi(),j=uv();C.useEffect(()=>{(async()=>{T(j.hasClientId()),a(!0)})();const I=S.on("sync-state-changed",({state:R})=>{c(R)}),b=S.on("queue-changed",({pendingCount:R})=>{h(R)});return()=>{I(),b()}},[S,j]),C.useEffect(()=>j.hasClientId()?j.onStateChange(I=>{switch(I.type){case"authenticated":n(!0),s(!1),p(null);break;case"signed-out":n(!1);break;case"token-expired":n(!1),p("Session expired. Please sign in again.");break;case"auth-error":p(I.error),s(!1);break}}):void 0,[j]);const f=C.useCallback(async()=>{if(!j.hasClientId()){p("Google Cloud Client ID not configured");return}s(!0),p(null);try{await j.authenticate(),S.setRemoteProvider(j),n(!0),await S.fullSync()}catch(E){console.error("Sign in failed:",E),p(E.message||"Sign in failed")}finally{s(!1)}},[j,S]),u=C.useCallback(async()=>{try{await j.signOut(),S.setRemoteProvider(null),n(!1),p(null)}catch(E){console.error("Sign out failed:",E)}},[j,S]),g=C.useCallback(async()=>{if(t)try{await S.fullSync()}catch(E){console.error("Sync failed:",E),p(E.message||"Sync failed")}},[t,S]),k=C.useCallback(()=>{p(null)},[]),D={isAuthenticated:t,isLoading:r,isInitialized:l,syncState:o,pendingCount:d,error:x,hasClientId:v,signIn:f,signOut:u,syncNow:g,clearError:k};return i.jsx(sp.Provider,{value:D,children:e})}function lp(){const e=C.useContext(sp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function jy({className:e=""}){const{isAuthenticated:t,isLoading:n,signIn:r,signOut:s,hasClientId:l,error:a}=lp();return l?n?i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-loading",disabled:!0,children:"Connecting..."})}):t?i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-signout",onClick:s,children:"Sign Out"})}):i.jsxs("div",{className:`auth-btn-container ${e}`,children:[i.jsx("button",{className:"auth-btn auth-btn-signin",onClick:r,children:"Sync with Google Drive"}),a&&i.jsx("div",{className:"auth-error",children:a})]}):i.jsx("div",{className:`auth-btn-container ${e}`,children:i.jsx("button",{className:"auth-btn auth-btn-disabled",disabled:!0,title:"Configure VITE_GOOGLE_CLIENT_ID to enable",children:"Cloud Sync (Not Configured)"})})}function Sy({className:e=""}){const{isAuthenticated:t,syncState:n,pendingCount:r,syncNow:s,error:l,clearError:a}=lp();if(!t)return null;const o=()=>{switch(n){case"syncing":return"";case"error":return"";case"offline":return"";default:return r>0?"":""}},c=()=>{switch(n){case"syncing":return"Syncing...";case"error":return"Sync error";case"offline":return"Offline";default:return r>0?`${r} pending`:"Synced"}},d=()=>{l&&a(),n!=="syncing"&&s()};return i.jsx("div",{className:`sync-status ${e}`,children:i.jsxs("button",{className:`sync-status-btn sync-state-${n}`,onClick:d,title:l||`Click to sync now. Status: ${c()}`,children:[i.jsx("span",{className:"sync-icon",children:o()}),i.jsx("span",{className:"sync-text",children:c()})]})})}const ln=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Ny=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},ks=e=>{const t=new Date(e);return t.setHours(23,59,59,999),t},yd=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},Dy=(e,t)=>ln(e,t*7),Ey=(e,t)=>ln(e,t*14),Cy=e=>{const t=new Date(e),r=t.getMonth()<6?0:6;return t.setMonth(r),t.setDate(1),t.setHours(0,0,0,0),t},xd=(e,t)=>{const n=new Date(e);return n.setMonth(n.getMonth()+t*6),n},Ty=e=>{const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t},wd=(e,t)=>{const n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},kd=(e,t=0)=>{const n=new Date;switch(e){case"day":{const r=Ny(ln(n,t)),s=ks(ln(n,t));return{start:r,end:s}}case"week":{const r=yd(n),s=Dy(r,t),l=ks(ln(s,6));return{start:s,end:l}}case"sprint":{const r=new Date("2024-01-01"),s=yd(n),l=Math.floor((s-r)/(1e3*60*60*24*7)),o=Math.floor(l/2)+t,c=Ey(r,o),d=ks(ln(c,13));return{start:c,end:d}}case"half":{const r=Cy(n),s=xd(r,t),l=ks(ln(xd(s,1),-1));return{start:s,end:l}}case"year":{const r=Ty(n),s=wd(r,t),l=ks(ln(wd(s,1),-1));return{start:s,end:l}}case"global":default:return{start:new Date(0),end:new Date("2100-01-01")}}};function Py(){const e=C.useMemo(()=>wv(["1","2"]),[]),[t,n]=C.useState([]),[r,s]=C.useState(new Set(["1","2"])),[l,a]=C.useState(null),[o,c]=C.useState(new Set),[d,h]=C.useState(!0),[x,p]=C.useState(""),[v,T]=C.useState(!1),[S,j]=C.useState("day"),[f,u]=C.useState(0),[g,k]=C.useState(null),[D,E]=C.useState(null),[I,b]=C.useState("middle"),[R,z]=C.useState(null),[m,W]=C.useState("personal"),[Q,q]=C.useState(null),[ae,V]=C.useState(!1),[re,Y]=C.useState(!1),[Z,te]=C.useState(400),oe=C.useRef(!1),pe=C.useRef(null),Ye=C.useRef(!1),je=C.useRef(null),ge=C.useRef(null),Oe=C.useRef(new Map),[Ce,tn]=C.useState([]),[_t,Bt]=C.useState([]),lt=C.useRef(null),gn=C.useMemo(()=>{const y=N=>N.flatMap(O=>[{id:O.id,name:O.name,memberIds:O.memberIds||[]},...y(O.children||[])]);return y(_t)},[_t]),us=C.useMemo(()=>{const y=[],N=(O,A=0)=>{O.forEach(M=>{y.push({id:M.id,name:M.name,depth:A}),M.children&&N(M.children,A+1)})};return N(_t),y},[_t]);C.useEffect(()=>{const y=()=>{n(e.getAllItems())},N=()=>{const A=e.getSelectedIds();a(A[0]||null),c(new Set(A))},O=()=>{s(new Set(e.getExpandedIds()))};return e.on("items-changed",y),e.on("selection-changed",N),e.on("expansion-changed",O),y(),()=>{e.off("items-changed",y),e.off("selection-changed",N),e.off("expansion-changed",O)}},[e]),C.useEffect(()=>{const y=Jt();return y.initialize().then(()=>{y.getTree().then(Bt)}),y.subscribe(Bt)},[]),C.useEffect(()=>{const y=$r();return y.initialize().then(()=>{y.getPeople().then(tn)}),y.subscribe(tn)},[]),C.useEffect(()=>{const N={personal:"day",team:"sprint",timeline:"month"}[m];N&&(j(N),u(0))},[m]),C.useLayoutEffect(()=>{if(!ge.current)return;const y=ge.current.querySelectorAll("[data-item-id]"),N=new Map;y.forEach(O=>{const A=O.dataset.itemId,M=O.getBoundingClientRect();N.set(A,M.top);const J=Oe.current.get(A);if(J!==void 0&&J!==M.top){const ce=J-M.top;if(Math.abs(ce)<2||O.classList.contains("dragging"))return;O.style.transform=`translateY(${ce}px)`,O.style.transition="none",requestAnimationFrame(()=>{O.style.transition="transform 150ms ease",O.style.transform=""})}}),Oe.current=N});const Wt=!["analytics","people","features"].includes(m);C.useEffect(()=>{!v&&Wt&&lt.current&&lt.current.focus()},[v,Wt]),C.useEffect(()=>{const y=N=>{var M,J;const O=x.trim().length>0;if(v){N.key==="Escape"&&(N.preventDefault(),T(!1));return}if(Wt&&N.target!==lt.current&&/^[a-zA-Z0-9]$/.test(N.key)){N.preventDefault(),p(N.key),(M=lt.current)==null||M.focus();return}if(O)switch(N.key){case"Enter":N.preventDefault(),N.shiftKey?ip(x):Uc(x);break;case"Escape":N.preventDefault(),p(""),(J=lt.current)==null||J.focus();break}else{switch(N.key){case"ArrowDown":N.preventDefault(),Me();break;case"ArrowUp":N.preventDefault(),St();break;case"ArrowRight":N.preventDefault(),w();break;case"ArrowLeft":N.preventDefault(),F();break;case"Control":case"Shift":break;default:N.ctrlKey||N.metaKey?N.key==="ArrowDown"?(N.preventDefault(),U()):N.key==="ArrowUp"&&(N.preventDefault(),_()):N.shiftKey&&(N.key==="ArrowDown"?(N.preventDefault(),H()):N.key==="ArrowUp"?(N.preventDefault(),X()):N.key==="Tab"&&(N.preventDefault(),me(!1)));break}if(!N.ctrlKey&&!N.metaKey&&!N.shiftKey)switch(N.key){case" ":N.preventDefault(),l&&Hc(l);break;case"Delete":N.preventDefault(),de();break;case"Enter":N.preventDefault(),l&&T(!0);break;case"Escape":N.preventDefault(),e.clearSelection();break;case"Tab":N.preventDefault(),me(!0);break}}};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[l,o,r,t,d,x,v]);const it=()=>{const y=[],N=O=>{O.forEach(A=>{y.push(A.id),A.children&&A.children.length>0&&r.has(A.id)&&N(A.children)})};return N(Fe()),y},Qe=(y,N)=>{for(const O of N){if(O.id===y)return O;if(O.children){const A=Qe(y,O.children);if(A)return A}}return null},$=(y,N,O=null)=>{for(const A of N){if(A.id===y)return O;if(A.children){const M=$(y,A.children,A);if(M)return M}}return null},ee=(y,N=[])=>{const O=["day","week","sprint","half","year","global"],A=kd(S,f);return y.filter(M=>{if(!d&&M.completed)return!1;if(S==="global")return!0;if(![...M.timeRanges||["global"],...N].some(le=>{const Te=O.indexOf(le),nn=O.indexOf(S);return Te<=nn}))return!1;if(["sprint","half","year"].includes(S)){if(M.dueDate||M.startDate){const le=M.dueDate?new Date(M.dueDate):new Date(M.startDate);if(le<A.start||le>A.end)return!1}else if(f!==0)return!1}else if(f!==0&&(M.dueDate||M.startDate)){const le=M.dueDate?new Date(M.dueDate):new Date(M.startDate);if(le<A.start||le>A.end)return!1}return!0}).map(M=>{const J={...M};if(M.children){const ce=[...M.timeRanges||["global"],...N];J.children=ee(M.children,ce)}return J})},fe=y=>{if(S==="global")return y;const N=kd(S,f),O=A=>A.flatMap(M=>{if(ep(M)){const J=Sv(M,N.start,N.end,Ce);return J.length>0?J:[]}return[{...M,children:M.children?O(M.children):[]}]});return O(y)},Fe=()=>fe(ee(t)),Me=()=>{const y=it();if(y.length===0)return;if(!l){a(y[0]);return}const N=y.indexOf(l),O=N<y.length-1?N+1:0;a(y[O])},St=()=>{const y=it();if(y.length===0)return;if(!l){a(y[y.length-1]);return}const N=y.indexOf(l),O=N>0?N-1:y.length-1;a(y[O])},w=()=>{if(!l)return;const y=Qe(l,t);if(y&&y.children&&y.children.length>0)if(r.has(l))a(y.children[0].id);else{const N=new Set(r);N.add(l),s(N)}},F=()=>{if(!l)return;const y=Qe(l,t);if(y)if(y.children&&y.children.length>0&&r.has(l)){const N=new Set(r);N.delete(l),s(N)}else{const N=$(l,t);N&&a(N.id)}},U=()=>{const y=it();y.length>0&&a(y[y.length-1])},_=()=>{const y=it();y.length>0&&a(y[0])},H=()=>{const y=it();if(y.length===0)return;if(!l){a(y[0]);return}const N=y.indexOf(l),O=N<y.length-1?N+1:0,A=y[O],M=new Set(o);M.add(l),M.add(A),c(M),a(A)},X=()=>{const y=it();if(y.length===0)return;if(!l){a(y[y.length-1]);return}const N=y.indexOf(l),O=N>0?N-1:y.length-1,A=y[O],M=new Set(o);M.add(l),M.add(A),c(M),a(A)},ne=y=>{if(!e.getItem(y))return null;const O=e.getParent(y),A=O?O.children:t,M=A.findIndex(J=>J.id===y);if(M>=0){if(M>0)return A[M-1].id;if(M<A.length-1)return A[M+1].id}return(O==null?void 0:O.id)||null},de=async()=>{let y=null;if(o.size>0){const N=Array.from(o)[0];y=ne(N);for(const O of o)await e.deleteItem(O)}else l&&(y=ne(l),await e.deleteItem(l));y?e.select(y):e.clearSelection()},me=y=>{o.size>0?o.forEach(N=>{y?Ut(N,!0):Ut(N,!1)}):l&&Ut(l,y)},Ut=(y,N)=>{const O=Qe(y,t);if(O)if(N){const A=it(),M=A.indexOf(y);if(M<=0)return;const J=A[M-1];if(!Qe(J,t))return;const le=xr(t,y),Te=Ji(le,J,O);n(Te)}else{const A=$(y,t);if(!A)return;const M=$(A.id,t),J=xr(t,y);if(M){const ce=J.map(le=>{if(le.id===M.id){const Te=(le.children||[]).findIndex(Dp=>Dp.id===A.id),nn=[...le.children||[]];return nn.splice(Te+1,0,O),{...le,children:nn}}return le.children?{...le,children:yr(le.children,M.id,A.id,O)}:le});n(ce)}else{const ce=J.findIndex(Te=>Te.id===A.id),le=[...J];le.splice(ce+1,0,O),n(le)}}},yr=(y,N,O,A)=>y.map(M=>{if(M.id===N){const J=(M.children||[]).findIndex(le=>le.id===O),ce=[...M.children||[]];return ce.splice(J+1,0,A),{...M,children:ce}}return M.children?{...M,children:yr(M.children,N,O,A)}:M}),xr=(y,N)=>y.filter(O=>O.id!==N).map(O=>({...O,children:xr(O.children||[],N)})),Ji=(y,N,O)=>y.map(A=>A.id===N?{...A,children:[O,...A.children||[]]}:{...A,children:Ji(A.children||[],N,O)}),Uc=async y=>{if(!y.trim())return;const N=l?e.getParent(l):null,O=(N==null?void 0:N.id)||null,A={title:y.trim(),timeRanges:S!=="global"?[S]:["global"]},M=await e.appendItem(O,A);p(""),M&&e.select(M)},ip=async y=>{if(!y.trim())return;const N=l?e.getItem(l):null,O=N&&N.children!==void 0?l:null,A={title:y.trim(),timeRanges:S!=="global"?[S]:["global"]},M=await e.appendItem(O,A);O&&e.expand(O),p(""),M&&e.select(M)},ap=y=>{e.toggleExpand(y)},Hc=y=>{var N,O;if(typeof y=="string"&&y.includes(":")){const[A,M]=y.split(":"),J=Qe(A,t);if(J){const ce=Cv(J.instances,M,"completed",!((O=(N=J.instances)==null?void 0:N[M])!=null&&O.completed));e.updateItem(A,{instances:ce})}return}e.toggleComplete(y,!0)},op=(y,N,O,A)=>{const M=$(N,y);if(M){const ce=(M.children||[]).findIndex(Te=>Te.id===N),le=A==="top"?ce:ce+1;return y.map(Te=>{if(Te.id===M.id){const nn=[...Te.children||[]];return nn.splice(le,0,O),{...Te,children:nn}}return Te.children?{...Te,children:Vc(Te.children,M.id,le,O)}:Te})}else{const J=y.findIndex(Te=>Te.id===N),ce=A==="top"?J:J+1,le=[...y];return le.splice(ce,0,O),le}},Vc=(y,N,O,A)=>y.map(M=>{if(M.id===N){const J=[...M.children||[]];return J.splice(O,0,A),{...M,children:J}}return M.children?{...M,children:Vc(M.children,N,O,A)}:M}),cp=(y,N)=>{pe.current=JSON.parse(JSON.stringify(t)),Ye.current=!1,je.current=null,k(y),N.dataTransfer.effectAllowed="move"},up=(y,N)=>{if(N.preventDefault(),!g||g===y)return;const O=N.currentTarget.getBoundingClientRect(),A=N.clientY-O.top,M=O.height;let J="middle";if(A<M*.25?J="top":A>M*.75&&(J="bottom"),J==="middle"){je.current=null,E(y),b("middle");return}const ce=`${y}-${J}`;je.current!==ce&&(je.current=ce,E(null),b(J),n(le=>{const Te=Qe(g,le);if(!Te)return le;const nn=xr(le,g);return op(nn,y,Te,J)}))},dp=(y,N)=>{if(N.preventDefault(),Ye.current=!0,!!g){if(I==="middle"&&D&&g!==D){n(A=>{const M=Qe(g,A);if(!M)return A;const J=xr(A,g);return Ji(J,D,M)});const O=new Set(r);O.add(D),s(O)}k(null),E(null),je.current=null}},fp=y=>{y.target===y.currentTarget&&(y.preventDefault(),Ye.current=!0,g&&(n(N=>{const O=Qe(g,N);return O?[...xr(N,g),O]:N}),k(null),E(null),je.current=null))},hp=()=>{!Ye.current&&pe.current&&n(pe.current),pe.current=null,je.current=null,k(null),E(null)},pp=y=>{y.preventDefault(),oe.current=!0;const N=y.clientX,O=Z;document.body.classList.add("resizing");const A=J=>{const ce=N-J.clientX,le=Math.max(200,Math.min(O+ce,window.innerWidth*.6));te(le)},M=()=>{oe.current=!1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",M)},pl=y=>{a(y),T(!0)},mp=y=>{if(!g)return;const N=e.getItem(g);if(!N)return;const O=N.timeRanges||["global"];if(!O.includes(y)){const A=[...O,y];e.updateItem(g,{timeRanges:A})}k(null),E(null)},ml=(y,N,O)=>{const A=Qe(y,t);A&&z({todo:A,x:N,y:O})},gp=(y,N)=>{const O=e.getItem(y);if(!O)return;const A=O.timeRanges||["global"];let M;A.includes(N)?(M=A.filter(J=>J!==N),M.length===0&&(M=["global"])):M=[...A,N],e.updateItem(y,{timeRanges:M}),z(null)},vp=(y,N)=>{e.getItem(y)&&(e.updateItem(y,{timeRanges:[N]}),z(null))},yp=(y,N)=>{const O=[...Ce],[A]=O.splice(y,1);O.splice(N,0,A),tn(O)},xp=(y,N)=>{Jt().updateNode(y,N)},wp=(y,N)=>Jt().addNode(y,N),kp=y=>{Jt().deleteNode(y)},jp=async y=>{y.todos&&await Kh().setTodos(y.todos),y.people&&await $r().setPeople(y.people),y.featureTree&&await Jt().setTree(y.featureTree)},Sp=async y=>{const N={title:y.title,description:y.description||"",timeRanges:["day"],source:y.source,sourceUrl:y.sourceUrl,priority:y.priority,metadata:{source:y.source,sourceUrl:y.sourceUrl,createdFrom:"ghost"}},O=await e.appendItem(null,N);O&&e.select(O)},Yc=C.useMemo(()=>{var N;if(!l)return null;const y=e.getItem(l);if(y)return y;if(typeof l=="string"&&l.includes(":")){const[O,A]=l.split(":"),M=Qe(O,t);if(M){const J=((N=M.instances)==null?void 0:N[A])||{},ce=Ce.find(le=>le.id===A);return{...M,id:l,masterId:O,isInstance:!0,instanceKey:A,completed:J.completed||!1,notes:J.notes||"",children:[],...M.type==="chore"?{instanceDate:new Date(A)}:{},...M.type==="assignment"?{instanceAssignee:A,instanceAssigneeName:(ce==null?void 0:ce.name)||A,instanceAssigneeAvatar:(ce==null?void 0:ce.avatar)||"",assignee:A}:{}}}}return null},[l,t,Ce,e]),Qc=y=>{j("global"),u(0),e.select(y),T(!0)},Np=y=>l===y||o.has(y);return i.jsxs("div",{className:"todo-shell",children:[i.jsxs("header",{className:"header",children:[i.jsx("h1",{children:"Todo App"}),i.jsx(Hv,{activeMode:m,onModeChange:W}),i.jsx(Fv,{activeRange:S,onRangeChange:y=>{j(y),u(0)},onDropToRange:mp,periodOffset:f,onPeriodChange:u}),i.jsxs("div",{className:"header-right",children:[i.jsx(Sy,{}),i.jsx(jy,{}),i.jsx(Bv,{showCompleted:d,onToggleCompleted:h,viewMode:m,teamMembers:Ce,onUpdateTeamMembers:tn,onOpenTimeBlockManager:()=>V(!0),ghostItemsInline:re,onToggleGhostItemsInline:Y,todos:t,featureTree:_t,onImportData:jp})]})]}),i.jsx(Av,{todos:t}),i.jsxs("main",{className:"main",children:[m==="personal"&&i.jsxs("div",{className:`personal-view-container ${re?"ghost-inline":"ghost-sidebar"}`,children:[i.jsxs("section",{ref:ge,className:"list",onDragOver:y=>y.preventDefault(),onDrop:fp,children:[Fe().length===0&&i.jsx("div",{className:"empty",children:"No todos yet"}),Fe().map(y=>i.jsx(tp,{todo:y,depth:0,isExpanded:r.has(y.id),isSelected:Np(y.id),expandedIds:r,selectedId:l,selectedIds:o,onToggleExpand:ap,onToggleComplete:Hc,onSelect:N=>e.select(N),onDoubleClick:pl,onContextMenu:ml,onDragStart:cp,onDragOver:up,onDrop:dp,onDragEnd:hp,dragOverId:D,dragOverPosition:I,draggedId:g,onNavigateToMaster:Qc,teamMembers:Ce},y.id))]}),(S==="day"||S==="week")&&!re&&i.jsx("div",{className:"resize-handle",onMouseDown:pp}),(S==="day"||S==="week")&&i.jsx(dy,{currentDate:ln(new Date,f),onPromoteToTask:Sp,style:re?void 0:{width:Z}})]}),m==="team"&&i.jsx(Gv,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,timeRange:S,teamMembers:Ce,teams:gn,featureTree:_t,selectedTeamId:Q,onTeamChange:q,onSelect:y=>e.select(y),onDoubleClick:pl,onContextMenu:ml,onUpdate:(y,N)=>e.updateItem(y,N),onReorderTeamMembers:yp}),m==="timeline"&&i.jsx(qv,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,timeRange:S,periodOffset:f,teamMembers:Ce,teams:gn,onSelect:y=>e.select(y),onDoubleClick:pl,onContextMenu:ml,onUpdate:(y,N)=>e.updateItem(y,N)}),m==="bugs"&&i.jsx(ry,{todos:t,selectedId:l,selectedIds:o,showCompleted:d,onSelect:y=>e.select(y),onDoubleClick:pl,onContextMenu:ml,onUpdate:(y,N)=>e.updateItem(y,N)}),m==="analytics"&&i.jsx(oy,{todos:t,teamMembers:Ce,showCompleted:d}),m==="features"&&i.jsx(yy,{featureTree:_t,teamMembers:Ce,onUpdateNode:xp,onAddNode:wp,onDeleteNode:kp}),m==="people"&&i.jsx(wy,{people:Ce}),v&&Yc&&(m==="personal"||m==="timeline")&&i.jsx(Lv,{todo:Yc,onUpdate:(y,N)=>{if(typeof y=="string"&&y.includes(":")){const[O,A]=y.split(":"),M=Qe(O,t);if(M){const J={...M.instances||{}};J[A]={...J[A]||{},...N},e.updateItem(O,{instances:J})}return}e.updateItem(y,N)},onClose:()=>T(!1),style:{width:Z},teamMembers:Ce,featureOptions:us,onNavigateToMaster:Qc})]}),R&&i.jsx(Uv,{x:R.x,y:R.y,todo:R.todo,onClose:()=>z(null),onToggleRange:gp,onMoveToRange:vp}),Wt&&i.jsx("footer",{className:"footer",children:i.jsxs("div",{className:"quick-entry",children:[i.jsx("input",{ref:lt,placeholder:"Quick add... (or press any key)",value:x,onChange:y=>p(y.target.value),onKeyDown:y=>{y.key==="Enter"||y.key==="Enter"&&y.shiftKey||y.key}}),i.jsxs("button",{onClick:()=>Uc(x),children:[i.jsx(Vn,{size:16})," Add"]})]})}),i.jsx(fy,{isOpen:ae,onClose:()=>V(!1)})]})}function by(){return i.jsx(ky,{children:i.jsx("div",{className:"app-root",children:i.jsx(Py,{})})})}Ah(document.getElementById("root")).render(i.jsx(Id.StrictMode,{children:i.jsx(by,{})}));
//# sourceMappingURL=index-BBAm8cR2.js.map</script>
    <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap";:root{--bg-primary: #0a0e14;--bg-secondary: #14181f;--bg-tertiary: #1c2128;--bg-hover: #242a33;--border-color: #2d333b;--text-primary: #e6edf3;--text-secondary: #8b949e;--text-tertiary: #6e7681;--accent-blue: #4493f8;--accent-green: #3fb950;--accent-orange: #fb8500;--accent-red: #f85149}*{margin:0;padding:0;box-sizing:border-box}body,html,#root{height:100%}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);overflow:hidden}.todo-shell{display:flex;flex-direction:column;height:100vh;background:var(--bg-primary)}.header{display:flex;align-items:center;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);box-shadow:0 1px 3px #0000004d}.header h1{font-size:18px;font-weight:600;white-space:nowrap}.header-right{display:flex;align-items:center;gap:12px;margin-left:auto}.settings-button{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:8px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .15s}.settings-button:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.mode-selector{position:relative}.mode-selector-button{display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);cursor:pointer;font-size:13px;font-weight:500;transition:all .15s;white-space:nowrap}.mode-selector-button:hover{background:var(--bg-hover);border-color:var(--accent-blue)}.mode-icon{font-size:14px}.mode-label{font-size:13px}.mode-dropdown{position:absolute;top:calc(100% + 4px);left:0;z-index:100;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:160px;overflow:hidden}.mode-option{display:flex;align-items:center;gap:8px;padding:10px 12px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;text-align:left;transition:all .15s}.mode-option:hover{background:var(--bg-hover)}.mode-option.active{background:#4493f826;color:var(--accent-blue)}.mode-option-icon{font-size:16px}.mode-option-label{flex:1;font-weight:500}.stress-meter{padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.stress-header{display:flex;align-items:center;gap:8px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.stress-bar-bg{height:6px;background:var(--bg-tertiary);border-radius:100px;overflow:hidden;box-shadow:inset 0 1px 2px #0000004d}.stress-bar-fill{height:100%;transition:width .3s ease,background .3s ease;border-radius:100px}.stress-message{font-size:12px;color:var(--text-secondary);margin-top:6px}.time-range-tabs{display:flex;gap:8px;flex:1;justify-content:center;overflow-x:auto;align-items:center}.time-range-navigation{display:flex;align-items:center;gap:4px;padding:4px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.nav-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px 8px;font-size:16px;font-weight:600;border-radius:4px;transition:all .15s;line-height:1}.nav-button:hover{background:var(--bg-hover);color:var(--text-primary)}.nav-today{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:4px 10px;font-size:11px;font-weight:500;border-radius:4px;transition:all .15s;white-space:nowrap;min-width:100px;text-align:center}.nav-today:hover:not(:disabled){background:var(--bg-hover);color:var(--accent-blue)}.nav-today:disabled{cursor:default;opacity:.7}.time-tab{display:flex;align-items:center;gap:4px;padding:6px 10px;border-radius:6px;border:1px solid transparent;background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;transition:all .15s;white-space:nowrap}.time-tab:hover{background:var(--bg-hover);color:var(--text-primary)}.time-tab.active{background:var(--bg-tertiary);border-color:var(--accent-blue);color:var(--text-primary)}.time-tab.drag-over{background:#3fb95033;border-color:var(--accent-green);color:var(--text-primary);transform:scale(1.05)}.tab-emoji{font-size:13px}.tab-label{font-size:11px}.footer{padding:12px 24px;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.quick-entry{display:flex;gap:6px;width:100%}.quick-entry input{flex:1;padding:8px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px}.quick-entry input::placeholder{color:var(--text-tertiary)}.quick-entry button{display:flex;align-items:center;gap:4px;padding:8px 12px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px}.quick-entry button:hover{opacity:.9}.main{display:flex;flex:1;overflow:hidden;position:relative}.list{flex:1;overflow-y:auto;padding:12px 16px;background:var(--bg-primary)}.detail-panel{border-left:1px solid var(--border-color);padding:12px;background:var(--bg-primary);overflow-y:auto;position:absolute;right:0;top:0;bottom:0;z-index:10}.detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;margin-bottom:16px}.detail-header h2{font-size:15px;font-weight:600;word-break:break-word;flex:1}.close-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px}.close-btn:hover{color:var(--text-primary)}.detail-backend{margin-bottom:16px}.backend-badge{display:inline-flex;align-items:center;gap:4px;font-size:12px;padding:4px 8px;border-radius:4px;background:var(--bg-tertiary);color:var(--text-secondary)}.detail-section{margin-bottom:16px}.detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.detail-input,.detail-textarea{width:100%;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;font-family:inherit}.detail-input::placeholder,.detail-textarea::placeholder{color:var(--text-tertiary)}.detail-textarea{resize:vertical}.detail-input-inline{padding:4px 8px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:12px}.workdays-only-toggle{display:flex;align-items:center;gap:8px;margin-top:8px;font-size:13px;color:var(--text-secondary);cursor:pointer}.workdays-only-toggle input[type=checkbox]{width:16px;height:16px;cursor:pointer}.workdays-only-toggle span{-webkit-user-select:none;user-select:none}.tag-input{display:flex;flex-wrap:wrap;gap:4px;padding:4px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.tag-input input{flex:1;min-width:60px;border:none;background:transparent;color:var(--text-primary);font-size:12px}.tag{display:inline-flex;align-items:center;gap:4px;font-size:11px;padding:3px 6px;border-radius:3px;background:var(--bg-secondary);color:var(--text-secondary)}.tag.editable button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0 2px}.tag.editable button:hover{color:var(--text-primary)}.dependency-tag{background:var(--bg-hover);color:var(--accent-blue);font-family:Monaco,Menlo,monospace;font-weight:600}.attachment-btn,.add-assignee-btn,.comment-input{cursor:pointer}.attachment-btn:disabled,.add-assignee-btn:disabled,.comment-input:disabled{opacity:.5;cursor:not-allowed}.todo-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;background:var(--bg-secondary);cursor:grab;margin-bottom:4px;border:1px solid transparent;transition:all .15s;position:relative}.todo-item:active{cursor:grabbing}.todo-item:hover{background:var(--bg-hover);border-color:var(--border-color)}.todo-item.selected{background:var(--bg-tertiary);border-color:var(--accent-blue);box-shadow:inset 0 0 0 2px var(--accent-blue)}.todo-item.multi-selected{background:#4f81f526;border-color:var(--accent-blue);box-shadow:inset 0 0 0 1px var(--accent-blue)}.todo-item.drop-indicator-middle{background:#3fb95026;border-color:var(--accent-green);box-shadow:inset 0 0 0 2px var(--accent-green)}.todo-item.dragging{background:transparent;border:2px dashed var(--border-color);box-shadow:none}.todo-item.dragging *{visibility:hidden}.todo-item.completed{opacity:.6}.todo-item.completed .todo-title{text-decoration:line-through;color:var(--text-tertiary)}.expand-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;width:20px;height:20px}.expand-btn:hover{color:var(--text-primary)}.expand-spacer{width:20px}.task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);min-width:32px;text-align:right;font-family:Monaco,Menlo,monospace}.checkbox{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.checkbox:hover{color:var(--text-primary)}.backend-icon{font-size:14px}.todo-title{flex:1;font-size:13px;word-break:break-word}.dependency-indicator{display:flex;align-items:center;gap:3px;font-size:10px;color:var(--accent-blue);background:#4493f826;padding:2px 6px;border-radius:3px;white-space:nowrap;cursor:help}.tags{display:flex;gap:4px;flex-wrap:wrap}.due-date{display:flex;align-items:center;gap:3px;font-size:11px;color:var(--text-secondary);white-space:nowrap}.children{margin-top:2px}.empty{color:var(--text-secondary);text-align:center;padding:32px 16px;font-size:13px}.context-menu{position:fixed;z-index:1000;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:200px;overflow:hidden}.context-menu-header{padding:8px 12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.context-menu-items{padding:4px}.context-menu-item{display:flex;align-items:center;gap:8px;padding:8px 10px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;border-radius:4px;transition:all .15s;text-align:left}.context-menu-item:hover{background:var(--bg-hover)}.context-menu-item.active{background:#4493f826}.context-menu-icon{font-size:14px}.context-menu-label{flex:1}.context-menu-check{color:var(--accent-blue);display:flex;align-items:center}.context-menu-divider{height:1px;background:var(--border-color);margin:4px 0}.settings-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;z-index:1000}.settings-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;max-height:80vh;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 8px 24px #00000080;z-index:1001;display:flex;flex-direction:column}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-color)}.settings-header h2{font-size:18px;font-weight:600}.settings-content{flex:1;overflow-y:auto;padding:20px}.settings-section{margin-bottom:24px}.settings-section:last-child{margin-bottom:0}.settings-section h3{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-primary)}.settings-description{font-size:12px;color:var(--text-secondary);margin-bottom:12px}.backend-list{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.backend-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.backend-info{display:flex;align-items:center;gap:10px}.backend-item-icon{font-size:18px}.backend-item-name{font-size:13px;font-weight:500}.toggle-switch{position:relative;display:inline-block;width:44px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-primary);border:1px solid var(--border-color);transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:16px;width:16px;left:3px;bottom:3px;background-color:var(--text-secondary);transition:.3s;border-radius:50%}.toggle-switch input:checked+.toggle-slider{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch input:checked+.toggle-slider:before{transform:translate(20px);background-color:#fff}.add-service-btn{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:6px;border:1px dashed var(--border-color);background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;width:100%;justify-content:center;transition:all .15s}.add-service-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.add-service-btn:disabled{opacity:.5;cursor:not-allowed}.data-management-buttons{display:flex;gap:8px;flex-wrap:wrap}.data-management-buttons .add-service-btn{flex:1;min-width:120px;justify-content:center}.preference-item{padding:8px 0}.preference-item label{display:flex;align-items:center;gap:8px;font-size:13px;cursor:pointer}.preference-item input[type=checkbox]{width:16px;height:16px;cursor:pointer}.settings-footer{padding:16px 20px;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end}.settings-close-btn{padding:8px 16px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px;transition:opacity .15s}.settings-close-btn:hover{opacity:.9}.reorder-btn{background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;font-size:12px;transition:all .15s}.reorder-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.reorder-btn:disabled{opacity:.3;cursor:not-allowed}.team-view-sprint{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.team-selector-bar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.team-selector-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.team-selector-dropdown{padding:6px 12px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;cursor:pointer;min-width:200px}.team-selector-dropdown:hover{border-color:var(--accent-blue)}.team-selector-dropdown:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.team-columns-container{display:flex;gap:16px;padding:16px;overflow-x:auto;flex:1}.team-member-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;cursor:grab;transition:all .15s}.team-member-column:active{cursor:grabbing}.team-member-column.drag-over{border-color:var(--accent-blue);transform:scale(1.02);box-shadow:0 4px 12px #4f81f54d}.team-member-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-radius:8px 8px 0 0}.team-member-info{display:flex;align-items:center;gap:12px;margin-bottom:8px}.team-member-avatar{font-size:28px}.team-member-details{flex:1}.team-member-name{font-size:14px;font-weight:600;color:var(--text-primary)}.team-capacity{font-size:11px;color:var(--text-secondary);font-weight:500;margin-top:2px}.team-capacity.over-capacity{color:#f59e0b;font-weight:600}.capacity-bar{height:6px;background:var(--bg-primary);border-radius:3px;overflow:hidden}.capacity-fill{height:100%;background:var(--accent-blue);transition:width .3s;border-radius:3px}.capacity-fill.over-capacity{background:#f59e0b}.team-tasks-container{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.team-empty-state{padding:24px;text-align:center;color:var(--text-secondary);font-size:12px}.task-drop-indicator{height:3px;background:var(--accent-green);margin:4px 0;border-radius:2px;box-shadow:0 0 6px var(--accent-green)}.team-task-box{position:relative;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:6px;overflow:hidden;cursor:pointer;transition:all .15s;min-height:60px}.team-task-box:hover{border-color:var(--accent-blue);transform:translate(2px);box-shadow:0 2px 8px #0000004d}.team-task-box.selected{border-color:var(--accent-blue);box-shadow:0 0 0 2px #4f81f54d}.team-task-box.completed{opacity:.6}.team-task-box.completed .task-title-text{text-decoration:line-through}.team-task-box.blocked{border-color:#f59e0b;background:#f59e0b0d}.task-progress-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,#3fb95033,#3fb9500d);border-top:2px solid rgba(63,185,80,.4);pointer-events:none;transition:height .3s}.task-content{position:relative;z-index:1;padding:8px 10px;display:flex;flex-direction:column;gap:6px;height:100%}.task-header-row{display:flex;align-items:center;justify-content:space-between}.task-id{font-size:9px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.task-blocked-icon{font-size:14px}.task-title-text{flex:1;font-size:12px;font-weight:500;color:var(--text-primary);line-height:1.3;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.task-footer-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.task-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-hover);padding:2px 6px;border-radius:3px;font-weight:600}.task-estimate.clickable{cursor:pointer;transition:all .15s}.task-estimate.clickable:hover{background:var(--accent-blue);color:#fff}.task-estimate-input{width:60px;font-size:10px;padding:2px 6px;background:var(--bg-primary);border:1px solid var(--accent-blue);border-radius:3px;color:var(--text-primary);font-weight:600}.task-estimate-input:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.task-days-remaining{font-size:10px;color:var(--accent-blue);font-weight:500}.task-days-remaining.overdue{color:#dc2626;font-weight:600}.condensed-team-view{flex:1;overflow-y:auto;padding:8px 0}.condensed-section{margin-bottom:4px}.condensed-section-content,.condensed-person-tasks,.condensed-feature-tasks{margin-left:0}.condensed-group-header{display:flex;align-items:center;gap:8px;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-group-header:hover{background:var(--bg-hover)}.condensed-expand-icon{display:flex;align-items:center;color:var(--text-secondary)}.condensed-group-icon{font-size:14px}.condensed-group-label{flex:1;font-size:13px;font-weight:500;color:var(--text-primary)}.condensed-group-stats{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 8px;border-radius:10px}.condensed-task-row{display:flex;align-items:center;gap:8px;padding:6px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-task-row:hover{background:var(--bg-hover)}.condensed-task-row.selected{background:#4493f826}.condensed-task-row.completed .condensed-task-title{text-decoration:line-through;color:var(--text-secondary)}.condensed-task-checkbox{display:flex;align-items:center}.condensed-task-checkbox input[type=checkbox]{width:14px;height:14px;cursor:pointer}.condensed-task-title{flex:1;font-size:13px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.condensed-task-meta{display:flex;align-items:center;gap:8px}.condensed-task-estimate{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:4px}.condensed-task-assignee{font-size:14px}.condensed-empty{padding:12px;font-size:12px;color:var(--text-secondary);font-style:italic}.timeline-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.timeline-header{display:flex;background:var(--bg-tertiary);border-bottom:2px solid var(--border-color);position:sticky;top:0;z-index:10}.timeline-task-column{width:250px;min-width:250px;padding:12px 16px;font-weight:600;font-size:12px;text-transform:uppercase;color:var(--text-secondary);border-right:1px solid var(--border-color)}.timeline-grid-header{flex:1;display:flex;overflow-x:auto}.timeline-date-cell{flex:1;min-width:80px;padding:8px;text-align:center;border-right:1px solid var(--border-color)}.timeline-date-day{font-size:10px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.timeline-date-num{font-size:14px;font-weight:600;color:var(--text-primary);margin-top:2px}.timeline-content{flex:1;overflow-y:auto;position:relative}.timeline-row{display:flex;height:42px;border-bottom:1px solid var(--border-color)}.timeline-task-name{width:250px;min-width:250px;padding:8px 16px;display:flex;align-items:center;gap:8px;background:var(--bg-secondary);border-right:1px solid var(--border-color);cursor:pointer;transition:all .15s;overflow:hidden}.timeline-task-name:hover{background:var(--bg-hover)}.timeline-task-name.selected{background:var(--bg-tertiary);border-right-color:var(--accent-blue)}.timeline-task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.timeline-task-title{flex:1;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:3px}.timeline-grid{flex:1;display:flex;position:relative}.timeline-grid-cell{flex:1;min-width:80px;border-right:1px solid rgba(255,255,255,.05)}.timeline-bar{position:absolute;top:6px;height:30px;background:var(--accent-blue);border-radius:4px;cursor:pointer;display:flex;align-items:center;padding:0 8px;transition:all .15s;box-shadow:0 2px 4px #0000004d}.timeline-bar:hover{opacity:.9;transform:translateY(-1px);box-shadow:0 3px 6px #0006}.timeline-bar.selected{outline:2px solid var(--accent-blue);outline-offset:2px}.timeline-bar.completed{background:var(--accent-green);opacity:.7}.timeline-bar-label{font-size:11px;font-weight:500;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-dependencies{z-index:1}.timeline-empty{padding:40px;text-align:center;color:var(--text-secondary);font-size:13px}.bug-view{display:flex;flex-direction:column;height:100%;overflow:hidden}.bug-filters{display:flex;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);align-items:center}.filter-group{display:flex;align-items:center;gap:8px}.filter-group label{font-size:12px;font-weight:500;color:var(--text-secondary);white-space:nowrap}.filter-group select{background:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-primary);padding:6px 10px;border-radius:4px;font-size:12px;cursor:pointer}.bug-stats{margin-left:auto;font-size:12px;color:var(--text-secondary);font-weight:500}.bug-columns{display:flex;gap:12px;padding:16px;overflow-x:auto;flex:1}.bug-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;max-height:100%}.bug-column-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-top:3px solid transparent;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center}.bug-column-header h3{font-size:13px;font-weight:600;color:var(--text-primary)}.bug-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600}.bug-column-content{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.bug-empty{padding:20px;text-align:center;color:var(--text-secondary);font-size:12px}.bug-card{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;padding:12px;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;gap:8px}.bug-card:hover{border-color:var(--accent-blue);transform:translateY(-1px);box-shadow:0 2px 8px #0000004d}.bug-card.selected{border-color:var(--accent-blue);background:#4f81f51a}.bug-card.completed{opacity:.6}.bug-card-header{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.bug-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.bug-priority{font-size:9px;font-weight:700;color:#fff;padding:2px 6px;border-radius:3px;text-transform:uppercase;letter-spacing:.5px}.bug-severity{font-size:9px;font-weight:600;padding:2px 6px;border-radius:3px;border:1px solid;text-transform:uppercase;letter-spacing:.5px;background:transparent}.bug-title{font-size:13px;font-weight:500;color:var(--text-primary);line-height:1.4}.bug-feature{font-size:11px;color:var(--text-secondary);background:var(--bg-hover);padding:3px 8px;border-radius:3px;display:inline-block;width:fit-content}.bug-card-footer{display:flex;justify-content:space-between;align-items:center;margin-top:4px}.bug-assignee{font-size:11px;color:var(--accent-blue);background:#4f81f526;padding:3px 8px;border-radius:3px;font-weight:500}.bug-auto-route{font-size:10px;color:var(--text-secondary);background:transparent;border:1px dashed var(--border-color);padding:3px 8px;border-radius:3px;cursor:pointer;transition:all .15s}.bug-auto-route:hover:not(:disabled){color:var(--accent-blue);border-color:var(--accent-blue);background:#4f81f51a}.bug-auto-route:disabled{opacity:.4;cursor:not-allowed}.bug-due{font-size:10px;color:var(--text-secondary);display:flex;align-items:center;gap:4px}@media (max-width: 900px){.detail-panel{display:none}}.personal-view-container{display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden}.personal-view-container.ghost-sidebar{flex-direction:row}.personal-view-container.ghost-sidebar .list{flex:1;overflow-y:auto}.personal-view-container.ghost-inline{overflow-y:auto}.personal-view-container.ghost-inline .list{flex:0 0 auto}.ghost-entries{padding:0 16px 16px;display:flex;flex-direction:column;gap:16px}.personal-view-container.ghost-sidebar .ghost-entries{flex-shrink:0;overflow-y:auto;padding:16px 8px 16px 16px;height:100%;box-sizing:border-box}.personal-view-container.ghost-inline .ghost-entries{flex:0 0 auto}.resize-handle{width:5px;flex-shrink:0;cursor:col-resize;background:var(--border-color);transition:background .15s}.resize-handle:hover,.resize-handle:active{background:var(--accent-blue)}body.resizing{-webkit-user-select:none;user-select:none;cursor:col-resize}.ghost-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;flex-shrink:0}.ghost-section-header{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.ghost-section-header.clickable{cursor:pointer;transition:background .15s}.ghost-section-header.clickable:hover{background:var(--bg-hover)}.ghost-section-icon{font-size:16px}.ghost-section-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1}.ghost-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}.expand-icon{color:var(--text-secondary);font-size:10px;margin-left:4px}.time-blocks-list{padding:8px;display:flex;flex-direction:column;gap:6px}.time-block-item{display:flex;align-items:center;gap:12px;padding:10px 12px;background:var(--bg-primary);border-left:3px solid var(--accent-blue);border-radius:6px;transition:all .15s}.time-block-item.active{background:#4493f81a;border-left-width:4px}.time-block-time{font-size:11px;color:var(--text-secondary);font-weight:600;white-space:nowrap;min-width:120px}.time-block-title{font-size:13px;color:var(--text-primary);flex:1}.time-block-badge{background:var(--accent-blue);color:#fff;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600;text-transform:uppercase}.ghost-items-list{padding:8px;display:flex;flex-direction:column;gap:6px}.ghost-item{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;padding:12px;transition:all .15s;border-left:3px solid var(--text-tertiary)}.ghost-item:hover{border-color:var(--accent-blue);background:var(--bg-hover)}.ghost-item.priority-high{border-left-color:#f85149}.ghost-item.priority-medium{border-left-color:#fb8500}.ghost-item.priority-low{border-left-color:var(--text-tertiary)}.ghost-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px;gap:12px}.ghost-item-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;display:flex;align-items:center;gap:6px}.unread-badge{color:var(--accent-blue);font-size:20px;line-height:1}.ghost-item-time{font-size:11px;color:var(--text-secondary);white-space:nowrap}.ghost-item-from{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-preview{font-size:12px;color:var(--text-secondary);margin-bottom:8px;line-height:1.4}.ghost-item-meta{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-action{font-size:11px;color:var(--accent-orange);font-weight:600;margin-bottom:8px}.ghost-item-actions{display:flex;gap:6px;margin-top:10px;padding-top:10px;border-top:1px solid var(--border-color)}.ghost-action-btn{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:500;cursor:pointer;transition:all .15s;border:1px solid var(--border-color);background:transparent;color:var(--text-secondary);text-decoration:none;display:inline-block}.ghost-action-btn:hover{color:var(--text-primary);border-color:var(--accent-blue);background:#4493f81a}.ghost-action-promote{color:var(--accent-green);border-color:var(--accent-green)}.ghost-action-promote:hover{background:#3fb9501a;border-color:var(--accent-green);color:var(--accent-green)}.ghost-action-dismiss{color:var(--text-tertiary)}.ghost-action-dismiss:hover{color:var(--accent-green);background:#3fb9500d}.ghost-action-open{color:var(--accent-blue)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.time-block-manager{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:600px;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #00000080}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border-color)}.modal-header h2{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.modal-content{padding:20px 24px;overflow-y:auto;flex:1}.modal-description{font-size:13px;color:var(--text-secondary);margin-bottom:20px;line-height:1.5}.time-block-list{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.empty-state{text-align:center;padding:40px 20px;color:var(--text-secondary);font-size:13px}.time-block-card{display:flex;align-items:stretch;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .15s}.time-block-card:hover{border-color:var(--accent-blue)}.time-block-color-bar{width:4px;flex-shrink:0}.time-block-info{flex:1;padding:12px 16px}.time-block-title-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.time-block-title-row h4{font-size:14px;font-weight:600;color:var(--text-primary);margin:0}.toggle-switch-small{position:relative;display:inline-block;width:36px;height:20px}.toggle-switch-small input{opacity:0;width:0;height:0}.toggle-slider-small{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-tertiary);transition:.2s;border-radius:20px;border:1px solid var(--border-color)}.toggle-slider-small:before{position:absolute;content:"";height:14px;width:14px;left:2px;bottom:2px;background-color:var(--text-secondary);transition:.2s;border-radius:50%}.toggle-switch-small input:checked+.toggle-slider-small{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch-small input:checked+.toggle-slider-small:before{transform:translate(16px);background-color:#fff}.time-block-time-display{font-size:12px;color:var(--text-secondary);font-weight:600;margin-bottom:4px}.time-block-recurrence{font-size:11px;color:var(--text-tertiary)}.time-block-days{color:var(--text-secondary)}.time-block-actions{display:flex;align-items:center;gap:8px;padding:12px 16px;border-left:1px solid var(--border-color)}.icon-btn{background:transparent;border:none;cursor:pointer;padding:4px 8px;font-size:14px;border-radius:4px;transition:all .15s}.icon-btn:hover{background:var(--bg-hover)}.create-block-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:var(--accent-blue);color:#fff;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s}.create-block-btn:hover{background:#4fa3ff}.time-block-editor{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:20px}.time-block-editor h3{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:20px}.form-group{margin-bottom:16px}.form-group label{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.form-group input[type=text],.form-group input[type=time],.form-group select{width:100%;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;transition:all .15s}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent-blue);background:var(--bg-tertiary)}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.weekday-picker{display:flex;gap:6px}.weekday-btn{flex:1;padding:8px 4px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}.weekday-btn:hover{border-color:var(--accent-blue);color:var(--text-primary)}.weekday-btn.selected{background:var(--accent-blue);border-color:var(--accent-blue);color:#fff}.color-picker{display:flex;gap:8px}.color-btn{width:32px;height:32px;border-radius:6px;border:2px solid transparent;cursor:pointer;transition:all .15s}.color-btn:hover{transform:scale(1.1)}.color-btn.selected{border-color:#fff;box-shadow:0 0 0 2px var(--bg-primary),0 0 0 4px var(--accent-blue)}.form-actions{display:flex;gap:10px;margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color)}.btn-secondary,.btn-primary{flex:1;padding:10px 20px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;border:none}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover{background:var(--bg-hover)}.btn-primary{background:var(--accent-blue);color:#fff}.btn-primary:hover{background:#4fa3ff}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.analytics-view{flex:1;overflow-y:auto;padding:24px}.analytics-tab-bar{display:flex;gap:4px;margin-bottom:24px;background:var(--bg-secondary);border-radius:8px;padding:4px;width:fit-content}.analytics-tab{padding:8px 20px;border:none;background:transparent;color:var(--text-secondary);font-size:13px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .15s}.analytics-tab:hover{color:var(--text-primary);background:var(--bg-hover)}.analytics-tab.active{background:var(--accent-blue);color:#fff}.analytics-content{display:flex;flex-direction:column;gap:24px}.analytics-cards{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.analytics-stat-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;text-align:center}.analytics-stat-value{font-size:28px;font-weight:700;color:var(--text-primary);line-height:1.2}.analytics-stat-label{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.analytics-stat-subtext{font-size:11px;color:var(--text-tertiary);margin-top:2px}.analytics-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px}.analytics-section-title{font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:16px}.analytics-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}.analytics-line-chart{width:100%;height:auto}.analytics-hbar-chart{display:flex;flex-direction:column;gap:10px}.analytics-hbar-row{display:flex;align-items:center;gap:12px}.analytics-hbar-label{font-size:12px;color:var(--text-secondary);min-width:100px;text-align:right;white-space:nowrap}.analytics-hbar-track{flex:1;height:20px;background:var(--bg-primary);border-radius:4px;overflow:hidden}.analytics-hbar-track.stacked{display:flex}.analytics-hbar-fill{height:100%;border-radius:4px;transition:width .3s ease}.analytics-hbar-value{font-size:12px;font-weight:600;color:var(--text-primary);min-width:32px}@media (max-width: 700px){.analytics-cards{grid-template-columns:repeat(2,1fr)}.analytics-grid{grid-template-columns:1fr}}.type-pill{font-size:10px;font-weight:600;padding:2px 6px;border-radius:4px;white-space:nowrap;text-transform:capitalize;flex-shrink:0}.type-pill.type-bug,.type-pill.type-issue{background:#f8514926;color:#f85149}.type-pill.type-feature{background:#3fb95026;color:#3fb950}.type-pill.type-assignment{background:#a371f726;color:#a371f7}.type-pill.type-chore{background:#3ddbd926;color:#3ddbd9}.assignee-count,.recurrence-badge{font-size:11px;color:var(--text-secondary);white-space:nowrap;flex-shrink:0}.assignee-checklist{display:flex;flex-direction:column;gap:6px;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.assignee-check-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;padding:4px;border-radius:4px;transition:background .1s}.assignee-check-row:hover{background:var(--bg-hover)}.assignee-check-row input[type=checkbox]{accent-color:var(--accent-blue)}.assignee-check-avatar{font-size:14px}.assignee-check-name{flex:1}.bug-completeness{display:flex;align-items:center;gap:10px;padding:10px 0;margin:4px 0 8px}.bug-completeness-bar{flex:1;height:4px;border-radius:2px;background:var(--bg-tertiary);overflow:hidden}.bug-completeness-fill{height:100%;border-radius:2px;background:var(--accent-green, #3fb950);transition:width .3s ease}.bug-completeness-label{font-size:11px;color:var(--text-muted);white-space:nowrap}.bug-field-header{display:flex;align-items:center;gap:6px}.bug-field-header.filled{color:var(--accent-green, #3fb950)}.bug-field-header.empty{color:var(--text-muted)}.bug-field-textarea{font-family:inherit;font-size:12px;line-height:1.5}.bug-attachment-zone{border:2px dashed var(--border-color);border-radius:8px;padding:20px;text-align:center;cursor:default;transition:border-color .15s,background .15s}.bug-attachment-zone:hover{border-color:var(--text-muted);background:var(--bg-tertiary)}.bug-attachment-placeholder{display:flex;flex-direction:column;align-items:center;gap:4px}.bug-attachment-icon{font-size:24px;opacity:.6}.bug-attachment-text{font-size:12px;color:var(--text-secondary)}.bug-attachment-hint{font-size:10px;color:var(--text-muted);font-style:italic}.bug-debug-textarea{font-family:SF Mono,Fira Code,Cascadia Code,monospace;font-size:11px;line-height:1.5;background:var(--bg-tertiary)}.todo-item.instance{border-left:3px solid var(--text-muted);background:var(--bg-tertiary);padding-left:9px}.todo-item.instance-chore{border-left-color:#3ddbd9}.todo-item.instance-assignment{border-left-color:#a371f7}.todo-item.master{border-left:3px solid transparent}.instance-context{font-size:11px;color:var(--text-muted);margin-left:6px;white-space:nowrap}.master-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--text-muted);font-size:12px;cursor:pointer;padding:1px 5px;margin-left:4px;transition:color .15s,border-color .15s;line-height:1}.master-link:hover{color:var(--accent-blue);border-color:var(--accent-blue)}.master-instance-count{font-size:10px;color:var(--text-muted);margin-left:8px;white-space:nowrap}.instance-banner{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;margin:0 0 8px;border-radius:6px;background:#4493f81a;border:1px solid rgba(68,147,248,.2)}.instance-banner-label{font-size:12px;color:var(--text-secondary)}.instance-banner-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--accent-blue);font-size:11px;cursor:pointer;padding:3px 8px;white-space:nowrap;transition:background .15s}.instance-banner-link:hover{background:var(--bg-hover)}.instance-list{display:flex;flex-direction:column;gap:2px;max-height:200px;overflow-y:auto;border:1px solid var(--border-color);border-radius:6px;padding:4px;background:var(--bg-tertiary)}.instance-list-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:12px;color:var(--text-primary)}.instance-list-row:hover{background:var(--bg-hover)}.instance-list-row.completed{color:var(--text-muted)}.instance-list-row.completed .instance-list-name{text-decoration:line-through}.instance-list-status{font-size:14px;width:18px;text-align:center;flex-shrink:0}.instance-list-row.completed .instance-list-status{color:var(--accent-green, #3fb950)}.instance-list-avatar{font-size:14px;flex-shrink:0}.instance-list-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-notes{font-size:10px;color:var(--text-muted);font-style:italic;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-empty{padding:12px;text-align:center;font-size:11px;color:var(--text-muted);font-style:italic}.tl-view{display:flex;flex-direction:column;flex:1;height:100%;width:100%;overflow:hidden;background:var(--bg-primary)}.tl-header-bar{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);gap:16px}.tl-zoom-presets{display:flex;gap:4px}.tl-zoom-btn{padding:4px 8px;font-size:11px;font-weight:500;color:var(--text-secondary);background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:pointer;transition:all .15s}.tl-zoom-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.tl-zoom-btn.active{background:var(--accent-color);color:#fff;border-color:var(--accent-color)}.tl-period-label{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;text-align:center}.tl-zoom-indicator{font-size:11px;color:var(--text-tertiary);min-width:80px;text-align:right}.tl-body{display:flex;flex:1;overflow:hidden}.tl-sidebar{flex-shrink:0;border-right:1px solid var(--border-color);background:var(--bg-secondary);overflow-y:auto}.tl-sidebar-header{display:flex;align-items:center;padding:0 16px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);background:var(--bg-tertiary)}.tl-sidebar-team{display:flex;align-items:center;gap:6px;padding:0 16px;font-size:13px;font-weight:600;color:var(--text-primary);background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);cursor:pointer;transition:background .1s}.tl-sidebar-team:hover{background:var(--bg-hover)}.tl-sidebar-member{display:flex;align-items:center;gap:8px;padding:0 16px 0 32px;font-size:12px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.tl-member-avatar{font-size:16px;flex-shrink:0}.tl-member-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tl-viewport{flex:1;overflow:hidden;position:relative;cursor:grab;-webkit-user-select:none;user-select:none}.tl-viewport.panning{cursor:grabbing}.tl-col-headers{position:relative;z-index:5;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-col-header{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0;position:absolute;top:0;bottom:0;border-right:1px solid rgba(45,51,59,.5);-webkit-user-select:none;user-select:none}.tl-col-header.weekend{background:#0000002e}.tl-col-day{font-size:9px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-num{font-size:12px;font-weight:600;color:var(--text-secondary);line-height:1;margin-top:2px}.tl-col-label{font-size:10px;font-weight:600;color:var(--text-secondary);white-space:nowrap}.tl-col-header.off-hours{background:#0000001a}.tl-col-day-label{font-size:8px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-hour{font-size:9px;color:var(--text-tertiary);line-height:1}.tl-col-hour.work-hour{color:var(--text-secondary);font-weight:500}.tl-rows{position:relative}.tl-grid-col{position:absolute;top:0;border-right:1px solid rgba(45,51,59,.35);pointer-events:none}.tl-grid-col.weekend{background:#0000001f;border-right-color:#2d333b80}.tl-grid-col.off-hours{background:#0000000d}.tl-time-block{position:absolute;top:0;pointer-events:none;z-index:1}.tl-time-block-meeting{background:repeating-linear-gradient(45deg,#58a6ff26,#58a6ff26 4px,#58a6ff14 4px,#58a6ff14 8px);border-left:2px solid rgba(88,166,255,.6);border-right:2px solid rgba(88,166,255,.6)}.tl-time-block-blocked{background:repeating-linear-gradient(45deg,#f851491f,#f851491f 4px,#f851490f 4px,#f851490f 8px);border-left:2px solid rgba(248,81,73,.5);border-right:2px solid rgba(248,81,73,.5)}.tl-time-block-focus{background:repeating-linear-gradient(45deg,#3fb9501f,#3fb9501f 4px,#3fb9500f 4px,#3fb9500f 8px);border-left:2px solid rgba(63,185,80,.5);border-right:2px solid rgba(63,185,80,.5)}.tl-time-block-label{position:sticky;left:8px;top:4px;display:block;font-size:10px;font-weight:500;color:var(--text-secondary);padding:2px 4px;background:var(--bg-secondary);border-radius:2px;opacity:.8}.tl-row{position:absolute;left:0;right:0;border-bottom:1px solid rgba(45,51,59,.35)}.tl-row.drag-target{background:#3fb95026;border-bottom:2px solid var(--accent-green)}.tl-team-row{background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-today-line{position:absolute;top:0;width:2px;background:var(--accent-red);z-index:3;pointer-events:none}.tl-today-label{position:absolute;top:-18px;left:50%;transform:translate(-50%);font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--accent-red);white-space:nowrap;background:var(--bg-tertiary);padding:1px 4px;border-radius:2px}.tl-dep-svg{position:absolute;top:0;left:0;pointer-events:none;z-index:2}.tl-bar{position:absolute;top:6px;height:28px;border-radius:4px;background:var(--accent-blue);display:flex;align-items:center;gap:4px;padding:0 6px;cursor:grab;transition:box-shadow .1s,opacity .1s;box-shadow:0 1px 3px #0000004d;z-index:1;overflow:hidden;min-width:8px}.tl-bar:hover{box-shadow:0 2px 6px #00000080;z-index:4}.tl-bar:active{cursor:grabbing}.tl-bar.selected{outline:2px solid #fff;outline-offset:1px;z-index:4}.tl-bar.completed{background:var(--accent-green);opacity:.6}.tl-bar.dragging{opacity:.85;box-shadow:0 4px 12px #00000080;z-index:10}.tl-bar.clipped-left{border-top-left-radius:0;border-bottom-left-radius:0;border-left:2px solid rgba(255,255,255,.3)}.tl-bar.clipped-right{border-top-right-radius:0;border-bottom-right-radius:0;border-right:2px solid rgba(255,255,255,.3)}.tl-bar.buffer{background:var(--accent-orange);opacity:.7;border-style:dashed;border-width:1px;border-color:#ffffff4d}.tl-bar.buffer:hover{opacity:.85}.tl-bar-label{font-size:11px;font-weight:500;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0;text-shadow:0 1px 2px rgba(0,0,0,.3)}.tl-bar-est{font-size:9px;font-weight:700;color:#ffffffbf;white-space:nowrap;flex-shrink:0;background:#0003;padding:1px 4px;border-radius:3px}.tl-bar-handle{position:absolute;top:0;bottom:0;width:6px;cursor:col-resize;z-index:2;opacity:0;transition:opacity .1s}.tl-bar:hover .tl-bar-handle{opacity:1}.tl-bar-handle:after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:2px;height:14px;border-radius:1px;background:#fff9}.tl-bar-handle-left{left:0}.tl-bar-handle-left:after{left:2px}.tl-bar-handle-right{right:0}.tl-bar-handle-right:after{right:2px}.ft-view{display:flex;height:100%;overflow:hidden;background:var(--bg-primary)}.ft-tree-panel{width:320px;flex-shrink:0;border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.ft-tree-toolbar{padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);display:flex;gap:8px}.ft-tree-list{flex:1;overflow-y:auto;padding:8px 0}.ft-node{display:flex;align-items:center;gap:6px;padding:6px 12px;cursor:pointer;font-size:13px;color:var(--text-primary);transition:background .1s;-webkit-user-select:none;user-select:none}.ft-node:hover{background:var(--bg-hover)}.ft-node.selected{background:#4493f826;border-right:2px solid var(--accent-blue)}.ft-node-chevron{width:16px;flex-shrink:0;color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;cursor:pointer}.ft-node-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ft-node-badges{display:flex;align-items:center;gap:4px;flex-shrink:0}.ft-node-member-count{font-size:11px;color:var(--text-tertiary);background:var(--bg-tertiary);padding:1px 6px;border-radius:8px}.ft-node-oncall{font-size:14px}.ft-node-add-child{opacity:0;transition:opacity .1s;background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:flex;align-items:center}.ft-node-add-child:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-node:hover .ft-node-add-child{opacity:1}.ft-detail-panel{flex:1;overflow-y:auto;padding:20px 24px}.ft-empty-detail{display:flex;align-items:center;justify-content:center}.ft-detail-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.ft-detail-title{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.ft-detail-section{margin-bottom:20px}.ft-detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 8px}.ft-subsection{margin-top:12px}.ft-subsection h4{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;color:var(--text-tertiary);margin:0 0 6px}.ft-input{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none}.ft-input:focus{border-color:var(--accent-blue)}.ft-input-full{width:100%;box-sizing:border-box}.ft-textarea{width:100%;box-sizing:border-box;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:8px;resize:vertical;font-family:inherit;outline:none}.ft-textarea:focus{border-color:var(--accent-blue)}.ft-select{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none;cursor:pointer}.ft-select:focus{border-color:var(--accent-blue)}.ft-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ft-btn:hover{background:var(--bg-hover)}.ft-btn:disabled{opacity:.5;cursor:not-allowed}.ft-btn-sm{padding:4px 8px;font-size:11px}.ft-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ft-btn-danger:hover{background:#f8514926}.ft-btn-icon{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:inline-flex;align-items:center}.ft-btn-icon:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-toggle-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;margin-bottom:10px}.ft-toggle-row input[type=checkbox]{cursor:pointer}.ft-field-row{display:flex;align-items:center;gap:10px;margin-bottom:8px}.ft-field-label{font-size:12px;color:var(--text-secondary);min-width:80px}.ft-member-list{display:flex;flex-direction:column;gap:2px}.ft-member-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;cursor:pointer;font-size:13px;color:var(--text-secondary);transition:background .1s}.ft-member-row:hover{background:var(--bg-hover)}.ft-member-row.active{color:var(--text-primary)}.ft-member-row input[type=checkbox]{cursor:pointer}.ft-member-avatar{font-size:16px}.ft-member-name{flex:1}.ft-oncall-current{display:flex;align-items:center;gap:10px;padding:12px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-green, #3fb950);margin-bottom:12px}.ft-oncall-current-avatar{font-size:24px}.ft-oncall-current-label{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.ft-oncall-current-name{font-size:14px;font-weight:600;color:var(--text-primary)}.ft-oncall-order{display:flex;flex-direction:column;gap:4px;margin:8px 0}.ft-oncall-order-item{display:flex;align-items:center;gap:8px;padding:6px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;cursor:grab;font-size:13px;transition:background .1s}.ft-oncall-order-item:active{cursor:grabbing}.ft-oncall-order-item.dragging{opacity:.5}.ft-oncall-order-index{color:var(--text-tertiary);font-size:11px;width:16px;text-align:center}.ft-oncall-override{display:flex;gap:6px;align-items:center}.ft-oncall-override .ft-select,.ft-oncall-override .ft-input{flex:1}.ft-oncall-override-history{margin-top:8px}.ft-oncall-override-row{display:flex;align-items:center;gap:8px;padding:4px 0;font-size:12px;color:var(--text-secondary)}.ft-muted{color:var(--text-tertiary);font-size:12px;font-style:italic}.ft-schedule-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:6px}.ft-schedule-table th{text-align:left;padding:6px 8px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);font-weight:500}.ft-schedule-table td{padding:6px 8px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.ft-schedule-current td{background:#3fb9501a;font-weight:500;color:var(--accent-green, #3fb950)}.ft-empty{padding:40px 20px;text-align:center;color:var(--text-tertiary);font-size:13px}.ft-empty-icon{font-size:32px;margin-bottom:12px}.ft-node-resource-count{font-size:11px;color:var(--text-tertiary);background:#4493f826;padding:1px 5px;border-radius:8px}.ft-resource-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-resource-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-resource-row:hover{background:var(--bg-hover)}.ft-resource-icon{flex-shrink:0;font-size:14px}.ft-resource-label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-primary)}.ft-resource-link{color:var(--accent-blue, #4493f8);text-decoration:none}.ft-resource-link:hover{text-decoration:underline}.ft-resource-visibility{font-size:11px;padding:2px 6px;border-radius:4px;border:1px solid transparent;background:var(--bg-tertiary);color:var(--text-tertiary);cursor:pointer;outline:none}.ft-resource-visibility[data-visibility=public]{color:var(--text-tertiary);background:var(--bg-tertiary)}.ft-resource-visibility[data-visibility=team-only]{color:#d29922;background:#d299221f;border-color:#d299224d}.ft-resource-visibility[data-visibility=restricted]{color:#f85149;background:#f851491f;border-color:#f851494d}.ft-resource-add{display:flex;gap:6px;align-items:center;margin-top:8px;flex-wrap:wrap}.ft-resource-add .ft-input{flex:1;min-width:100px}.ft-select-sm{font-size:11px;padding:4px 6px}.ft-partner-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-partner-row{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-partner-row:hover{background:var(--bg-hover)}.ft-partner-link{flex:1;color:var(--accent-blue, #4493f8);cursor:pointer;font-weight:500}.ft-partner-link:hover{text-decoration:underline}.ft-partner-member-count{font-size:11px;color:var(--text-tertiary)}.ft-partner-add{display:flex;gap:6px;align-items:center;margin-top:8px}.ft-partner-add .ft-select{flex:1}.ppl-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary);padding:20px 24px}.ppl-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.ppl-title{font-size:20px;font-weight:600;color:var(--text-primary);margin:0}.ppl-stats{font-size:13px;color:var(--text-tertiary)}.ppl-content{flex:1;overflow-y:auto}.ppl-section{margin-bottom:24px}.ppl-section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 12px}.ppl-list{display:flex;flex-direction:column;gap:8px}.ppl-empty{padding:20px;text-align:center;color:var(--text-tertiary);font-size:13px;font-style:italic}.ppl-card{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;transition:background .1s}.ppl-card:hover{background:var(--bg-hover)}.ppl-card.disabled{opacity:.5}.ppl-card.system{background:var(--bg-tertiary);border-style:dashed}.ppl-card.editing{flex-wrap:wrap;gap:10px}.ppl-card.new{border-color:var(--accent-blue);border-style:dashed;background:#4493f80d}.ppl-card-avatar{font-size:28px;flex-shrink:0}.ppl-card-info{flex:1;min-width:0}.ppl-card-name{font-size:14px;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-email{font-size:12px;color:var(--text-tertiary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-badge{font-size:10px;padding:2px 6px;background:var(--bg-tertiary);color:var(--text-tertiary);border-radius:4px;text-transform:uppercase;letter-spacing:.3px;margin-top:4px;display:inline-block}.ppl-card-actions{display:flex;align-items:center;gap:6px;flex-shrink:0}.ppl-card-avatar-edit{position:relative}.ppl-avatar-btn{font-size:28px;background:var(--bg-tertiary);border:2px dashed var(--border-color);border-radius:8px;padding:4px 8px;cursor:pointer;transition:border-color .1s}.ppl-avatar-btn:hover{border-color:var(--accent-blue)}.ppl-avatar-picker{position:absolute;top:100%;left:0;margin-top:4px;padding:8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000004d;display:grid;grid-template-columns:repeat(6,1fr);gap:4px;z-index:100}.ppl-avatar-option{font-size:20px;padding:4px;background:none;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .1s}.ppl-avatar-option:hover{background:var(--bg-hover)}.ppl-avatar-option.selected{border-color:var(--accent-blue);background:#4493f81a}.ppl-card-fields{flex:1;display:flex;flex-direction:column;gap:6px;min-width:200px}.ppl-input{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 10px;outline:none;width:100%;box-sizing:border-box}.ppl-input:focus{border-color:var(--accent-blue)}.ppl-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ppl-btn:hover{background:var(--bg-hover)}.ppl-btn:disabled{opacity:.5;cursor:not-allowed}.ppl-btn-sm{padding:4px 8px;font-size:11px}.ppl-btn-primary{background:var(--accent-blue, #4493f8);border-color:var(--accent-blue, #4493f8);color:#fff}.ppl-btn-primary:hover{background:#5ba3f8}.ppl-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ppl-btn-danger:hover{background:#f8514926}.ppl-toggle{font-size:11px;padding:4px 8px;border-radius:4px;border:none;cursor:pointer;font-weight:500}.ppl-toggle.on{background:#3fb95026;color:var(--accent-green, #3fb950)}.ppl-toggle.off{background:#f851491a;color:var(--accent-red, #f85149)}.ppl-add-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;font-size:13px;font-weight:500;border:2px dashed var(--border-color);border-radius:8px;background:transparent;color:var(--text-secondary);cursor:pointer;transition:all .1s}.ppl-add-btn:hover{border-color:var(--accent-blue);color:var(--accent-blue);background:#4493f80d}.ppl-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.ppl-modal{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 8px 24px #0006}.ppl-modal-title{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:12px}.ppl-modal-body{font-size:13px;color:var(--text-secondary);margin-bottom:16px;line-height:1.5}.ppl-modal-actions{display:flex;justify-content:flex-end;gap:8px}.auth-btn-container{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.auth-btn{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;border:1px solid transparent;transition:all .15s ease}.auth-btn-signin{background:#4285f4;color:#fff;border-color:#4285f4}.auth-btn-signin:hover{background:#3367d6;border-color:#3367d6}.auth-btn-signout{background:var(--bg-tertiary, #f5f5f5);color:var(--text-secondary, #666);border-color:var(--border-color, #ddd)}.auth-btn-signout:hover{background:var(--bg-hover, #eee)}.auth-btn-loading{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:wait}.auth-btn-disabled{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:not-allowed;opacity:.7}.auth-error{font-size:11px;color:var(--color-danger, #dc3545);max-width:200px}.sync-status{display:inline-flex;align-items:center}.sync-status-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:4px;font-size:12px;background:var(--bg-secondary, #f8f8f8);border:1px solid var(--border-color, #ddd);cursor:pointer;transition:all .15s ease}.sync-status-btn:hover{background:var(--bg-hover, #eee)}.sync-icon{font-size:14px}.sync-state-syncing .sync-icon{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sync-state-error{border-color:var(--color-danger, #dc3545);color:var(--color-danger, #dc3545)}.sync-state-offline{border-color:var(--color-warning, #ffc107);color:var(--text-muted, #666)}</style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Register Service Worker -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('SW registered:', reg.scope))
            .catch(err => console.log('SW registration failed:', err));
        });
      }
    </script>
  </body>
</html>
