<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Cross-platform task management with Google Drive sync" />
    <meta name="theme-color" content="#4F81F5" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="UQueue" />

    <title>UQueue - Task Manager</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json" />

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16.png" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />
    <script type="module" crossorigin>var Ua=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var C=(e,t,n)=>(Ua(e,t,"read from private field"),n?n.call(e):t.get(e)),K=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},te=(e,t,n,r)=>(Ua(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var _=(e,t,n)=>(Ua(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function sm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pf={exports:{}},Ea={},mf={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),lm=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),um=Symbol.for("react.context"),dm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),Au=Symbol.iterator;function mm(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,yf={};function Rs(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wf(){}wf.prototype=Rs.prototype;function $c(e,t,n){this.props=e,this.context=t,this.refs=yf,this.updater=n||gf}var Fc=$c.prototype=new wf;Fc.constructor=$c;vf(Fc,Rs.prototype);Fc.isPureReactComponent=!0;var zu=Array.isArray,xf=Object.prototype.hasOwnProperty,Bc={current:null},kf={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)xf.call(t,r)&&!kf.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),f=0;f<o;f++)c[f]=arguments[f+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Hl,type:e,key:l,ref:a,props:s,_owner:Bc.current}}function gm(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function vm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function Va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vm(""+e.key):t.toString(36)}function wi(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hl:case lm:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Va(a,0):r,zu(s)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),wi(s,t,n,"",function(f){return f})):s!=null&&(Hc(s)&&(s=gm(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace($u,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",zu(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Va(l,o);a+=wi(l,t,n,c,s)}else if(c=mm(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Va(l,o++),a+=wi(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zl(e,t,n){if(e==null)return e;var r=[],s=0;return wi(e,r,"","",function(l){return t.call(n,l,s++)}),r}function ym(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},xi={transition:null},wm={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Bc};me.Children={map:Zl,forEach:function(e,t,n){Zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zl(e,function(){t++}),t},toArray:function(e){return Zl(e,function(t){return t})||[]},only:function(e){if(!Hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Rs;me.Fragment=im;me.Profiler=om;me.PureComponent=$c;me.StrictMode=am;me.Suspense=fm;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vf({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Bc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)xf.call(t,c)&&!kf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var f=0;f<c;f++)o[f]=arguments[f+2];r.children=o}return{$$typeof:Hl,type:e.type,key:s,ref:l,props:r,_owner:a}};me.createContext=function(e){return e={$$typeof:um,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cm,_context:e},e.Consumer=e};me.createElement=Sf;me.createFactory=function(e){var t=Sf.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:dm,render:e}};me.isValidElement=Hc;me.lazy=function(e){return{$$typeof:pm,_payload:{_status:-1,_result:e},_init:ym}};me.memo=function(e,t){return{$$typeof:hm,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(e,t){return xt.current.useCallback(e,t)};me.useContext=function(e){return xt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};me.useEffect=function(e,t){return xt.current.useEffect(e,t)};me.useId=function(){return xt.current.useId()};me.useImperativeHandle=function(e,t,n){return xt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return xt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return xt.current.useReducer(e,t,n)};me.useRef=function(e){return xt.current.useRef(e)};me.useState=function(e){return xt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return xt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return xt.current.useTransition()};me.version="18.2.0";mf.exports=me;var k=mf.exports;const jf=sm(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=k,km=Symbol.for("react.element"),Sm=Symbol.for("react.fragment"),jm=Object.prototype.hasOwnProperty,Dm=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nm={key:!0,ref:!0,__self:!0,__source:!0};function Df(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)jm.call(t,r)&&!Nm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:km,type:e,key:l,ref:a,props:s,_owner:Dm.current}}Ea.Fragment=Sm;Ea.jsx=Df;Ea.jsxs=Df;pf.exports=Ea;var i=pf.exports,Nf={exports:{}},At={},Ef={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ne){var L=G.length;G.push(ne);e:for(;0<L;){var oe=L-1>>>1,ue=G[oe];if(0<s(ue,ne))G[oe]=ne,G[L]=ue,L=oe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],L=G.pop();if(L!==ne){G[0]=L;e:for(var oe=0,ue=G.length,be=ue>>>1;oe<be;){var Ie=2*(oe+1)-1,ke=G[Ie],Oe=Ie+1,J=G[Oe];if(0>s(ke,L))Oe<ue&&0>s(J,ke)?(G[oe]=J,G[Oe]=L,oe=Oe):(G[oe]=ke,G[Ie]=L,oe=Ie);else if(Oe<ue&&0>s(J,L))G[oe]=J,G[Oe]=L,oe=Oe;else break e}}return ne}function s(G,ne){var L=G.sortIndex-ne.sortIndex;return L!==0?L:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],f=[],p=1,v=null,d=3,m=!1,E=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(G){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=G)r(f),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(f)}}function y(G){if(S=!1,g(G),!E)if(n(c)!==null)E=!0,Me(N);else{var ne=n(f);ne!==null&&Ee(y,ne.startTime-G)}}function N(G,ne){E=!1,S&&(S=!1,h(A),A=-1),m=!0;var L=d;try{for(g(ne),v=n(c);v!==null&&(!(v.expirationTime>ne)||G&&!D());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,d=v.priorityLevel;var ue=oe(v.expirationTime<=ne);ne=e.unstable_now(),typeof ue=="function"?v.callback=ue:v===n(c)&&r(c),g(ne)}else r(c);v=n(c)}if(v!==null)var be=!0;else{var Ie=n(f);Ie!==null&&Ee(y,Ie.startTime-ne),be=!1}return be}finally{v=null,d=L,m=!1}}var b=!1,I=null,A=-1,F=5,ee=-1;function D(){return!(e.unstable_now()-ee<F)}function Q(){if(I!==null){var G=e.unstable_now();ee=G;var ne=!0;try{ne=I(!0,G)}finally{ne?he():(b=!1,I=null)}}else b=!1}var he;if(typeof u=="function")he=function(){u(Q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ue=ie.port2;ie.port1.onmessage=Q,he=function(){Ue.postMessage(null)}}else he=function(){j(Q,0)};function Me(G){I=G,b||(b=!0,he())}function Ee(G,ne){A=j(function(){G(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){E||m||(E=!0,Me(N))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(d){case 1:case 2:case 3:var ne=3;break;default:ne=d}var L=d;d=ne;try{return G()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var L=d;d=G;try{return ne()}finally{d=L}},e.unstable_scheduleCallback=function(G,ne,L){var oe=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?oe+L:oe):L=oe,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=L+ue,G={id:p++,callback:ne,priorityLevel:G,startTime:L,expirationTime:ue,sortIndex:-1},L>oe?(G.sortIndex=L,t(f,G),n(c)===null&&G===n(f)&&(S?(h(A),A=-1):S=!0,Ee(y,L-oe))):(G.sortIndex=ue,t(c,G),E||m||(E=!0,Me(N))),G},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(G){var ne=d;return function(){var L=d;d=ne;try{return G.apply(this,arguments)}finally{d=L}}}})(Cf);Ef.exports=Cf;var Em=Ef.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=k,Rt=Em;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,gl={};function Br(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(gl[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,Cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fu={},Bu={};function Tm(e){return Mo.call(Bu,e)?!0:Mo.call(Fu,e)?!1:Cm.test(e)?Bu[e]=!0:(Fu[e]=!0,!1)}function bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pm(e,t,n,r){if(t===null||typeof t>"u"||bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Uc);at[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Uc);at[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Uc);at[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,n,r){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pm(t,n,s,r)&&(n=null),r||s===null?Tm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rn=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Gc=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),If=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Of=Symbol.for("react.offscreen"),Hu=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,Ga;function tl(e){if(Ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var Ya=!1;function Qa(e,t){if(!e||Ya)return"";Ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,o=l.length-1;1<=a&&0<=o&&s[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==l[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Ya=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function Im(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=Qa(e.type,!1),e;case 11:return e=Qa(e.type.render,!1),e;case 1:return e=Qa(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Qr:return"Portal";case Ro:return"Profiler";case Gc:return"StrictMode";case Ao:return"Suspense";case zo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case If:return(e.displayName||"Context")+".Consumer";case Pf:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qc:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function Om(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===Gc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _m(e){var t=_f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){e._valueTracker||(e._valueTracker=_m(e))}function Lf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_f(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fo(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mf(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function Bo(e,t){Mf(e,t);var n=hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ho(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ho(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ho(e,t,n){(t!=="number"||Fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(nl(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hr(n)}}function Rf(e,t){var n=hr(t.value),r=hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Af(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Af(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,zf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lm=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(e){Lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),al[t]=al[e]})});function $f(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||al.hasOwnProperty(e)&&al[e]?(""+t).trim():t+"px"}function Ff(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$f(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mm=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(Mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yo=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,as=null,os=null;function Yu(e){if(e=Vl(e)){if(typeof Qo!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ia(t),Qo(e.stateNode,e.type,t))}}function Bf(e){as?os?os.push(e):os=[e]:as=e}function Hf(){if(as){var e=as,t=os;if(os=as=null,Yu(e),t)for(e=0;e<t.length;e++)Yu(t[e])}}function Wf(e,t){return e(t)}function Uf(){}var Ka=!1;function Vf(e,t,n){if(Ka)return e(t,n);Ka=!0;try{return Wf(e,t,n)}finally{Ka=!1,(as!==null||os!==null)&&(Uf(),Hf())}}function yl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ko=!1;if(In)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Ko=!1}function Rm(e,t,n,r,s,l,a,o,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var ol=!1,Bi=null,Hi=!1,Xo=null,Am={onError:function(e){ol=!0,Bi=e}};function zm(e,t,n,r,s,l,a,o,c){ol=!1,Bi=null,Rm.apply(Am,arguments)}function $m(e,t,n,r,s,l,a,o,c){if(zm.apply(this,arguments),ol){if(ol){var f=Bi;ol=!1,Bi=null}else throw Error(U(198));Hi||(Hi=!0,Xo=f)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qu(e){if(Hr(e)!==e)throw Error(U(188))}function Fm(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Qu(s),e;if(l===r)return Qu(s),t;l=l.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Yf(e){return e=Fm(e),e!==null?Qf(e):null}function Qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qf(e);if(t!==null)return t;e=e.sibling}return null}var Kf=Rt.unstable_scheduleCallback,Ku=Rt.unstable_cancelCallback,Bm=Rt.unstable_shouldYield,Hm=Rt.unstable_requestPaint,Ge=Rt.unstable_now,Wm=Rt.unstable_getCurrentPriorityLevel,Xc=Rt.unstable_ImmediatePriority,Xf=Rt.unstable_UserBlockingPriority,Wi=Rt.unstable_NormalPriority,Um=Rt.unstable_LowPriority,Zf=Rt.unstable_IdlePriority,Ca=null,vn=null;function Vm(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Qm,Gm=Math.log,Ym=Math.LN2;function Qm(e){return e>>>=0,e===0?32:31-(Gm(e)/Ym|0)|0}var ti=64,ni=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=rl(o):(l&=a,l!==0&&(r=rl(l)))}else a=n&~s,a!==0?r=rl(a):l!==0&&(r=rl(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),s=1<<n,r|=e[n],t&=~s;return r}function Km(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-rn(l),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=Km(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Zo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jf(){var e=ti;return ti<<=1,!(ti&4194240)&&(ti=64),e}function Xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function Zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rn(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Zc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function qf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eh,Jc,th,nh,rh,Jo=!1,ri=[],lr=null,ir=null,ar=null,wl=new Map,xl=new Map,Yn=[],Jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function Ys(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Vl(t),t!==null&&Jc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qm(e,t,n,r,s){switch(t){case"focusin":return lr=Ys(lr,e,t,n,r,s),!0;case"dragenter":return ir=Ys(ir,e,t,n,r,s),!0;case"mouseover":return ar=Ys(ar,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return wl.set(l,Ys(wl.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,xl.set(l,Ys(xl.get(l)||null,e,t,n,r,s)),!0}return!1}function sh(e){var t=jr(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=Gf(n),t!==null){e.blockedOn=t,rh(e.priority,function(){th(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yo=r,n.target.dispatchEvent(r),Yo=null}else return t=Vl(n),t!==null&&Jc(t),e.blockedOn=n,!1;t.shift()}return!0}function Zu(e,t,n){ki(e)&&n.delete(t)}function eg(){Jo=!1,lr!==null&&ki(lr)&&(lr=null),ir!==null&&ki(ir)&&(ir=null),ar!==null&&ki(ar)&&(ar=null),wl.forEach(Zu),xl.forEach(Zu)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,Jo||(Jo=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,eg)))}function kl(e){function t(s){return Qs(s,e)}if(0<ri.length){Qs(ri[0],e);for(var n=1;n<ri.length;n++){var r=ri[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lr!==null&&Qs(lr,e),ir!==null&&Qs(ir,e),ar!==null&&Qs(ar,e),wl.forEach(t),xl.forEach(t),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)sh(n),n.blockedOn===null&&Yn.shift()}var cs=Rn.ReactCurrentBatchConfig,Vi=!0;function tg(e,t,n,r){var s=De,l=cs.transition;cs.transition=null;try{De=1,qc(e,t,n,r)}finally{De=s,cs.transition=l}}function ng(e,t,n,r){var s=De,l=cs.transition;cs.transition=null;try{De=4,qc(e,t,n,r)}finally{De=s,cs.transition=l}}function qc(e,t,n,r){if(Vi){var s=qo(e,t,n,r);if(s===null)io(e,t,r,Gi,n),Xu(e,r);else if(qm(s,e,t,n,r))r.stopPropagation();else if(Xu(e,r),t&4&&-1<Jm.indexOf(e)){for(;s!==null;){var l=Vl(s);if(l!==null&&eh(l),l=qo(e,t,n,r),l===null&&io(e,t,r,Gi,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else io(e,t,r,null,n)}}var Gi=null;function qo(e,t,n,r){if(Gi=null,e=Kc(r),e=jr(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wm()){case Xc:return 1;case Xf:return 4;case Wi:case Um:return 16;case Zf:return 536870912;default:return 16}default:return 16}}var rr=null,eu=null,Si=null;function ih(){if(Si)return Si;var e,t=eu,n=t.length,r,s="value"in rr?rr.value:rr.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return Si=s.slice(e,1<r?1-r:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Ju(){return!1}function zt(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?si:Ju,this.isPropagationStopped=Ju,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=zt(As),Ul=Be({},As,{view:0,detail:0}),rg=zt(Ul),Za,Ja,Ks,Ta=Be({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(Za=e.screenX-Ks.screenX,Ja=e.screenY-Ks.screenY):Ja=Za=0,Ks=e),Za)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),qu=zt(Ta),sg=Be({},Ta,{dataTransfer:0}),lg=zt(sg),ig=Be({},Ul,{relatedTarget:0}),qa=zt(ig),ag=Be({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),og=zt(ag),cg=Be({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=zt(cg),dg=Be({},As,{data:0}),ed=zt(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function nu(){return mg}var gg=Be({},Ul,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=zt(gg),yg=Be({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=zt(yg),wg=Be({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),xg=zt(wg),kg=Be({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=zt(kg),jg=Be({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=zt(jg),Ng=[9,13,27,32],ru=In&&"CompositionEvent"in window,cl=null;In&&"documentMode"in document&&(cl=document.documentMode);var Eg=In&&"TextEvent"in window&&!cl,ah=In&&(!ru||cl&&8<cl&&11>=cl),nd=" ",rd=!1;function oh(e,t){switch(e){case"keyup":return Ng.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function Cg(e,t){switch(e){case"compositionend":return ch(t);case"keypress":return t.which!==32?null:(rd=!0,nd);case"textInput":return e=t.data,e===nd&&rd?null:e;default:return null}}function Tg(e,t){if(Xr)return e==="compositionend"||!ru&&oh(e,t)?(e=ih(),Si=eu=rr=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function uh(e,t,n,r){Bf(r),t=Yi(t,"onChange"),0<t.length&&(n=new tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ul=null,Sl=null;function Pg(e){kh(e,0)}function ba(e){var t=qr(e);if(Lf(t))return e}function Ig(e,t){if(e==="change")return t}var dh=!1;if(In){var eo;if(In){var to="oninput"in document;if(!to){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),to=typeof ld.oninput=="function"}eo=to}else eo=!1;dh=eo&&(!document.documentMode||9<document.documentMode)}function id(){ul&&(ul.detachEvent("onpropertychange",fh),Sl=ul=null)}function fh(e){if(e.propertyName==="value"&&ba(Sl)){var t=[];uh(t,Sl,e,Kc(e)),Vf(Pg,t)}}function Og(e,t,n){e==="focusin"?(id(),ul=t,Sl=n,ul.attachEvent("onpropertychange",fh)):e==="focusout"&&id()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Sl)}function Lg(e,t){if(e==="click")return ba(t)}function Mg(e,t){if(e==="input"||e==="change")return ba(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:Rg;function jl(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mo.call(t,s)||!ln(e[s],t[s]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var n=ad(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ad(n)}}function hh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(){for(var e=window,t=Fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fi(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ag(e){var t=ph(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hh(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=od(n,l);var a=od(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zg=In&&"documentMode"in document&&11>=document.documentMode,Zr=null,ec=null,dl=null,tc=!1;function cd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tc||Zr==null||Zr!==Fi(r)||(r=Zr,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&jl(dl,r)||(dl=r,r=Yi(ec,"onSelect"),0<r.length&&(t=new tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zr)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},no={},mh={};In&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Pa(e){if(no[e])return no[e];if(!Jr[e])return e;var t=Jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mh)return no[e]=t[n];return e}var gh=Pa("animationend"),vh=Pa("animationiteration"),yh=Pa("animationstart"),wh=Pa("transitionend"),xh=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){xh.set(e,t),Br(t,[e])}for(var ro=0;ro<ud.length;ro++){var so=ud[ro],$g=so.toLowerCase(),Fg=so[0].toUpperCase()+so.slice(1);mr($g,"on"+Fg)}mr(gh,"onAnimationEnd");mr(vh,"onAnimationIteration");mr(yh,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(wh,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function dd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$m(r,t,void 0,e),e.currentTarget=null}function kh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,f=o.currentTarget;if(o=o.listener,c!==l&&s.isPropagationStopped())break e;dd(s,o,f),l=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,f=o.currentTarget,o=o.listener,c!==l&&s.isPropagationStopped())break e;dd(s,o,f),l=c}}}if(Hi)throw e=Xo,Hi=!1,Xo=null,e}function _e(e,t){var n=t[ic];n===void 0&&(n=t[ic]=new Set);var r=e+"__bubble";n.has(r)||(Sh(t,e,2,!1),n.add(r))}function lo(e,t,n){var r=0;t&&(r|=4),Sh(n,e,r,t)}var ii="_reactListening"+Math.random().toString(36).slice(2);function Dl(e){if(!e[ii]){e[ii]=!0,bf.forEach(function(n){n!=="selectionchange"&&(Bg.has(n)||lo(n,!1,e),lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ii]||(t[ii]=!0,lo("selectionchange",!1,t))}}function Sh(e,t,n,r){switch(lh(t)){case 1:var s=tg;break;case 4:s=ng;break;default:s=qc}n=s.bind(null,t,n,e),s=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function io(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=jr(o),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}o=o.parentNode}}r=r.return}Vf(function(){var f=l,p=Kc(n),v=[];e:{var d=xh.get(e);if(d!==void 0){var m=tu,E=e;switch(e){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":m=vg;break;case"focusin":E="focus",m=qa;break;case"focusout":E="blur",m=qa;break;case"beforeblur":case"afterblur":m=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xg;break;case gh:case vh:case yh:m=og;break;case wh:m=Sg;break;case"scroll":m=rg;break;case"wheel":m=Dg;break;case"copy":case"cut":case"paste":m=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=td}var S=(t&4)!==0,j=!S&&e==="scroll",h=S?d!==null?d+"Capture":null:d;S=[];for(var u=f,g;u!==null;){g=u;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,h!==null&&(y=yl(u,h),y!=null&&S.push(Nl(u,y,g)))),j)break;u=u.return}0<S.length&&(d=new m(d,E,null,n,p),v.push({event:d,listeners:S}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Yo&&(E=n.relatedTarget||n.fromElement)&&(jr(E)||E[On]))break e;if((m||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=f,E=E?jr(E):null,E!==null&&(j=Hr(E),E!==j||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=f),m!==E)){if(S=qu,y="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=td,y="onPointerLeave",h="onPointerEnter",u="pointer"),j=m==null?d:qr(m),g=E==null?d:qr(E),d=new S(y,u+"leave",m,n,p),d.target=j,d.relatedTarget=g,y=null,jr(p)===f&&(S=new S(h,u+"enter",E,n,p),S.target=g,S.relatedTarget=j,y=S),j=y,m&&E)t:{for(S=m,h=E,u=0,g=S;g;g=Wr(g))u++;for(g=0,y=h;y;y=Wr(y))g++;for(;0<u-g;)S=Wr(S),u--;for(;0<g-u;)h=Wr(h),g--;for(;u--;){if(S===h||h!==null&&S===h.alternate)break t;S=Wr(S),h=Wr(h)}S=null}else S=null;m!==null&&fd(v,d,m,S,!1),E!==null&&j!==null&&fd(v,j,E,S,!0)}}e:{if(d=f?qr(f):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var N=Ig;else if(sd(d))if(dh)N=Mg;else{N=_g;var b=Og}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=Lg);if(N&&(N=N(e,f))){uh(v,N,n,p);break e}b&&b(e,d,f),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Ho(d,"number",d.value)}switch(b=f?qr(f):window,e){case"focusin":(sd(b)||b.contentEditable==="true")&&(Zr=b,ec=f,dl=null);break;case"focusout":dl=ec=Zr=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,cd(v,n,p);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":cd(v,n,p)}var I;if(ru)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xr?oh(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(ah&&n.locale!=="ko"&&(Xr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xr&&(I=ih()):(rr=p,eu="value"in rr?rr.value:rr.textContent,Xr=!0)),b=Yi(f,A),0<b.length&&(A=new ed(A,e,null,n,p),v.push({event:A,listeners:b}),I?A.data=I:(I=ch(n),I!==null&&(A.data=I)))),(I=Eg?Cg(e,n):Tg(e,n))&&(f=Yi(f,"onBeforeInput"),0<f.length&&(p=new ed("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:f}),p.data=I))}kh(v,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=yl(e,n),l!=null&&r.unshift(Nl(e,l,s)),l=yl(e,t),l!=null&&r.push(Nl(e,l,s))),e=e.return}return r}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fd(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,f=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&f!==null&&(o=f,s?(c=yl(n,l),c!=null&&a.unshift(Nl(n,c,o))):s||(c=yl(n,l),c!=null&&a.push(Nl(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Hg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace(Wg,"")}function ai(e,t,n){if(t=hd(t),hd(e)!==t&&n)throw Error(U(425))}function Qi(){}var nc=null,rc=null;function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lc=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(Gg)}:lc;function Gg(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),kl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kl(t)}function or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),mn="__reactFiber$"+zs,El="__reactProps$"+zs,On="__reactContainer$"+zs,ic="__reactEvents$"+zs,Yg="__reactListeners$"+zs,Qg="__reactHandles$"+zs;function jr(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=md(e);e!==null;){if(n=e[mn])return n;e=md(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){return e=e[mn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ia(e){return e[El]||null}var ac=[],es=-1;function gr(e){return{current:e}}function Le(e){0>es||(e.current=ac[es],ac[es]=null,es--)}function Pe(e,t){es++,ac[es]=e.current,e.current=t}var pr={},mt=gr(pr),Et=gr(!1),Rr=pr;function Ps(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(e){return e=e.childContextTypes,e!=null}function Ki(){Le(Et),Le(mt)}function gd(e,t,n){if(mt.current!==pr)throw Error(U(168));Pe(mt,t),Pe(Et,n)}function jh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,Om(e)||"Unknown",s));return Be({},n,r)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Rr=mt.current,Pe(mt,e),Pe(Et,Et.current),!0}function vd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=jh(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=e,Le(Et),Le(mt),Pe(mt,e)):Le(Et),Pe(Et,n)}var Nn=null,Oa=!1,oo=!1;function Dh(e){Nn===null?Nn=[e]:Nn.push(e)}function Kg(e){Oa=!0,Dh(e)}function vr(){if(!oo&&Nn!==null){oo=!0;var e=0,t=De;try{var n=Nn;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nn=null,Oa=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(e+1)),Kf(Xc,vr),s}finally{De=t,oo=!1}}return null}var ts=[],ns=0,Zi=null,Ji=0,Ht=[],Wt=0,Ar=null,Tn=1,bn="";function kr(e,t){ts[ns++]=Ji,ts[ns++]=Zi,Zi=e,Ji=t}function Nh(e,t,n){Ht[Wt++]=Tn,Ht[Wt++]=bn,Ht[Wt++]=Ar,Ar=e;var r=Tn;e=bn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var l=32-rn(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Tn=1<<32-rn(t)+s|n<<s|r,bn=l+e}else Tn=1<<l|n<<s|r,bn=e}function lu(e){e.return!==null&&(kr(e,1),Nh(e,1,0))}function iu(e){for(;e===Zi;)Zi=ts[--ns],ts[ns]=null,Ji=ts[--ns],ts[ns]=null;for(;e===Ar;)Ar=Ht[--Wt],Ht[Wt]=null,bn=Ht[--Wt],Ht[Wt]=null,Tn=Ht[--Wt],Ht[Wt]=null}var Mt=null,Lt=null,ze=!1,nn=null;function Eh(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:Tn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Lt=null,!0):!1;default:return!1}}function oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cc(e){if(ze){var t=Lt;if(t){var n=t;if(!yd(e,t)){if(oc(e))throw Error(U(418));t=or(n.nextSibling);var r=Mt;t&&yd(e,t)?Eh(r,n):(e.flags=e.flags&-4097|2,ze=!1,Mt=e)}}else{if(oc(e))throw Error(U(418));e.flags=e.flags&-4097|2,ze=!1,Mt=e}}}function wd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function oi(e){if(e!==Mt)return!1;if(!ze)return wd(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sc(e.type,e.memoizedProps)),t&&(t=Lt)){if(oc(e))throw Ch(),Error(U(418));for(;t;)Eh(e,t),t=or(t.nextSibling)}if(wd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Mt?or(e.stateNode.nextSibling):null;return!0}function Ch(){for(var e=Lt;e;)e=or(e.nextSibling)}function Is(){Lt=Mt=null,ze=!1}function au(e){nn===null?nn=[e]:nn.push(e)}var Xg=Rn.ReactCurrentBatchConfig;function Jt(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var qi=gr(null),ea=null,rs=null,ou=null;function cu(){ou=rs=ea=null}function uu(e){var t=qi.current;Le(qi),e._currentValue=t}function uc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){ea=e,ou=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(ou!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(ea===null)throw Error(U(308));rs=e,ea.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var Dr=null;function du(e){Dr===null?Dr=[e]:Dr.push(e)}function Th(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,du(t)):(n.next=s.next,s.next=n),t.interleaved=n,_n(e,r)}function _n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_n(e,n)}return s=r.interleaved,s===null?(t.next=t,du(r)):(t.next=s.next,s.next=t),r.interleaved=t,_n(e,n)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zc(e,n)}}function xd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ta(e,t,n,r){var s=e.updateQueue;Gn=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,f=c.next;c.next=null,a===null?l=f:a.next=f,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=f:o.next=f,p.lastBaseUpdate=c))}if(l!==null){var v=s.baseState;a=0,p=f=c=null,o=l;do{var d=o.lane,m=o.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var E=e,S=o;switch(d=t,m=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){v=E.call(m,v,d);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,d=typeof E=="function"?E.call(m,v,d):E,d==null)break e;v=Be({},v,d);break e;case 2:Gn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(f=p=m,c=v):p=p.next=m,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(p===null&&(c=v),s.baseState=c,s.firstBaseUpdate=f,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);$r|=a,e.lanes=a,e.memoizedState=v}}function kd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Ph=new Tf.Component().refs;function dc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _a={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),s=dr(e),l=Pn(r,s);l.payload=t,n!=null&&(l.callback=n),t=cr(e,l,s),t!==null&&(sn(t,e,s,r),Di(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),s=dr(e),l=Pn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=cr(e,l,s),t!==null&&(sn(t,e,s,r),Di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=dr(e),s=Pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=cr(e,s,r),t!==null&&(sn(t,e,r,n),Di(t,e,r))}};function Sd(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!jl(n,r)||!jl(s,l):!0}function Ih(e,t,n){var r=!1,s=pr,l=t.contextType;return typeof l=="object"&&l!==null?l=Gt(l):(s=Ct(t)?Rr:mt.current,r=t.contextTypes,l=(r=r!=null)?Ps(e,s):pr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function jd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function fc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Ph,fu(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Gt(l):(l=Ct(t)?Rr:mt.current,s.context=Ps(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(dc(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_a.enqueueReplaceState(s,s.state,null),ta(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=s.refs;o===Ph&&(o=s.refs={}),a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dd(e){var t=e._init;return t(e._payload)}function Oh(e){function t(h,u){if(e){var g=h.deletions;g===null?(h.deletions=[u],h.flags|=16):g.push(u)}}function n(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function r(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function s(h,u){return h=fr(h,u),h.index=0,h.sibling=null,h}function l(h,u,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<u?(h.flags|=2,u):g):(h.flags|=2,u)):(h.flags|=1048576,u)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,u,g,y){return u===null||u.tag!==6?(u=go(g,h.mode,y),u.return=h,u):(u=s(u,g),u.return=h,u)}function c(h,u,g,y){var N=g.type;return N===Kr?p(h,u,g.props.children,y,g.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&Dd(N)===u.type)?(y=s(u,g.props),y.ref=Xs(h,u,g),y.return=h,y):(y=Pi(g.type,g.key,g.props,null,h.mode,y),y.ref=Xs(h,u,g),y.return=h,y)}function f(h,u,g,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==g.containerInfo||u.stateNode.implementation!==g.implementation?(u=vo(g,h.mode,y),u.return=h,u):(u=s(u,g.children||[]),u.return=h,u)}function p(h,u,g,y,N){return u===null||u.tag!==7?(u=Mr(g,h.mode,y,N),u.return=h,u):(u=s(u,g),u.return=h,u)}function v(h,u,g){if(typeof u=="string"&&u!==""||typeof u=="number")return u=go(""+u,h.mode,g),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Jl:return g=Pi(u.type,u.key,u.props,null,h.mode,g),g.ref=Xs(h,null,u),g.return=h,g;case Qr:return u=vo(u,h.mode,g),u.return=h,u;case Vn:var y=u._init;return v(h,y(u._payload),g)}if(nl(u)||Vs(u))return u=Mr(u,h.mode,g,null),u.return=h,u;ci(h,u)}return null}function d(h,u,g,y){var N=u!==null?u.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:o(h,u,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jl:return g.key===N?c(h,u,g,y):null;case Qr:return g.key===N?f(h,u,g,y):null;case Vn:return N=g._init,d(h,u,N(g._payload),y)}if(nl(g)||Vs(g))return N!==null?null:p(h,u,g,y,null);ci(h,g)}return null}function m(h,u,g,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(g)||null,o(u,h,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jl:return h=h.get(y.key===null?g:y.key)||null,c(u,h,y,N);case Qr:return h=h.get(y.key===null?g:y.key)||null,f(u,h,y,N);case Vn:var b=y._init;return m(h,u,g,b(y._payload),N)}if(nl(y)||Vs(y))return h=h.get(g)||null,p(u,h,y,N,null);ci(u,y)}return null}function E(h,u,g,y){for(var N=null,b=null,I=u,A=u=0,F=null;I!==null&&A<g.length;A++){I.index>A?(F=I,I=null):F=I.sibling;var ee=d(h,I,g[A],y);if(ee===null){I===null&&(I=F);break}e&&I&&ee.alternate===null&&t(h,I),u=l(ee,u,A),b===null?N=ee:b.sibling=ee,b=ee,I=F}if(A===g.length)return n(h,I),ze&&kr(h,A),N;if(I===null){for(;A<g.length;A++)I=v(h,g[A],y),I!==null&&(u=l(I,u,A),b===null?N=I:b.sibling=I,b=I);return ze&&kr(h,A),N}for(I=r(h,I);A<g.length;A++)F=m(I,h,A,g[A],y),F!==null&&(e&&F.alternate!==null&&I.delete(F.key===null?A:F.key),u=l(F,u,A),b===null?N=F:b.sibling=F,b=F);return e&&I.forEach(function(D){return t(h,D)}),ze&&kr(h,A),N}function S(h,u,g,y){var N=Vs(g);if(typeof N!="function")throw Error(U(150));if(g=N.call(g),g==null)throw Error(U(151));for(var b=N=null,I=u,A=u=0,F=null,ee=g.next();I!==null&&!ee.done;A++,ee=g.next()){I.index>A?(F=I,I=null):F=I.sibling;var D=d(h,I,ee.value,y);if(D===null){I===null&&(I=F);break}e&&I&&D.alternate===null&&t(h,I),u=l(D,u,A),b===null?N=D:b.sibling=D,b=D,I=F}if(ee.done)return n(h,I),ze&&kr(h,A),N;if(I===null){for(;!ee.done;A++,ee=g.next())ee=v(h,ee.value,y),ee!==null&&(u=l(ee,u,A),b===null?N=ee:b.sibling=ee,b=ee);return ze&&kr(h,A),N}for(I=r(h,I);!ee.done;A++,ee=g.next())ee=m(I,h,A,ee.value,y),ee!==null&&(e&&ee.alternate!==null&&I.delete(ee.key===null?A:ee.key),u=l(ee,u,A),b===null?N=ee:b.sibling=ee,b=ee);return e&&I.forEach(function(Q){return t(h,Q)}),ze&&kr(h,A),N}function j(h,u,g,y){if(typeof g=="object"&&g!==null&&g.type===Kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Jl:e:{for(var N=g.key,b=u;b!==null;){if(b.key===N){if(N=g.type,N===Kr){if(b.tag===7){n(h,b.sibling),u=s(b,g.props.children),u.return=h,h=u;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Vn&&Dd(N)===b.type){n(h,b.sibling),u=s(b,g.props),u.ref=Xs(h,b,g),u.return=h,h=u;break e}n(h,b);break}else t(h,b);b=b.sibling}g.type===Kr?(u=Mr(g.props.children,h.mode,y,g.key),u.return=h,h=u):(y=Pi(g.type,g.key,g.props,null,h.mode,y),y.ref=Xs(h,u,g),y.return=h,h=y)}return a(h);case Qr:e:{for(b=g.key;u!==null;){if(u.key===b)if(u.tag===4&&u.stateNode.containerInfo===g.containerInfo&&u.stateNode.implementation===g.implementation){n(h,u.sibling),u=s(u,g.children||[]),u.return=h,h=u;break e}else{n(h,u);break}else t(h,u);u=u.sibling}u=vo(g,h.mode,y),u.return=h,h=u}return a(h);case Vn:return b=g._init,j(h,u,b(g._payload),y)}if(nl(g))return E(h,u,g,y);if(Vs(g))return S(h,u,g,y);ci(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,u!==null&&u.tag===6?(n(h,u.sibling),u=s(u,g),u.return=h,h=u):(n(h,u),u=go(g,h.mode,y),u.return=h,h=u),a(h)):n(h,u)}return j}var Os=Oh(!0),_h=Oh(!1),Gl={},yn=gr(Gl),Cl=gr(Gl),Tl=gr(Gl);function Nr(e){if(e===Gl)throw Error(U(174));return e}function hu(e,t){switch(Pe(Tl,t),Pe(Cl,e),Pe(yn,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uo(t,e)}Le(yn),Pe(yn,t)}function _s(){Le(yn),Le(Cl),Le(Tl)}function Lh(e){Nr(Tl.current);var t=Nr(yn.current),n=Uo(t,e.type);t!==n&&(Pe(Cl,e),Pe(yn,n))}function pu(e){Cl.current===e&&(Le(yn),Le(Cl))}var $e=gr(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function mu(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Ni=Rn.ReactCurrentDispatcher,uo=Rn.ReactCurrentBatchConfig,zr=0,Fe=null,Je=null,nt=null,ra=!1,fl=!1,bl=0,Zg=0;function ut(){throw Error(U(321))}function gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function vu(e,t,n,r,s,l){if(zr=l,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?tv:nv,e=n(r,s),fl){l=0;do{if(fl=!1,bl=0,25<=l)throw Error(U(301));l+=1,nt=Je=null,t.updateQueue=null,Ni.current=rv,e=n(r,s)}while(fl)}if(Ni.current=sa,t=Je!==null&&Je.next!==null,zr=0,nt=Je=Fe=null,ra=!1,t)throw Error(U(300));return e}function yu(){var e=bl!==0;return bl=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Fe.memoizedState=nt=e:nt=nt.next=e,nt}function Yt(){if(Je===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=nt===null?Fe.memoizedState:nt.next;if(t!==null)nt=t,Je=e;else{if(e===null)throw Error(U(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Fe.memoizedState=nt=e:nt=nt.next=e}return nt}function Pl(e,t){return typeof t=="function"?t(e):t}function fo(e){var t=Yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Je,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var o=a=null,c=null,f=l;do{var p=f.lane;if((zr&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var v={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(o=c=v,a=r):c=c.next=v,Fe.lanes|=p,$r|=p}f=f.next}while(f!==null&&f!==l);c===null?a=r:c.next=o,ln(r,t.memoizedState)||(Nt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Fe.lanes|=l,$r|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=Yt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);ln(l,t.memoizedState)||(Nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Mh(){}function Rh(e,t){var n=Fe,r=Yt(),s=t(),l=!ln(r.memoizedState,s);if(l&&(r.memoizedState=s,Nt=!0),r=r.queue,wu($h.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Il(9,zh.bind(null,n,r,s,t),void 0,null),rt===null)throw Error(U(349));zr&30||Ah(n,t,s)}return s}function Ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,r){t.value=n,t.getSnapshot=r,Fh(t)&&Bh(e)}function $h(e,t,n){return n(function(){Fh(t)&&Bh(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function Bh(e){var t=_n(e,1);t!==null&&sn(t,e,1,-1)}function Nd(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=ev.bind(null,Fe,e),[t.memoizedState,e]}function Il(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hh(){return Yt().memoizedState}function Ei(e,t,n,r){var s=on();Fe.flags|=e,s.memoizedState=Il(1|t,n,void 0,r===void 0?null:r)}function La(e,t,n,r){var s=Yt();r=r===void 0?null:r;var l=void 0;if(Je!==null){var a=Je.memoizedState;if(l=a.destroy,r!==null&&gu(r,a.deps)){s.memoizedState=Il(t,n,l,r);return}}Fe.flags|=e,s.memoizedState=Il(1|t,n,l,r)}function Ed(e,t){return Ei(8390656,8,e,t)}function wu(e,t){return La(2048,8,e,t)}function Wh(e,t){return La(4,2,e,t)}function Uh(e,t){return La(4,4,e,t)}function Vh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,n){return n=n!=null?n.concat([e]):null,La(4,4,Vh.bind(null,t,e),n)}function xu(){}function Yh(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qh(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kh(e,t,n){return zr&21?(ln(n,t)||(n=Jf(),Fe.lanes|=n,$r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=n)}function Jg(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{De=n,uo.transition=r}}function Xh(){return Yt().memoizedState}function qg(e,t,n){var r=dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zh(e))Jh(t,n);else if(n=Th(e,t,n,r),n!==null){var s=wt();sn(n,e,r,s),qh(n,t,r)}}function ev(e,t,n){var r=dr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))Jh(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,n);if(s.hasEagerState=!0,s.eagerState=o,ln(o,a)){var c=t.interleaved;c===null?(s.next=s,du(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Th(e,t,s,r),n!==null&&(s=wt(),sn(n,e,r,s),qh(n,t,r))}}function Zh(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Jh(e,t){fl=ra=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zc(e,n)}}var sa={readContext:Gt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},tv={readContext:Gt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,Vh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qg.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Nd,useDebugValue:xu,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Nd(!1),t=e[0];return e=Jg.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,s=on();if(ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),rt===null)throw Error(U(349));zr&30||Ah(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Ed($h.bind(null,r,l,e),[e]),r.flags|=2048,Il(9,zh.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=on(),t=rt.identifierPrefix;if(ze){var n=bn,r=Tn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nv={readContext:Gt,useCallback:Yh,useContext:Gt,useEffect:wu,useImperativeHandle:Gh,useInsertionEffect:Wh,useLayoutEffect:Uh,useMemo:Qh,useReducer:fo,useRef:Hh,useState:function(){return fo(Pl)},useDebugValue:xu,useDeferredValue:function(e){var t=Yt();return Kh(t,Je.memoizedState,e)},useTransition:function(){var e=fo(Pl)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mh,useSyncExternalStore:Rh,useId:Xh,unstable_isNewReconciler:!1},rv={readContext:Gt,useCallback:Yh,useContext:Gt,useEffect:wu,useImperativeHandle:Gh,useInsertionEffect:Wh,useLayoutEffect:Uh,useMemo:Qh,useReducer:ho,useRef:Hh,useState:function(){return ho(Pl)},useDebugValue:xu,useDeferredValue:function(e){var t=Yt();return Je===null?t.memoizedState=e:Kh(t,Je.memoizedState,e)},useTransition:function(){var e=ho(Pl)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Mh,useSyncExternalStore:Rh,useId:Xh,unstable_isNewReconciler:!1};function Ls(e,t){try{var n="",r=t;do n+=Im(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sv=typeof WeakMap=="function"?WeakMap:Map;function ep(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ia||(ia=!0,jc=r),hc(e,t)},n}function tp(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hc(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){hc(e,t),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yv.bind(null,e,t,n),t.then(e,e))}function Td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var lv=Rn.ReactCurrentOwner,Nt=!1;function yt(e,t,n,r){t.child=e===null?_h(t,null,n,r):Os(t,e.child,n,r)}function Pd(e,t,n,r,s){n=n.render;var l=t.ref;return us(t,s),r=vu(e,t,n,r,l,s),n=yu(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(ze&&n&&lu(t),t.flags|=1,yt(e,t,r,s),t.child)}function Id(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Tu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,np(e,t,l,r,s)):(e=Pi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(a,r)&&e.ref===t.ref)return Ln(e,t,s)}return t.flags|=1,e=fr(l,r),e.ref=t.ref,e.return=t,t.child=e}function np(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(jl(l,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Ln(e,t,s)}return pc(e,t,n,r,s)}function rp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ls,_t),_t|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(ls,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Pe(ls,_t),_t|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Pe(ls,_t),_t|=r;return yt(e,t,s,n),t.child}function sp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pc(e,t,n,r,s){var l=Ct(n)?Rr:mt.current;return l=Ps(t,l),us(t,s),n=vu(e,t,n,r,l,s),r=yu(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(ze&&r&&lu(t),t.flags|=1,yt(e,t,n,s),t.child)}function Od(e,t,n,r,s){if(Ct(n)){var l=!0;Xi(t)}else l=!1;if(us(t,s),t.stateNode===null)Ci(e,t),Ih(t,n,r),fc(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Gt(f):(f=Ct(n)?Rr:mt.current,f=Ps(t,f));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==f)&&jd(t,a,r,f),Gn=!1;var d=t.memoizedState;a.state=d,ta(t,r,a,s),c=t.memoizedState,o!==r||d!==c||Et.current||Gn?(typeof p=="function"&&(dc(t,n,p,r),c=t.memoizedState),(o=Gn||Sd(t,n,o,r,d,c,f))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=f,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,bh(e,t),o=t.memoizedProps,f=t.type===t.elementType?o:Jt(t.type,o),a.props=f,v=t.pendingProps,d=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=Ct(n)?Rr:mt.current,c=Ps(t,c));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==v||d!==c)&&jd(t,a,r,c),Gn=!1,d=t.memoizedState,a.state=d,ta(t,r,a,s);var E=t.memoizedState;o!==v||d!==E||Et.current||Gn?(typeof m=="function"&&(dc(t,n,m,r),E=t.memoizedState),(f=Gn||Sd(t,n,f,r,d,E,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),a.props=r,a.state=E,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return mc(e,t,n,r,l,s)}function mc(e,t,n,r,s,l){sp(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&vd(t,n,!1),Ln(e,t,l);r=t.stateNode,lv.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Os(t,e.child,null,l),t.child=Os(t,null,o,l)):yt(e,t,o,l),t.memoizedState=r.state,s&&vd(t,n,!0),t.child}function lp(e){var t=e.stateNode;t.pendingContext?gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gd(e,t.context,!1),hu(e,t.containerInfo)}function _d(e,t,n,r,s){return Is(),au(s),t.flags|=256,yt(e,t,n,r),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function ip(e,t,n){var r=t.pendingProps,s=$e.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pe($e,s&1),e===null)return cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Aa(a,r,0,null),e=Mr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=vc(n),t.memoizedState=gc,e):ku(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return iv(e,t,a,r,o,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=fr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?l=fr(o,l):(l=Mr(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?vc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=gc,r}return l=e.child,e=l.sibling,r=fr(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ku(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,n,r){return r!==null&&au(r),Os(t,e.child,null,n),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iv(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=po(Error(U(422))),ui(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Aa({mode:"visible",children:r.children},s,0,null),l=Mr(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Os(t,e.child,null,a),t.child.memoizedState=vc(a),t.memoizedState=gc,l);if(!(t.mode&1))return ui(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(U(419)),r=po(l,r,void 0),ui(e,t,a,r)}if(o=(a&e.childLanes)!==0,Nt||o){if(r=rt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,_n(e,s),sn(r,e,s,-1))}return Cu(),r=po(Error(U(421))),ui(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wv.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Lt=or(s.nextSibling),Mt=t,ze=!0,nn=null,e!==null&&(Ht[Wt++]=Tn,Ht[Wt++]=bn,Ht[Wt++]=Ar,Tn=e.id,bn=e.overflow,Ar=t),t=ku(t,r.children),t.flags|=4096,t)}function Ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uc(e.return,t,n)}function mo(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function ap(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(yt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,n,t);else if(e.tag===19)Ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe($e,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&na(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),mo(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&na(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}mo(t,!0,n,null,l);break;case"together":mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=fr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function av(e,t,n){switch(t.tag){case 3:lp(t),Is();break;case 5:Lh(t);break;case 1:Ct(t.type)&&Xi(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pe(qi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?ip(e,t,n):(Pe($e,$e.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);Pe($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ap(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,rp(e,t,n)}return Ln(e,t,n)}var op,yc,cp,up;op=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yc=function(){};cp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Nr(yn.current);var l=null;switch(n){case"input":s=Fo(e,s),r=Fo(e,r),l=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),l=[];break;case"textarea":s=Wo(e,s),r=Wo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qi)}Vo(n,r);var a;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var o=s[f];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(gl.hasOwnProperty(f)?l||(l=[]):(l=l||[]).push(f,null));for(f in r){var c=r[f];if(o=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&c!==o&&(c!=null||o!=null))if(f==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(gl.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&_e("scroll",e),l||o===c||(l=[])):(l=l||[]).push(f,c))}n&&(l=l||[]).push("style",n);var f=l;(t.updateQueue=f)&&(t.flags|=4)}};up=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ov(e,t,n){var r=t.pendingProps;switch(iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Ct(t.type)&&Ki(),dt(t),null;case 3:return r=t.stateNode,_s(),Le(Et),Le(mt),mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(Ec(nn),nn=null))),yc(e,t),dt(t),null;case 5:pu(t);var s=Nr(Tl.current);if(n=t.type,e!==null&&t.stateNode!=null)cp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return dt(t),null}if(e=Nr(yn.current),oi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[mn]=t,r[El]=l,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<sl.length;s++)_e(sl[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Wu(r,l),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},_e("invalid",r);break;case"textarea":Vu(r,l),_e("invalid",r)}Vo(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&ai(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&ai(r.textContent,o,e),s=["children",""+o]):gl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&_e("scroll",r)}switch(n){case"input":ql(r),Uu(r,l,!0);break;case"textarea":ql(r),Gu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Qi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Af(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mn]=t,e[El]=r,op(e,t,!1,!1),t.stateNode=e;e:{switch(a=Go(n,r),n){case"dialog":_e("cancel",e),_e("close",e),s=r;break;case"iframe":case"object":case"embed":_e("load",e),s=r;break;case"video":case"audio":for(s=0;s<sl.length;s++)_e(sl[s],e);s=r;break;case"source":_e("error",e),s=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=r;break;case"details":_e("toggle",e),s=r;break;case"input":Wu(e,r),s=Fo(e,r),_e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Vu(e,r),s=Wo(e,r),_e("invalid",e);break;default:s=r}Vo(n,s),o=s;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Ff(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zf(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vl(e,c):typeof c=="number"&&vl(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(gl.hasOwnProperty(l)?c!=null&&l==="onScroll"&&_e("scroll",e):c!=null&&Vc(e,l,c,a))}switch(n){case"input":ql(e),Uu(e,r,!1);break;case"textarea":ql(e),Gu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hr(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?is(e,!!r.multiple,l,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)up(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Nr(Tl.current),Nr(yn.current),oi(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(l=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:ai(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return dt(t),null;case 13:if(Le($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Lt!==null&&t.mode&1&&!(t.flags&128))Ch(),Is(),t.flags|=98560,l=!1;else if(l=oi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[mn]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),l=!1}else nn!==null&&(Ec(nn),nn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?qe===0&&(qe=3):Cu())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return _s(),yc(e,t),e===null&&Dl(t.stateNode.containerInfo),dt(t),null;case 10:return uu(t.type._context),dt(t),null;case 17:return Ct(t.type)&&Ki(),dt(t),null;case 19:if(Le($e),l=t.memoizedState,l===null)return dt(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)Zs(l,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=na(e),a!==null){for(t.flags|=128,Zs(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe($e,$e.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ge()>Ms&&(t.flags|=128,r=!0,Zs(l,!1),t.lanes=4194304)}else{if(!r)if(e=na(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!ze)return dt(t),null}else 2*Ge()-l.renderingStartTime>Ms&&n!==1073741824&&(t.flags|=128,r=!0,Zs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,n=$e.current,Pe($e,r?n&1|2:n&1),t):(dt(t),null);case 22:case 23:return Eu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function cv(e,t){switch(iu(t),t.tag){case 1:return Ct(t.type)&&Ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),Le(Et),Le(mt),mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pu(t),null;case 13:if(Le($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le($e),null;case 4:return _s(),null;case 10:return uu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var di=!1,pt=!1,uv=typeof WeakSet=="function"?WeakSet:Set,q=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function wc(e,t,n){try{n()}catch(r){We(e,t,r)}}var Md=!1;function dv(e,t){if(nc=Vi,e=ph(),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,f=0,p=0,v=e,d=null;t:for(;;){for(var m;v!==n||s!==0&&v.nodeType!==3||(o=a+s),v!==l||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(m=v.firstChild)!==null;)d=v,v=m;for(;;){if(v===e)break t;if(d===n&&++f===s&&(o=a),d===l&&++p===r&&(c=a),(m=v.nextSibling)!==null)break;v=d,d=v.parentNode}v=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:e,selectionRange:n},Vi=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,j=E.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:Jt(t.type,S),j);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(y){We(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return E=Md,Md=!1,E}function hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&wc(t,n,l)}s=s.next}while(s!==r)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dp(e){var t=e.alternate;t!==null&&(e.alternate=null,dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[El],delete t[ic],delete t[Yg],delete t[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fp(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qi));else if(r!==4&&(e=e.child,e!==null))for(kc(e,t,n),e=e.sibling;e!==null;)kc(e,t,n),e=e.sibling}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}var lt=null,tn=!1;function $n(e,t,n){for(n=n.child;n!==null;)hp(e,t,n),n=n.sibling}function hp(e,t,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Ca,n)}catch{}switch(n.tag){case 5:pt||ss(n,t);case 6:var r=lt,s=tn;lt=null,$n(e,t,n),lt=r,tn=s,lt!==null&&(tn?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(tn?(e=lt,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),kl(e)):ao(lt,n.stateNode));break;case 4:r=lt,s=tn,lt=n.stateNode.containerInfo,tn=!0,$n(e,t,n),lt=r,tn=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&wc(n,t,a),s=s.next}while(s!==r)}$n(e,t,n);break;case 1:if(!pt&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){We(n,t,o)}$n(e,t,n);break;case 21:$n(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,$n(e,t,n),pt=r):$n(e,t,n);break;default:$n(e,t,n)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uv),t.forEach(function(r){var s=xv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:lt=o.stateNode,tn=!1;break e;case 3:lt=o.stateNode.containerInfo,tn=!0;break e;case 4:lt=o.stateNode.containerInfo,tn=!0;break e}o=o.return}if(lt===null)throw Error(U(160));hp(l,a,s),lt=null,tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(f){We(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pp(t,e),t=t.sibling}function pp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),an(e),r&4){try{hl(3,e,e.return),Ma(3,e)}catch(S){We(e,e.return,S)}try{hl(5,e,e.return)}catch(S){We(e,e.return,S)}}break;case 1:Zt(t,e),an(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Zt(t,e),an(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var s=e.stateNode;try{vl(s,"")}catch(S){We(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Mf(s,l),Go(o,a);var f=Go(o,l);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?Ff(s,v):p==="dangerouslySetInnerHTML"?zf(s,v):p==="children"?vl(s,v):Vc(s,p,v,f)}switch(o){case"input":Bo(s,l);break;case"textarea":Rf(s,l);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?is(s,!!l.multiple,m,!1):d!==!!l.multiple&&(l.defaultValue!=null?is(s,!!l.multiple,l.defaultValue,!0):is(s,!!l.multiple,l.multiple?[]:"",!1))}s[El]=l}catch(S){We(e,e.return,S)}}break;case 6:if(Zt(t,e),an(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(S){We(e,e.return,S)}}break;case 3:if(Zt(t,e),an(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(S){We(e,e.return,S)}break;case 4:Zt(t,e),an(e);break;case 13:Zt(t,e),an(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Du=Ge())),r&4&&Ad(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(f=pt)||p,Zt(t,e),pt=f):Zt(t,e),an(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(q=e,p=e.child;p!==null;){for(v=q=p;q!==null;){switch(d=q,m=d.child,d.tag){case 0:case 11:case 14:case 15:hl(4,d,d.return);break;case 1:ss(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(S){We(r,n,S)}}break;case 5:ss(d,d.return);break;case 22:if(d.memoizedState!==null){$d(v);continue}}m!==null?(m.return=d,q=m):$d(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{s=v.stateNode,f?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$f("display",a))}catch(S){We(e,e.return,S)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(S){We(e,e.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Zt(t,e),an(e),r&4&&Ad(e);break;case 21:break;default:Zt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vl(s,""),r.flags&=-33);var l=Rd(e);Sc(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Rd(e);kc(e,o,a);break;default:throw Error(U(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fv(e,t,n){q=e,mp(e)}function mp(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||di;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||pt;o=di;var f=pt;if(di=a,(pt=c)&&!f)for(q=s;q!==null;)a=q,c=a.child,a.tag===22&&a.memoizedState!==null?Fd(s):c!==null?(c.return=a,q=c):Fd(s);for(;l!==null;)q=l,mp(l),l=l.sibling;q=s,di=o,pt=f}zd(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,q=l):zd(e)}}function zd(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||Ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&kd(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kd(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&kl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}pt||t.flags&512&&xc(t)}catch(d){We(t,t.return,d)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function $d(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Fd(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ma(4,t)}catch(c){We(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){We(t,s,c)}}var l=t.return;try{xc(t)}catch(c){We(t,l,c)}break;case 5:var a=t.return;try{xc(t)}catch(c){We(t,a,c)}}}catch(c){We(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var hv=Math.ceil,la=Rn.ReactCurrentDispatcher,Su=Rn.ReactCurrentOwner,Vt=Rn.ReactCurrentBatchConfig,we=0,rt=null,Ke=null,it=0,_t=0,ls=gr(0),qe=0,Ol=null,$r=0,Ra=0,ju=0,pl=null,Dt=null,Du=0,Ms=1/0,jn=null,ia=!1,jc=null,ur=null,fi=!1,sr=null,aa=0,ml=0,Dc=null,Ti=-1,bi=0;function wt(){return we&6?Ge():Ti!==-1?Ti:Ti=Ge()}function dr(e){return e.mode&1?we&2&&it!==0?it&-it:Xg.transition!==null?(bi===0&&(bi=Jf()),bi):(e=De,e!==0||(e=window.event,e=e===void 0?16:lh(e.type)),e):1}function sn(e,t,n,r){if(50<ml)throw ml=0,Dc=null,Error(U(185));Wl(e,n,r),(!(we&2)||e!==rt)&&(e===rt&&(!(we&2)&&(Ra|=n),qe===4&&Qn(e,it)),Tt(e,r),n===1&&we===0&&!(t.mode&1)&&(Ms=Ge()+500,Oa&&vr()))}function Tt(e,t){var n=e.callbackNode;Xm(e,t);var r=Ui(e,e===rt?it:0);if(r===0)n!==null&&Ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ku(n),t===1)e.tag===0?Kg(Bd.bind(null,e)):Dh(Bd.bind(null,e)),Vg(function(){!(we&6)&&vr()}),n=null;else{switch(qf(r)){case 1:n=Xc;break;case 4:n=Xf;break;case 16:n=Wi;break;case 536870912:n=Zf;break;default:n=Wi}n=jp(n,gp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gp(e,t){if(Ti=-1,bi=0,we&6)throw Error(U(327));var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var r=Ui(e,e===rt?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oa(e,r);else{t=r;var s=we;we|=2;var l=yp();(rt!==e||it!==t)&&(jn=null,Ms=Ge()+500,Lr(e,t));do try{gv();break}catch(o){vp(e,o)}while(!0);cu(),la.current=l,we=s,Ke!==null?t=0:(rt=null,it=0,t=qe)}if(t!==0){if(t===2&&(s=Zo(e),s!==0&&(r=s,t=Nc(e,s))),t===1)throw n=Ol,Lr(e,0),Qn(e,r),Tt(e,Ge()),n;if(t===6)Qn(e,r);else{if(s=e.current.alternate,!(r&30)&&!pv(s)&&(t=oa(e,r),t===2&&(l=Zo(e),l!==0&&(r=l,t=Nc(e,l))),t===1))throw n=Ol,Lr(e,0),Qn(e,r),Tt(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Sr(e,Dt,jn);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=Du+500-Ge(),10<t)){if(Ui(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lc(Sr.bind(null,e,Dt,jn),t);break}Sr(e,Dt,jn);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-rn(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hv(r/1960))-r,10<r){e.timeoutHandle=lc(Sr.bind(null,e,Dt,jn),r);break}Sr(e,Dt,jn);break;case 5:Sr(e,Dt,jn);break;default:throw Error(U(329))}}}return Tt(e,Ge()),e.callbackNode===n?gp.bind(null,e):null}function Nc(e,t){var n=pl;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=oa(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&Ec(t)),e}function Ec(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function pv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!ln(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~ju,t&=~Ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function Bd(e){if(we&6)throw Error(U(327));ds();var t=Ui(e,0);if(!(t&1))return Tt(e,Ge()),null;var n=oa(e,t);if(e.tag!==0&&n===2){var r=Zo(e);r!==0&&(t=r,n=Nc(e,r))}if(n===1)throw n=Ol,Lr(e,0),Qn(e,t),Tt(e,Ge()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Dt,jn),Tt(e,Ge()),null}function Nu(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Ms=Ge()+500,Oa&&vr())}}function Fr(e){sr!==null&&sr.tag===0&&!(we&6)&&ds();var t=we;we|=1;var n=Vt.transition,r=De;try{if(Vt.transition=null,De=1,e)return e()}finally{De=r,Vt.transition=n,we=t,!(we&6)&&vr()}}function Eu(){_t=ls.current,Le(ls)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ug(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ki();break;case 3:_s(),Le(Et),Le(mt),mu();break;case 5:pu(r);break;case 4:_s();break;case 13:Le($e);break;case 19:Le($e);break;case 10:uu(r.type._context);break;case 22:case 23:Eu()}n=n.return}if(rt=e,Ke=e=fr(e.current,null),it=_t=t,qe=0,Ol=null,ju=Ra=$r=0,Dt=pl=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Dr=null}return e}function vp(e,t){do{var n=Ke;try{if(cu(),Ni.current=sa,ra){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ra=!1}if(zr=0,nt=Je=Fe=null,fl=!1,bl=0,Su.current=null,n===null||n.return===null){qe=1,Ol=t,Ke=null;break}e:{var l=e,a=n.return,o=n,c=t;if(t=it,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=o,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=Td(a);if(m!==null){m.flags&=-257,bd(m,a,o,l,t),m.mode&1&&Cd(l,f,t),t=m,c=f;var E=t.updateQueue;if(E===null){var S=new Set;S.add(c),t.updateQueue=S}else E.add(c);break e}else{if(!(t&1)){Cd(l,f,t),Cu();break e}c=Error(U(426))}}else if(ze&&o.mode&1){var j=Td(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),bd(j,a,o,l,t),au(Ls(c,o));break e}}l=c=Ls(c,o),qe!==4&&(qe=2),pl===null?pl=[l]:pl.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=ep(l,c,t);xd(l,h);break e;case 1:o=c;var u=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=tp(l,o,t);xd(l,y);break e}}l=l.return}while(l!==null)}xp(n)}catch(N){t=N,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function yp(){var e=la.current;return la.current=sa,e===null?sa:e}function Cu(){(qe===0||qe===3||qe===2)&&(qe=4),rt===null||!($r&268435455)&&!(Ra&268435455)||Qn(rt,it)}function oa(e,t){var n=we;we|=2;var r=yp();(rt!==e||it!==t)&&(jn=null,Lr(e,t));do try{mv();break}catch(s){vp(e,s)}while(!0);if(cu(),we=n,la.current=r,Ke!==null)throw Error(U(261));return rt=null,it=0,qe}function mv(){for(;Ke!==null;)wp(Ke)}function gv(){for(;Ke!==null&&!Bm();)wp(Ke)}function wp(e){var t=Sp(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?xp(e):Ke=t,Su.current=null}function xp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cv(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ke=null;return}}else if(n=ov(n,t,_t),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);qe===0&&(qe=5)}function Sr(e,t,n){var r=De,s=Vt.transition;try{Vt.transition=null,De=1,vv(e,t,n,r)}finally{Vt.transition=s,De=r}return null}function vv(e,t,n,r){do ds();while(sr!==null);if(we&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Zm(e,l),e===rt&&(Ke=rt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fi||(fi=!0,jp(Wi,function(){return ds(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Vt.transition,Vt.transition=null;var a=De;De=1;var o=we;we|=4,Su.current=null,dv(e,n),pp(n,e),Ag(rc),Vi=!!nc,rc=nc=null,e.current=n,fv(n),Hm(),we=o,De=a,Vt.transition=l}else e.current=n;if(fi&&(fi=!1,sr=e,aa=s),l=e.pendingLanes,l===0&&(ur=null),Vm(n.stateNode),Tt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ia)throw ia=!1,e=jc,jc=null,e;return aa&1&&e.tag!==0&&ds(),l=e.pendingLanes,l&1?e===Dc?ml++:(ml=0,Dc=e):ml=0,vr(),null}function ds(){if(sr!==null){var e=qf(aa),t=Vt.transition,n=De;try{if(Vt.transition=null,De=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,aa=0,we&6)throw Error(U(331));var s=we;for(we|=4,q=e.current;q!==null;){var l=q,a=l.child;if(q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var f=o[c];for(q=f;q!==null;){var p=q;switch(p.tag){case 0:case 11:case 15:hl(8,p,l)}var v=p.child;if(v!==null)v.return=p,q=v;else for(;q!==null;){p=q;var d=p.sibling,m=p.return;if(dp(p),p===f){q=null;break}if(d!==null){d.return=m,q=d;break}q=m}}}var E=l.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}q=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,q=a;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:hl(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,q=h;break e}q=l.return}}var u=e.current;for(q=u;q!==null;){a=q;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,q=g;else e:for(a=u;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ma(9,o)}}catch(N){We(o,o.return,N)}if(o===a){q=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,q=y;break e}q=o.return}}if(we=s,vr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Ca,e)}catch{}r=!0}return r}finally{De=n,Vt.transition=t}}return!1}function Hd(e,t,n){t=Ls(n,t),t=ep(e,t,1),e=cr(e,t,1),t=wt(),e!==null&&(Wl(e,1,t),Tt(e,t))}function We(e,t,n){if(e.tag===3)Hd(e,e,n);else for(;t!==null;){if(t.tag===3){Hd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){e=Ls(n,e),e=tp(t,e,1),t=cr(t,e,1),e=wt(),t!==null&&(Wl(t,1,e),Tt(t,e));break}}t=t.return}}function yv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(it&n)===n&&(qe===4||qe===3&&(it&130023424)===it&&500>Ge()-Du?Lr(e,0):ju|=n),Tt(e,t)}function kp(e,t){t===0&&(e.mode&1?(t=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):t=1);var n=wt();e=_n(e,t),e!==null&&(Wl(e,t,n),Tt(e,n))}function wv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kp(e,n)}function xv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),kp(e,n)}var Sp;Sp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nt=!1,av(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,ze&&t.flags&1048576&&Nh(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ci(e,t),e=t.pendingProps;var s=Ps(t,mt.current);us(t,n),s=vu(null,t,r,e,s,n);var l=yu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(l=!0,Xi(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fu(t),s.updater=_a,t.stateNode=s,s._reactInternals=t,fc(t,r,e,n),t=mc(null,t,r,!0,l,n)):(t.tag=0,ze&&l&&lu(t),yt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ci(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Sv(r),e=Jt(r,e),s){case 0:t=pc(null,t,r,e,n);break e;case 1:t=Od(null,t,r,e,n);break e;case 11:t=Pd(null,t,r,e,n);break e;case 14:t=Id(null,t,r,Jt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),pc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),Od(e,t,r,s,n);case 3:e:{if(lp(t),e===null)throw Error(U(387));r=t.pendingProps,l=t.memoizedState,s=l.element,bh(e,t),ta(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ls(Error(U(423)),t),t=_d(e,t,r,n,s);break e}else if(r!==s){s=Ls(Error(U(424)),t),t=_d(e,t,r,n,s);break e}else for(Lt=or(t.stateNode.containerInfo.firstChild),Mt=t,ze=!0,nn=null,n=_h(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===s){t=Ln(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 5:return Lh(t),e===null&&cc(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,sc(r,s)?a=null:l!==null&&sc(r,l)&&(t.flags|=32),sp(e,t),yt(e,t,a,n),t.child;case 6:return e===null&&cc(t),null;case 13:return ip(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Os(t,null,r,n):yt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),Pd(e,t,r,s,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,Pe(qi,r._currentValue),r._currentValue=a,l!==null)if(ln(l.value,a)){if(l.children===s.children&&!Et.current){t=Ln(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Pn(-1,n&-n),c.tag=2;var f=l.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),uc(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(U(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),uc(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}yt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Gt(s),r=r(s),t.flags|=1,yt(e,t,r,n),t.child;case 14:return r=t.type,s=Jt(r,t.pendingProps),s=Jt(r.type,s),Id(e,t,r,s,n);case 15:return np(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),Ci(e,t),t.tag=1,Ct(r)?(e=!0,Xi(t)):e=!1,us(t,n),Ih(t,r,s),fc(t,r,s,n),mc(null,t,r,!0,e,n);case 19:return ap(e,t,n);case 22:return rp(e,t,n)}throw Error(U(156,t.tag))};function jp(e,t){return Kf(e,t)}function kv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new kv(e,t,n,r)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sv(e){if(typeof e=="function")return Tu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Qc)return 14}return 2}function fr(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")Tu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kr:return Mr(n.children,s,l,t);case Gc:a=8,s|=8;break;case Ro:return e=Ut(12,n,t,s|2),e.elementType=Ro,e.lanes=l,e;case Ao:return e=Ut(13,n,t,s),e.elementType=Ao,e.lanes=l,e;case zo:return e=Ut(19,n,t,s),e.elementType=zo,e.lanes=l,e;case Of:return Aa(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pf:a=10;break e;case If:a=9;break e;case Yc:a=11;break e;case Qc:a=14;break e;case Vn:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Ut(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Mr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function Aa(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=Of,e.lanes=n,e.stateNode={isHidden:!1},e}function go(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function vo(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bu(e,t,n,r,s,l,a,o,c){return e=new jv(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ut(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(l),e}function Dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dp(e){if(!e)return pr;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ct(n))return jh(e,n,t)}return t}function Np(e,t,n,r,s,l,a,o,c){return e=bu(n,r,!0,e,s,l,a,o,c),e.context=Dp(null),n=e.current,r=wt(),s=dr(n),l=Pn(r,s),l.callback=t??null,cr(n,l,s),e.current.lanes=s,Wl(e,s,r),Tt(e,r),e}function za(e,t,n,r){var s=t.current,l=wt(),a=dr(s);return n=Dp(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(s,t,a),e!==null&&(sn(e,s,a,l),Di(e,s,a)),a}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pu(e,t){Wd(e,t),(e=e.alternate)&&Wd(e,t)}function Nv(){return null}var Ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}$a.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));za(e,t,null,null)};$a.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){za(null,e,null,null)}),t[On]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=nh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&sh(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function Ev(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var f=ca(a);l.call(f)}}var a=Np(t,r,e,0,null,!1,!1,"",Ud);return e._reactRootContainer=a,e[On]=a.current,Dl(e.nodeType===8?e.parentNode:e),Fr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var f=ca(c);o.call(f)}}var c=bu(e,0,!1,null,null,!1,!1,"",Ud);return e._reactRootContainer=c,e[On]=c.current,Dl(e.nodeType===8?e.parentNode:e),Fr(function(){za(t,c,n,r)}),c}function Ba(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var o=s;s=function(){var c=ca(a);o.call(c)}}za(t,a,e,s)}else a=Ev(n,t,e,s,r);return ca(a)}eh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(Zc(t,n|1),Tt(t,Ge()),!(we&6)&&(Ms=Ge()+500,vr()))}break;case 13:Fr(function(){var r=_n(e,1);if(r!==null){var s=wt();sn(r,e,1,s)}}),Pu(e,1)}};Jc=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var n=wt();sn(t,e,134217728,n)}Pu(e,134217728)}};th=function(e){if(e.tag===13){var t=dr(e),n=_n(e,t);if(n!==null){var r=wt();sn(n,e,t,r)}Pu(e,t)}};nh=function(){return De};rh=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};Qo=function(e,t,n){switch(t){case"input":if(Bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ia(r);if(!s)throw Error(U(90));Lf(r),Bo(r,s)}}}break;case"textarea":Rf(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};Wf=Nu;Uf=Fr;var Cv={usingClientEntryPoint:!1,Events:[Vl,qr,Ia,Bf,Hf,Nu]},Js={findFiberByHostInstance:jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Tv={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yf(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||Nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{Ca=hi.inject(Tv),vn=hi}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cv;At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(U(200));return Dv(e,t,null,n)};At.createRoot=function(e,t){if(!Ou(e))throw Error(U(299));var n=!1,r="",s=Ep;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bu(e,1,!1,null,null,n,!1,r,s),e[On]=t.current,Dl(e.nodeType===8?e.parentNode:e),new Iu(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Yf(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Fr(e)};At.hydrate=function(e,t,n){if(!Fa(t))throw Error(U(200));return Ba(null,e,t,!0,n)};At.hydrateRoot=function(e,t,n){if(!Ou(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Ep;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Np(t,null,e,1,n??null,s,!1,l,a),e[On]=t.current,Dl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $a(t)};At.render=function(e,t,n){if(!Fa(t))throw Error(U(200));return Ba(null,e,t,!1,n)};At.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(U(40));return e._reactRootContainer?(Fr(function(){Ba(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};At.unstable_batchedUpdates=Nu;At.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fa(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ba(e,t,n,!1,r)};At.version="18.2.0-next-9e3b772b8-20220608";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(e){console.error(e)}}Cp(),Nf.exports=At;var bv=Nf.exports,Tp,Vd=bv;Tp=Vd.createRoot,Vd.hydrateRoot;const Ha=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"9 18 15 12 9 6"})}),Yl=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"6 9 12 15 18 9"})}),Mn=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Cc=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("polyline",{points:"12 6 12 12 16 14"})]}),bp=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("circle",{cx:"12",cy:"12",r:"10"})}),Pp=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"m9 12 2 2 4-4"})]}),Pv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),yr=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Iv=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("polyline",{points:"20 6 9 17 4 12"})}),Gd=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),yo=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),i.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),Tc=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Ov=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),_v=({size:e=24,className:t=""})=>i.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:i.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),Lv=({size:e=24,className:t=""})=>i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M12 1v6m0 6v6m0-6h6m-6 0H6"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});function _u(e,t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)?new Date(t):t}function Mv(e){return e==null?e:JSON.parse(JSON.stringify(e),_u)}var cn,hs,ua,Ip;class Rv{constructor(t="uqueue:"){K(this,ua);K(this,cn,void 0);K(this,hs,new Set);te(this,cn,t)}async read(t){try{const n=localStorage.getItem(C(this,cn)+t);return n?JSON.parse(n,_u):null}catch(n){return console.error(`LocalStorage read error for ${t}:`,n),null}}async write(t,n){try{const r=JSON.stringify(n);localStorage.setItem(C(this,cn)+t,r)}catch(r){throw console.error(`LocalStorage write error for ${t}:`,r),r.name==="QuotaExceededError"&&_(this,ua,Ip).call(this,{type:"quota-exceeded",key:t}),r}}async delete(t){localStorage.removeItem(C(this,cn)+t)}async keys(){const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&r.startsWith(C(this,cn))&&t.push(r.slice(C(this,cn).length))}return t}async isOnline(){return!0}onStateChange(t){return C(this,hs).add(t),()=>C(this,hs).delete(t)}getPrefix(){return C(this,cn)}}cn=new WeakMap,hs=new WeakMap,ua=new WeakSet,Ip=function(t){C(this,hs).forEach(n=>{try{n(t)}catch(r){console.error("Error in storage listener:",r)}})};var Ft,tt,Pt,Kn,Er,ps,ms,_l,bc,Cr,ll,da,Op,fa,_p,ha,Lp,ft,St,un,Hn;class Av{constructor(t){K(this,_l);K(this,Cr);K(this,da);K(this,fa);K(this,ha);K(this,ft);K(this,un);K(this,Ft,void 0);K(this,tt,null);K(this,Pt,[]);K(this,Kn,new Map);K(this,Er,"idle");K(this,ps,!1);K(this,ms,null);te(this,Ft,t),typeof window<"u"&&(window.addEventListener("online",()=>_(this,fa,_p).call(this)),window.addEventListener("offline",()=>_(this,ha,Lp).call(this)))}getLocalProvider(){return C(this,Ft)}setRemoteProvider(t){te(this,tt,t),t&&_(this,Cr,ll).call(this)}hasRemoteProvider(){return C(this,tt)!==null}async read(t){return C(this,Ft).read(t)}async write(t,n){await C(this,Ft).write(t,n),C(this,tt)&&_(this,_l,bc).call(this,{type:"write",key:t,data:n,timestamp:Date.now()})}async delete(t){await C(this,Ft).delete(t),C(this,tt)&&_(this,_l,bc).call(this,{type:"delete",key:t,timestamp:Date.now()})}async keys(){return C(this,Ft).keys()}getSyncState(){return C(this,Er)}getPendingCount(){return C(this,Pt).length}async fullSync(){if(!C(this,tt))throw new Error("No remote provider connected");if(!await C(this,tt).isOnline()){_(this,ft,St).call(this,"offline");return}_(this,ft,St).call(this,"syncing");try{const t=await C(this,Ft).keys();for(const n of t){const r=await C(this,Ft).read(n);r!==null&&await C(this,tt).write(n,r)}_(this,ft,St).call(this,"idle"),_(this,un,Hn).call(this,"sync-completed",{syncedKeys:t})}catch(t){throw console.error("Full sync failed:",t),_(this,ft,St).call(this,"error"),_(this,un,Hn).call(this,"sync-error",{error:t}),t}}async pullFromRemote(){if(!C(this,tt))throw new Error("No remote provider connected");if(!await C(this,tt).isOnline()){_(this,ft,St).call(this,"offline");return}_(this,ft,St).call(this,"syncing");try{const t=await C(this,tt).keys();for(const n of t){const r=await C(this,tt).read(n);r!==null&&await C(this,Ft).write(n,r)}_(this,ft,St).call(this,"idle"),_(this,un,Hn).call(this,"pull-completed",{pulledKeys:t})}catch(t){throw console.error("Pull from remote failed:",t),_(this,ft,St).call(this,"error"),t}}on(t,n){return C(this,Kn).has(t)||C(this,Kn).set(t,new Set),C(this,Kn).get(t).add(n),()=>{var r;return(r=C(this,Kn).get(t))==null?void 0:r.delete(n)}}}Ft=new WeakMap,tt=new WeakMap,Pt=new WeakMap,Kn=new WeakMap,Er=new WeakMap,ps=new WeakMap,ms=new WeakMap,_l=new WeakSet,bc=function(t){const n=C(this,Pt).findIndex(r=>r.key===t.key&&r.type===t.type);n>=0?C(this,Pt)[n]=t:C(this,Pt).push(t),_(this,un,Hn).call(this,"queue-changed",{pendingCount:C(this,Pt).length}),_(this,Cr,ll).call(this)},Cr=new WeakSet,ll=async function(){if(C(this,ps)||!C(this,tt)||C(this,Pt).length===0)return;if(!await C(this,tt).isOnline()){_(this,ft,St).call(this,"offline");return}te(this,ps,!0),_(this,ft,St).call(this,"syncing");try{for(;C(this,Pt).length>0;){const n=C(this,Pt)[0];n.type==="write"?await C(this,tt).write(n.key,n.data):n.type==="delete"&&await C(this,tt).delete(n.key),C(this,Pt).shift(),_(this,un,Hn).call(this,"queue-changed",{pendingCount:C(this,Pt).length})}_(this,ft,St).call(this,"idle")}catch(n){console.error("Sync queue processing failed:",n),_(this,ft,St).call(this,"error"),_(this,un,Hn).call(this,"sync-error",{error:n}),_(this,da,Op).call(this)}finally{te(this,ps,!1)}},da=new WeakSet,Op=function(){C(this,ms)||te(this,ms,setTimeout(()=>{te(this,ms,null),_(this,Cr,ll).call(this)},5e3))},fa=new WeakSet,_p=function(){C(this,Er)==="offline"&&_(this,Cr,ll).call(this)},ha=new WeakSet,Lp=function(){_(this,ft,St).call(this,"offline")},ft=new WeakSet,St=function(t){C(this,Er)!==t&&(te(this,Er,t),_(this,un,Hn).call(this,"sync-state-changed",{state:t}))},un=new WeakSet,Hn=function(t,n){const r=C(this,Kn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})};var Ur={};const zv="https://www.googleapis.com/auth/drive.file",Yd="todolist.uqueue",$v="https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",Fv="AIzaSyDyPPG0fPsK2dZx2wBMu54Hoj8Qn1mChfI",Bv="977194632556-o4pkb6kngrvhhu1s9j4pissft2n6gein.apps.googleusercontent.com",pi="uqueue:gdrive-token";var Tr,pa,br,st,gt,Xn,Pr,gs,Ir,ma,ga,vs,Ii,va,Mp,Zn,Vr,Ll,Pc,dn,Wn,ys,Oi,ya,Rp,wa,Ap,xa,zp,qt,Sn;class Hv{constructor(t=null,n=null){K(this,vs);K(this,va);K(this,Zn);K(this,Ll);K(this,dn);K(this,ys);K(this,ya);K(this,wa);K(this,xa);K(this,qt);K(this,Tr,void 0);K(this,pa,void 0);K(this,br,null);K(this,st,null);K(this,gt,null);K(this,Xn,null);K(this,Pr,!1);K(this,gs,new Set);K(this,Ir,null);K(this,ma,!1);K(this,ga,!1);te(this,Tr,t||(Ur==null?void 0:Ur.VITE_GOOGLE_CLIENT_ID)||Bv),te(this,pa,n||(Ur==null?void 0:Ur.VITE_GOOGLE_API_KEY)||Fv)}hasClientId(){return!!C(this,Tr)}hasSavedSession(){try{return!!localStorage.getItem(pi)}catch{return!1}}async initialize(){if(!C(this,Pr)){if(!C(this,Tr))throw new Error("Google Client ID not configured.");await Promise.all([_(this,xa,zp).call(this),_(this,wa,Ap).call(this)]),await new Promise((t,n)=>{window.gapi.load("client",async()=>{try{await window.gapi.client.init({discoveryDocs:[$v]}),te(this,ma,!0),t()}catch(r){n(r)}})}),te(this,br,window.google.accounts.oauth2.initTokenClient({client_id:C(this,Tr),scope:zv,callback:t=>{if(t.error){console.error("OAuth error:",t.error),_(this,qt,Sn).call(this,{type:"auth-error",error:t.error});return}t.access_token&&(te(this,st,t.access_token),_(this,vs,Ii).call(this),_(this,qt,Sn).call(this,{type:"authenticated"}))}})),te(this,ga,!0),te(this,Pr,!0)}}async tryRestore(){C(this,Pr)||await this.initialize();const t=_(this,va,Mp).call(this);if(!t)return!1;te(this,st,t.accessToken),window.gapi.client.setToken({access_token:t.accessToken});try{return t.fileId?(te(this,gt,t.fileId),await window.gapi.client.drive.files.get({fileId:C(this,gt),fields:"id"}),await _(this,dn,Wn).call(this)):await _(this,Ll,Pc).call(this),_(this,qt,Sn).call(this,{type:"authenticated"}),!0}catch(n){return console.warn("Saved session expired, clearing:",n),_(this,Zn,Vr).call(this),te(this,st,null),te(this,gt,null),window.gapi.client.setToken(null),!1}}async authenticate(){return C(this,Pr)||await this.initialize(),new Promise((t,n)=>{try{C(this,br).callback=async r=>{if(r.error){n(new Error(r.error));return}if(r.access_token){te(this,st,r.access_token),_(this,qt,Sn).call(this,{type:"authenticated"});try{const s=await _(this,Ll,Pc).call(this);_(this,vs,Ii).call(this),t(s)}catch(s){n(s)}}},window.gapi.client.getToken()===null?C(this,br).requestAccessToken({prompt:"consent"}):C(this,br).requestAccessToken({prompt:""})}catch(r){n(r)}})}async signOut(){if(C(this,st)){try{window.google.accounts.oauth2.revoke(C(this,st))}catch(t){console.warn("Token revocation failed:",t)}te(this,st,null),te(this,gt,null),te(this,Xn,null),te(this,Ir,null),_(this,Zn,Vr).call(this),window.gapi.client.setToken(null),_(this,qt,Sn).call(this,{type:"signed-out"})}}isAuthenticated(){return!!C(this,st)&&!!C(this,gt)}async read(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await _(this,dn,Wn).call(this);return(n==null?void 0:n[t])??null}async write(t,n){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const r=await _(this,dn,Wn).call(this)||{};r[t]=n,r._lastModified=new Date().toISOString(),await _(this,ys,Oi).call(this,r)}async delete(t){if(!this.isAuthenticated())throw new Error("Not authenticated with Google Drive");const n=await _(this,dn,Wn).call(this)||{};delete n[t],n._lastModified=new Date().toISOString(),await _(this,ys,Oi).call(this,n)}async keys(){if(!this.isAuthenticated())return[];const t=await _(this,dn,Wn).call(this)||{};return Object.keys(t).filter(n=>!n.startsWith("_"))}async isOnline(){return navigator.onLine&&this.isAuthenticated()}onStateChange(t){return C(this,gs).add(t),()=>C(this,gs).delete(t)}}Tr=new WeakMap,pa=new WeakMap,br=new WeakMap,st=new WeakMap,gt=new WeakMap,Xn=new WeakMap,Pr=new WeakMap,gs=new WeakMap,Ir=new WeakMap,ma=new WeakMap,ga=new WeakMap,vs=new WeakSet,Ii=function(){try{localStorage.setItem(pi,JSON.stringify({accessToken:C(this,st),fileId:C(this,gt),savedAt:Date.now()}))}catch(t){console.warn("Failed to persist session:",t)}},va=new WeakSet,Mp=function(){try{const t=localStorage.getItem(pi);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.savedAt>50*60*1e3?(_(this,Zn,Vr).call(this),null):n}catch{return null}},Zn=new WeakSet,Vr=function(){try{localStorage.removeItem(pi)}catch{}},Ll=new WeakSet,Pc=async function(){const n=(await window.gapi.client.drive.files.list({q:`name='${Yd}' and trashed=false`,fields:"files(id, name, modifiedTime)",spaces:"drive"})).result.files;if(n&&n.length>0)return te(this,gt,n[0].id),await _(this,dn,Wn).call(this),C(this,gt);const r=await window.gapi.client.drive.files.create({resource:{name:Yd,mimeType:"application/json"},fields:"id"});return te(this,gt,r.result.id),await _(this,ys,Oi).call(this,{_created:new Date().toISOString(),_lastModified:new Date().toISOString()}),C(this,gt)},dn=new WeakSet,Wn=async function(){const t=await fetch(`https://www.googleapis.com/drive/v3/files/${C(this,gt)}?alt=media`,{headers:{Authorization:`Bearer ${C(this,st)}`}});if(!t.ok)throw t.status===401?(te(this,st,null),_(this,Zn,Vr).call(this),_(this,qt,Sn).call(this,{type:"token-expired"}),new Error("Token expired")):new Error(`Failed to read file: ${t.status}`);const n=t.headers.get("ETag");n&&te(this,Xn,n);const r=await t.text();return r?(te(this,Ir,JSON.parse(r,_u)),C(this,Ir)):null},ys=new WeakSet,Oi=async function(t){const n=JSON.stringify(t),r={Authorization:`Bearer ${C(this,st)}`,"Content-Type":"application/json"};C(this,Xn)&&(r["If-Match"]=C(this,Xn));const s=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${C(this,gt)}?uploadType=media`,{method:"PATCH",headers:r,body:n});if(!s.ok){if(s.status===401)throw te(this,st,null),_(this,Zn,Vr).call(this),_(this,qt,Sn).call(this,{type:"token-expired"}),new Error("Token expired");if(s.status===412){console.warn("Write conflict detected, creating backup file"),await _(this,ya,Rp).call(this,n),_(this,qt,Sn).call(this,{type:"write-conflict"}),await _(this,dn,Wn).call(this);return}throw new Error(`Failed to write file: ${s.status}`)}const l=s.headers.get("ETag");l&&te(this,Xn,l),te(this,Ir,t),_(this,vs,Ii).call(this)},ya=new WeakSet,Rp=async function(t){const r=new Date().toISOString().replace(/[:.]/g,"-").replace("T","_").slice(0,19),s=Math.random().toString(36).slice(2,8),l=`todolist.${r}-${s}.uqueue`,a="-------314159265358979324",o=`\r
--`+a+`\r
`,c=`\r
--`+a+"--",f={name:l,mimeType:"application/json"},p=o+`Content-Type: application/json\r
\r
`+JSON.stringify(f)+o+`Content-Type: application/json\r
\r
`+t+c,v=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${C(this,st)}`,"Content-Type":`multipart/related; boundary="${a}"`},body:p});v.ok?console.log(`Created conflict backup: ${l}`):console.error(`Failed to create conflict backup ${l}: ${v.status}`)},wa=new WeakSet,Ap=function(){return new Promise((t,n)=>{var s,l;if((l=(s=window.google)==null?void 0:s.accounts)!=null&&l.oauth2){t();return}const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google Identity Services")),document.head.appendChild(r)})},xa=new WeakSet,zp=function(){return new Promise((t,n)=>{if(window.gapi){t();return}const r=document.createElement("script");r.src="https://apis.google.com/js/api.js",r.async=!0,r.defer=!0,r.onload=t,r.onerror=()=>n(new Error("Failed to load Google API client")),document.head.appendChild(r)})},qt=new WeakSet,Sn=function(t){C(this,gs).forEach(n=>{try{n(t)}catch(r){console.error("Error in GoogleDriveProvider listener:",r)}})};let wo=null;function Wv(){return wo||(wo=new Hv),wo}const Uv="https://api.github.com",mi="uqueue:github-token",xo="uqueue:github-repos",ko="uqueue:github-last-sync";var jt,en,Cn,ws,ka,$p,Or,il,xs,_i,ks,Li,hf;let Vv=(hf=class{constructor(){K(this,ka);K(this,Or);K(this,xs);K(this,ks);K(this,jt,null);K(this,en,null);K(this,Cn,null);K(this,ws,new Set)}hasSavedSession(){try{return!!localStorage.getItem(mi)}catch{return!1}}setToken(t){te(this,jt,t);try{localStorage.setItem(mi,t)}catch(n){console.warn("Failed to persist GitHub token:",n)}}getToken(){return C(this,jt)}setRepos(t){try{localStorage.setItem(xo,JSON.stringify(t))}catch(n){console.warn("Failed to persist GitHub repos:",n)}}getRepos(){try{const t=localStorage.getItem(xo);return t?JSON.parse(t):[]}catch{return[]}}getLastSync(){try{const t=localStorage.getItem(ko);return t?new Date(t):null}catch{return null}}setLastSync(t){try{localStorage.setItem(ko,t.toISOString())}catch{}}getLogin(){return C(this,en)}getAvatarUrl(){return C(this,Cn)}async tryRestore(){try{const t=localStorage.getItem(mi);if(!t)return null;te(this,jt,t);const n=await _(this,Or,il).call(this,"/user");return te(this,en,n.login),te(this,Cn,n.avatar_url),{login:C(this,en),avatarUrl:C(this,Cn)}}catch(t){return console.warn("GitHub session restore failed:",t),te(this,jt,null),_(this,xs,_i).call(this),null}}async authenticate(t){te(this,jt,t);try{const n=await _(this,Or,il).call(this,"/user");return te(this,en,n.login),te(this,Cn,n.avatar_url),this.setToken(t),_(this,ks,Li).call(this,{type:"authenticated",login:C(this,en)}),{login:C(this,en),avatarUrl:C(this,Cn)}}catch(n){throw te(this,jt,null),new Error("Invalid token or network error: "+n.message)}}disconnect(){te(this,jt,null),te(this,en,null),te(this,Cn,null),_(this,xs,_i).call(this),_(this,ks,Li).call(this,{type:"disconnected"})}isConnected(){return!!C(this,jt)&&!!C(this,en)}async fetchAssignedIssues(){if(!C(this,jt))throw new Error("Not authenticated with GitHub");const t=[];let n=1;const r=100;for(;;){const a=await _(this,Or,il).call(this,`/user/issues?filter=assigned&state=open&per_page=${r}&page=${n}`);if(t.push(...a),a.length<r)break;n++}const s=new Date;s.setDate(s.getDate()-7);const l=await _(this,Or,il).call(this,`/user/issues?filter=assigned&state=closed&since=${s.toISOString()}&per_page=${r}`);return t.push(...l),this.setLastSync(new Date),t.map(a=>this.normalizeIssue(a))}normalizeIssue(t){var n;return{id:`gh-${t.node_id}`,title:`${t.title}`,description:t.body||"",completed:t.state==="closed",backend:"github",dueDate:null,tags:(t.labels||[]).map(r=>r.name),children:[],github:{nodeId:t.node_id,number:t.number,repo:((n=t.repository)==null?void 0:n.full_name)||_(this,ka,$p).call(this,t),url:t.html_url,state:t.state,updatedAt:t.updated_at}}}async updateIssue(t,n,r,s){throw new Error("GitHub write-back is not yet enabled")}onStateChange(t){return C(this,ws).add(t),()=>C(this,ws).delete(t)}},jt=new WeakMap,en=new WeakMap,Cn=new WeakMap,ws=new WeakMap,ka=new WeakSet,$p=function(t){var r;const n=(r=t.html_url)==null?void 0:r.match(/github\.com\/([^/]+\/[^/]+)/);return n?n[1]:""},Or=new WeakSet,il=async function(t,n={}){const r=await fetch(`${Uv}${t}`,{...n,headers:{Authorization:`Bearer ${C(this,jt)}`,Accept:"application/vnd.github.v3+json",...n.headers}});if(!r.ok){if(r.status===401)throw te(this,jt,null),_(this,xs,_i).call(this),_(this,ks,Li).call(this,{type:"auth-error",error:"Token expired or invalid"}),new Error("GitHub authentication failed (401)");if(r.status===403){if(r.headers.get("X-RateLimit-Remaining")==="0"){const l=r.headers.get("X-RateLimit-Reset"),a=new Date(parseInt(l)*1e3);throw new Error(`GitHub rate limit exceeded. Resets at ${a.toLocaleTimeString()}`)}throw new Error("GitHub access forbidden (403)")}throw new Error(`GitHub API error: ${r.status}`)}return r.json()},xs=new WeakSet,_i=function(){try{localStorage.removeItem(mi),localStorage.removeItem(xo),localStorage.removeItem(ko)}catch{}},ks=new WeakSet,Li=function(t){C(this,ws).forEach(n=>{try{n(t)}catch(r){console.error("Error in GitHubProvider listener:",r)}})},hf),So=null;function Gv(){return So||(So=new Vv),So}let jo=null,Do=null;function Yv(){return jo||(jo=new Rv("uqueue:")),jo}function Wa(){return Do||(Do=new Av(Yv())),Do}var Jn,_r,qn,fn,Ss,js,Ds,Mi,Ns,Ri;class Lu{constructor(t,n,r=null){K(this,Ds);K(this,Ns);K(this,Jn,void 0);K(this,_r,void 0);K(this,qn,new Map);K(this,fn,null);K(this,Ss,void 0);K(this,js,!1);te(this,Jn,t),te(this,_r,n),te(this,Ss,r)}async initialize(){if(C(this,js))return;const t=await C(this,_r).read(C(this,Jn));t!==null?te(this,fn,t):C(this,Ss)!==null?(te(this,fn,_(this,Ns,Ri).call(this,C(this,Ss))),await C(this,_r).write(C(this,Jn),C(this,fn))):te(this,fn,null),te(this,js,!0),_(this,Ds,Mi).call(this,"data-changed",{data:this.getData()})}isInitialized(){return C(this,js)}async save(t){te(this,fn,t),await C(this,_r).write(C(this,Jn),t),_(this,Ds,Mi).call(this,"data-changed",{data:this.getData()})}getData(){return _(this,Ns,Ri).call(this,C(this,fn))}getRawData(){return C(this,fn)}getStorageKey(){return C(this,Jn)}on(t,n){return C(this,qn).has(t)||C(this,qn).set(t,new Set),C(this,qn).get(t).add(n),()=>this.off(t,n)}off(t,n){var r;(r=C(this,qn).get(t))==null||r.delete(n)}emit(t,n){_(this,Ds,Mi).call(this,t,n)}generateId(t="id"){return`${t}-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}clone(t){return _(this,Ns,Ri).call(this,t)}}Jn=new WeakMap,_r=new WeakMap,qn=new WeakMap,fn=new WeakMap,Ss=new WeakMap,js=new WeakMap,Ds=new WeakSet,Mi=function(t,n){const r=C(this,qn).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},Ns=new WeakSet,Ri=function(t){return Mv(t)};const Qv=[{id:"1",title:"Design new landing page",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-30T14:00:00"),estimate:4,tags:["design","urgent"],description:"",featurePath:"frontend",children:[{id:"1.1",title:"Create wireframes",completed:!0,backend:"local",assignee:"alice",startDate:new Date("2026-01-27T09:00:00"),dueDate:new Date("2026-01-28T10:00:00"),estimate:1,tags:[],description:"",children:[]},{id:"1.2",title:"Get stakeholder feedback",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-01-28T10:00:00"),dueDate:new Date("2026-01-29T12:00:00"),estimate:1,dependencies:["1.1"],tags:[],description:"",children:[]},{id:"1.3",title:"Finalize design system",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-01-29T12:00:00"),dueDate:new Date("2026-01-30T16:00:00"),estimate:2,dependencies:["1.2"],tags:[],description:"",children:[]}]},{id:"2",title:"Implement authentication flow",completed:!1,backend:"our_backend",level:"story",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:["backend","security"],description:"",featurePath:"backend",children:[{id:"2.1",title:"Set up OAuth providers",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-05T17:00:00"),estimate:3,tags:[],description:"",children:[]},{id:"2.2",title:"Write integration tests",completed:!1,backend:"local",assignee:"bob",startDate:new Date("2026-02-05T17:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:2,dependencies:["2.1"],tags:[],description:"",children:[]}]},{id:"3",title:"Update documentation",completed:!1,backend:"google_drive",assignee:"carol",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-04T17:00:00"),estimate:2,tags:["docs"],description:"",children:[]},{id:"4",title:"Code review for PR #234",completed:!1,backend:"github",assignee:"dave",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-03T18:00:00"),estimate:1,tags:["review","urgent"],description:"",children:[]},{id:"5",title:"Weekly team sync",completed:!0,backend:"local",dueDate:new Date("2026-01-28T09:00:00"),tags:["meeting"],description:"",children:[]},{id:"10",title:"v2.0 Platform Redesign",completed:!1,backend:"our_backend",level:"epic",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-03-20T17:00:00"),estimate:30,tags:["platform","v2"],description:"Complete redesign of the platform for v2.0 launch.",children:[{id:"10.1",title:"New auth system",completed:!1,backend:"our_backend",level:"story",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:12,tags:["auth"],description:"",children:[{id:"10.1.1",title:"OAuth integration",completed:!1,backend:"our_backend",assignee:"alice",startDate:new Date("2026-02-03T09:00:00"),dueDate:new Date("2026-02-07T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.1.2",title:"Session management",completed:!1,backend:"our_backend",assignee:"bob",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:4,dependencies:["10.1.1"],tags:[],description:"",children:[]},{id:"10.1.3",title:"Auth security review",completed:!1,backend:"local",assignee:"carol",startDate:new Date("2026-02-17T09:00:00"),dueDate:new Date("2026-02-21T17:00:00"),estimate:3,dependencies:["10.1.2"],tags:[],description:"",children:[]}]},{id:"10.2",title:"API overhaul",completed:!1,backend:"our_backend",level:"story",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:10,tags:["api"],description:"",children:[{id:"10.2.1",title:"API endpoint migration",completed:!1,backend:"our_backend",assignee:"carol",startDate:new Date("2026-02-10T09:00:00"),dueDate:new Date("2026-02-19T17:00:00"),estimate:6,tags:[],description:"",children:[]},{id:"10.2.2",title:"API integration tests",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-02-19T09:00:00"),dueDate:new Date("2026-02-28T17:00:00"),estimate:4,dependencies:["10.2.1"],tags:[],description:"",children:[]}]},{id:"10.3",title:"Frontend refresh",completed:!1,backend:"github",level:"story",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:12,tags:["frontend"],description:"",children:[{id:"10.3.1",title:"Component library update",completed:!1,backend:"github",assignee:"alice",startDate:new Date("2026-02-24T09:00:00"),dueDate:new Date("2026-03-03T17:00:00"),estimate:5,tags:[],description:"",children:[]},{id:"10.3.2",title:"Dashboard redesign",completed:!1,backend:"github",assignee:"bob",startDate:new Date("2026-03-03T09:00:00"),dueDate:new Date("2026-03-10T17:00:00"),estimate:5,dependencies:["10.3.1"],tags:[],description:"",children:[]},{id:"10.3.3",title:"E2E testing",completed:!1,backend:"local",assignee:"dave",startDate:new Date("2026-03-10T09:00:00"),dueDate:new Date("2026-03-14T17:00:00"),estimate:2,dependencies:["10.3.2"],tags:[],description:"",children:[]}]}]},{id:"11",title:"Database migration",completed:!1,backend:"our_backend",level:"story",assignee:"dave",startDate:new Date("2026-02-05T09:00:00"),dueDate:new Date("2026-02-14T17:00:00"),estimate:8,tags:["database","infra"],description:"Migrate from PostgreSQL 14 to 16 with schema changes.",children:[]},{id:"6",title:"Daily standup notes",completed:!1,type:"chore",recurrence:"daily",backend:"local",dueDate:new Date("2026-02-03T09:30:00"),tags:["team"],description:"Write up standup notes and share with team.",instances:{"2026-02-01":{completed:!0,notes:""},"2026-02-02":{completed:!0,notes:"Weekend catch-up"},"2026-02-03":{completed:!1,notes:""}},children:[]},{id:"7",title:"Sprint retrospective report",completed:!1,type:"assignment",assignees:["alice","bob","carol"],backend:"local",dueDate:new Date("2026-02-07T17:00:00"),tags:["process"],description:"Each team member writes their section of the retro report.",instances:{alice:{completed:!0,notes:"Submitted Friday"},bob:{completed:!1,notes:""},carol:{completed:!1,notes:"WIP"}},children:[]}];var Es,Ai,Ml,Ic,Cs,zi;class Kv extends Lu{constructor(n){super("todos:v2",n,Qv);K(this,Es);K(this,Ml);K(this,Cs)}async getTodos(){return this.getData()}async setTodos(n){await this.save(n)}findById(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findById(n,l.children);if(a)return a}}return null}findParent(n,r=null,s=null){const l=r??this.getData();for(const a of l){if(a.id===n)return s;if(a.children&&a.children.length>0){const o=this.findParent(n,a.children,a);if(o!==void 0)return o}}return null}async addTodo(n,r=null,s={}){const l=this.getData(),a={id:this.generateId("todo"),title:n,completed:!1,backend:"local",dueDate:null,tags:[],description:"",children:[],...s};if(r){const o=_(this,Es,Ai).call(this,l,r,a);await this.save(o)}else await this.save([...l,a]);return a}async updateTodo(n,r){const s=this.getData(),l=_(this,Ml,Ic).call(this,s,n,r);return await this.save(l),l}async deleteTodo(n){const r=this.getData(),s=_(this,Cs,zi).call(this,r,n);return await this.save(s),s}async toggleTodo(n){const r=this.findById(n);return r?this.updateTodo(n,{completed:!r.completed}):this.getData()}async moveTodo(n,r){const s=this.getData(),l=this.findById(n);if(!l)return s;let a=_(this,Cs,zi).call(this,s,n);return r?a=_(this,Es,Ai).call(this,a,r,this.clone(l)):a=[...a,this.clone(l)],await this.save(a),a}async reorderTodos(n,r,s){const l=this.getData(),a=(c,f)=>{if(f===null){const p=[...c],[v]=p.splice(r,1);return p.splice(s,0,v),p}return c.map(p=>{if(p.id===f){const v=[...p.children||[]],[d]=v.splice(r,1);return v.splice(s,0,d),{...p,children:v}}return p.children&&p.children.length>0?{...p,children:a(p.children,f)}:p})},o=a(l,n);return await this.save(o),o}async upsertTodo(n,r){if(this.findById(n)){const l={...r};return delete l.id,delete l.children,delete l.dueDate,this.updateTodo(n,l)}else{const l=this.getData(),a={completed:!1,backend:"local",dueDate:null,tags:[],description:"",children:[],...r,id:n};return await this.save([...l,a]),a}}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}Es=new WeakSet,Ai=function(n,r,s){return n.map(l=>l.id===r?{...l,children:[...l.children||[],s]}:l.children&&l.children.length>0?{...l,children:_(this,Es,Ai).call(this,l.children,r,s)}:l)},Ml=new WeakSet,Ic=function(n,r,s){return n.map(l=>l.id===r?{...l,...s}:l.children&&l.children.length>0?{...l,children:_(this,Ml,Ic).call(this,l.children,r,s)}:l)},Cs=new WeakSet,zi=function(n,r){return n.filter(s=>s.id!==r).map(s=>s.children&&s.children.length>0?{...s,children:_(this,Cs,zi).call(this,s.children,r)}:s)};const Xv=[{id:"unassigned",name:"Unassigned",avatar:"",email:"",enabled:!0,isSystem:!0}],Fp=["","","","","","","","","","","","","","","","","","","","","","","","","","",""];class Zv extends Lu{constructor(t){super("people:v2",t,Xv)}async getPeople(){return this.getData()}async setPeople(t){await this.save(t)}getPerson(t){return this.getData().find(n=>n.id===t)||null}getEnabledPeople(){return this.getData().filter(t=>t.enabled)}getRegularPeople(){return this.getData().filter(t=>!t.isSystem)}getSystemPeople(){return this.getData().filter(t=>t.isSystem)}async addPerson(t){const n=this.getData(),r={id:this.generateId("person"),name:t.name||"New Person",avatar:t.avatar||"",email:t.email||"",enabled:!0,...t,id:t.id||this.generateId("person")};return await this.save([...n,r]),r.id}async updatePerson(t,n){const r=this.getData(),s=r.find(a=>a.id===t);if(s!=null&&s.isSystem&&(n.name!==void 0||n.id!==void 0)){console.warn("Cannot modify system entry name or ID");return}const l=r.map(a=>a.id===t?{...a,...n}:a);await this.save(l)}async deletePerson(t){const n=this.getData(),r=n.find(l=>l.id===t);if(r!=null&&r.isSystem){console.warn("Cannot delete system entry");return}const s=n.filter(l=>l.id!==t);await this.save(s)}async toggleEnabled(t){const n=this.getPerson(t);!n||n.isSystem||await this.updatePerson(t,{enabled:!n.enabled})}async reorderPeople(t,n){const r=[...this.getData()],[s]=r.splice(t,1);r.splice(n,0,s),await this.save(r)}subscribe(t){return this.on("data-changed",({data:n})=>t(n))}}const Jv=[{id:"frontend",name:"Frontend",description:"Frontend features and UI development",memberIds:["alice","bob"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["alice","bob"],overrides:[]},resources:[{id:"res-fe-1",label:"Frontend Wiki",url:"#",type:"wiki",visibility:"public"},{id:"res-fe-2",label:"UI Components Repo",url:"#",type:"repo",visibility:"public"},{id:"res-fe-3",label:"Analytics Dashboard",url:"#",type:"dashboard",visibility:"team-only"}],partnerTeamIds:["backend"],children:[]},{id:"backend",name:"Backend",description:"Backend services and API development",memberIds:["carol","dave"],oncall:{enabled:!0,rotationPeriod:"weekly",startDate:"2026-01-27",memberOrder:["carol","dave"],overrides:[]},resources:[{id:"res-be-1",label:"API Spec",url:"#",type:"spec",visibility:"public"},{id:"res-be-2",label:"Services Repo",url:"#",type:"repo",visibility:"public"},{id:"res-be-3",label:"Cloud Budget",url:"#",type:"budget",visibility:"restricted"}],partnerTeamIds:["frontend"],children:[]}],Bp={daily:1,weekly:7,biweekly:14};function Hp(e,t=new Date){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return null;const n=Bp[e.rotationPeriod]||7;if(e.overrides&&e.overrides.length>0)for(const f of e.overrides){const p=new Date(f.date);p.setHours(0,0,0,0);const v=new Date(p);v.setDate(v.getDate()+n);const d=new Date(t);if(d.setHours(0,0,0,0),d>=p&&d<v)return f.memberId}const r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date(t);s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=e.memberOrder.length,c=(a%o+o)%o;return e.memberOrder[c]}function qv(e,t=8){if(!e||!e.enabled||!e.memberOrder||e.memberOrder.length===0)return[];const n=Bp[e.rotationPeriod]||7,r=new Date(e.startDate);r.setHours(0,0,0,0);const s=new Date;s.setHours(0,0,0,0);const l=Math.floor((s-r)/(1e3*60*60*24)),a=Math.floor(l/n),o=[];for(let c=0;c<t;c++){const f=a+c,p=new Date(r);p.setDate(p.getDate()+f*n);const v=new Date(p);v.setDate(v.getDate()+n-1);let d=null;if(e.overrides)for(const m of e.overrides){const E=new Date(m.date);if(E.setHours(0,0,0,0),E>=p&&E<=v){d=m.memberId;break}}if(!d){const m=e.memberOrder.length,E=(f%m+m)%m;d=e.memberOrder[E]}o.push({startDate:p,endDate:v,memberId:d,isCurrent:c===0})}return o}var Rl,Oc,Al,_c,zl,Lc,$l,Mc,er,Gr;class ey extends Lu{constructor(n){super("feature-tree:v2",n,Jv);K(this,Rl);K(this,Al);K(this,zl);K(this,$l);K(this,er)}async getTree(){return this.getData()}async setTree(n){await this.save(n)}findNode(n,r=null){const s=r??this.getData();for(const l of s){if(l.id===n)return l;if(l.children&&l.children.length>0){const a=this.findNode(n,l.children);if(a)return a}}return null}flattenTree(){const n=[],r=(s,l=0)=>{for(const a of s)n.push({id:a.id,name:a.name,depth:l}),a.children&&a.children.length>0&&r(a.children,l+1)};return r(this.getData()),n}async addNode(n,r){const s={id:this.generateId("ft"),name:r.name||"New Feature",description:r.description||"",memberIds:r.memberIds||[],oncall:r.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:new Date().toISOString().slice(0,10),memberOrder:[],overrides:[]},resources:[],partnerTeamIds:[],children:[],...r,id:r.id||this.generateId("ft")},l=this.getData(),a=_(this,Rl,Oc).call(this,n,s,l);return await this.save(a),s.id}async updateNode(n,r){const s=this.getData(),l=_(this,Al,_c).call(this,n,r,s);await this.save(l)}async deleteNode(n){let r=this.getData();r=_(this,$l,Mc).call(this,r,n),r=_(this,zl,Lc).call(this,n,r),await this.save(r)}async addResource(n,r){const s=this.findNode(n);if(!s)return;const l={id:this.generateId("res"),label:r.label||"",url:r.url||"",type:r.type||"other",visibility:r.visibility||"public"},a=[...s.resources||[],l];return await this.updateNode(n,{resources:a}),l.id}async removeResource(n,r){const s=this.findNode(n);if(!s)return;const l=(s.resources||[]).filter(a=>a.id!==r);await this.updateNode(n,{resources:l})}async updateResource(n,r,s){const l=this.findNode(n);if(!l)return;const a=(l.resources||[]).map(o=>o.id===r?{...o,...s}:o);await this.updateNode(n,{resources:a})}async addPartnerTeam(n,r){const s=this.getData(),l=_(this,er,Gr).call(this,n,s),a=_(this,er,Gr).call(this,r,s);!l||!a||(l.partnerTeamIds||(l.partnerTeamIds=[]),a.partnerTeamIds||(a.partnerTeamIds=[]),l.partnerTeamIds.includes(r)||l.partnerTeamIds.push(r),a.partnerTeamIds.includes(n)||a.partnerTeamIds.push(n),await this.save(s))}async removePartnerTeam(n,r){const s=this.getData(),l=_(this,er,Gr).call(this,n,s),a=_(this,er,Gr).call(this,r,s);l&&l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(o=>o!==r)),a&&a.partnerTeamIds&&(a.partnerTeamIds=a.partnerTeamIds.filter(o=>o!==n)),await this.save(s)}subscribe(n){return this.on("data-changed",({data:r})=>n(r))}}Rl=new WeakSet,Oc=function(n,r,s){return n===null?[...s,r]:s.map(l=>l.id===n?{...l,children:[...l.children||[],r]}:l.children&&l.children.length>0?{...l,children:_(this,Rl,Oc).call(this,n,r,l.children)}:l)},Al=new WeakSet,_c=function(n,r,s){return s.map(l=>l.id===n?{...l,...r}:l.children&&l.children.length>0?{...l,children:_(this,Al,_c).call(this,n,r,l.children)}:l)},zl=new WeakSet,Lc=function(n,r){return r.filter(s=>s.id!==n).map(s=>s.children&&s.children.length>0?{...s,children:_(this,zl,Lc).call(this,n,s.children)}:s)},$l=new WeakSet,Mc=function(n,r){return n.map(s=>{const l={...s};return l.partnerTeamIds&&(l.partnerTeamIds=l.partnerTeamIds.filter(a=>a!==r)),l.children&&l.children.length>0&&(l.children=_(this,$l,Mc).call(this,l.children,r)),l})},er=new WeakSet,Gr=function(n,r){for(const s of r){if(s.id===n)return s;if(s.children&&s.children.length>0){const l=_(this,er,Gr).call(this,n,s.children);if(l)return l}}return null};let No=null,Eo=null,Co=null;function Dn(){return No||(No=new Kv(Wa())),No}function fs(){return Eo||(Eo=new Zv(Wa())),Eo}function gn(){return Co||(Co=new ey(Wa())),Co}var ht,It,vt,Ot,tr,Bt,nr,zc,Ts,Fl,Sa,Wp,Bl,Rc,hn,Un,ja,Up,Da,Vp,He,Qe,Na,Gp;class ty{constructor(t=[]){K(this,Sa);K(this,Bl);K(this,hn);K(this,ja);K(this,Da);K(this,He);K(this,Na);K(this,ht,null);K(this,It,[]);K(this,vt,new Set);K(this,Ot,new Set);K(this,tr,[]);K(this,Bt,[]);K(this,nr,new Map);K(this,zc,new Map);K(this,Ts,new Map);K(this,Fl,!1);t.forEach(n=>C(this,Ot).add(n)),te(this,ht,Dn()),_(this,Sa,Wp).call(this)}isInitialized(){return C(this,Fl)}setFilterFunction(t){te(this,tr,t?[t]:[]),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"filter-changed",{visibleCount:C(this,Bt).length})}async appendItem(t,n){_(this,Na,Gp).call(this);try{const r=await C(this,ht).addTodo(n.title,t);return(n.dueDate!==void 0||n.description||n.priority)&&await C(this,ht).updateTodo(r.id,{description:n.description,priority:n.priority,...n}),r.id}catch(r){throw _(this,He,Qe).call(this,"error",{operation:"appendItem",error:r}),r}}async insertAt(t,n,r){return this.appendItem(t,r)}async insertAfter(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async insertBefore(t,n){if(!this.getItem(t))throw new Error(`Sibling ${t} not found`);const s=this.getParent(t),l=(s==null?void 0:s.id)||null;return this.appendItem(l,n)}async deleteItem(t){try{return await C(this,ht).deleteTodo(t),C(this,vt).has(t)&&(C(this,vt).delete(t),_(this,He,Qe).call(this,"selection-changed",{selectedIds:Array.from(C(this,vt))})),!0}catch(n){throw _(this,He,Qe).call(this,"error",{operation:"deleteItem",error:n}),n}}async updateItem(t,n){try{return await C(this,ht).updateTodo(t,n),!0}catch(r){throw _(this,He,Qe).call(this,"error",{operation:"updateItem",error:r}),r}}async toggleComplete(t,n=!0){var r;try{const s=this.getItem(t);if(!s)return!1;if(await C(this,ht).toggleTodo(t),n&&((r=s.children)==null?void 0:r.length)>0){const l=a=>{a.forEach(o=>{C(this,ht).toggleTodo(o.id),o.children&&l(o.children)})};l(s.children)}return!0}catch(s){throw _(this,He,Qe).call(this,"error",{operation:"toggleComplete",error:s}),s}}async makeChild(t,n){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);if(!this.getItem(n))throw new Error(`Parent ${n} not found`);if(_(this,Da,Vp).call(this,n,t))throw new Error("Cannot make item a child of its own descendant");return await C(this,ht).moveTodo(t,n),this.expand(n),!0}catch(r){throw _(this,He,Qe).call(this,"error",{operation:"makeChild",error:r}),r}}async indent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t),s=r?r.children:C(this,It),l=s.findIndex(o=>o.id===t);if(l<=0)return!1;const a=s[l-1];return await this.makeChild(t,a.id)}catch(n){throw _(this,He,Qe).call(this,"error",{operation:"indent",error:n}),n}}async outdent(t){try{if(!this.getItem(t))throw new Error(`Item ${t} not found`);const r=this.getParent(t);if(!r)return!1;const s=this.getParent(r.id),l=(s==null?void 0:s.id)||null;return await C(this,ht).moveTodo(t,l),!0}catch(n){throw _(this,He,Qe).call(this,"error",{operation:"outdent",error:n}),n}}expand(t){C(this,Ot).has(t)||(C(this,Ot).add(t),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"expansion-changed",{expandedIds:Array.from(C(this,Ot))}))}collapse(t){C(this,Ot).has(t)&&(C(this,Ot).delete(t),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"expansion-changed",{expandedIds:Array.from(C(this,Ot))}))}toggleExpand(t){C(this,Ot).has(t)?this.collapse(t):this.expand(t)}select(t,n=!0){n&&C(this,vt).clear(),C(this,vt).add(t),_(this,He,Qe).call(this,"selection-changed",{selectedIds:Array.from(C(this,vt))})}deselect(t){C(this,vt).delete(t),_(this,He,Qe).call(this,"selection-changed",{selectedIds:Array.from(C(this,vt))})}clearSelection(){C(this,vt).clear(),_(this,He,Qe).call(this,"selection-changed",{selectedIds:[]})}multiSelect(t){t.forEach(n=>C(this,vt).add(n)),_(this,He,Qe).call(this,"selection-changed",{selectedIds:Array.from(C(this,vt))})}getItem(t){return C(this,Ts).get(t)}getParent(t){const n=r=>{var s;for(const l of r){if((s=l.children)!=null&&s.some(a=>a.id===t))return l;if(l.children){const a=n(l.children);if(a)return a}}return null};return n(C(this,It))}getChildren(t){const n=this.getItem(t);return(n==null?void 0:n.children)||[]}getSiblings(t){const n=this.getParent(t);return(n?n.children:C(this,It)).filter(s=>s.id!==t)}getAllItems(){return C(this,It)}getSelectedIds(){return Array.from(C(this,vt))}getExpandedIds(){return Array.from(C(this,Ot))}getVisibleItems(){return C(this,Bt)}getItemsInRange(t,n){return C(this,Bt).slice(t,n)}getItemPosition(t){return C(this,Bt).findIndex(n=>n.id===t)}getVisibleCount(){return C(this,Bt).length}addFilter(t){C(this,tr).push(t),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"filter-changed",{visibleCount:C(this,Bt).length})}clearFilters(){te(this,tr,[]),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"filter-changed",{visibleCount:C(this,Bt).length})}on(t,n){C(this,nr).has(t)||C(this,nr).set(t,new Set),C(this,nr).get(t).add(n)}off(t,n){var r;(r=C(this,nr).get(t))==null||r.delete(n)}}ht=new WeakMap,It=new WeakMap,vt=new WeakMap,Ot=new WeakMap,tr=new WeakMap,Bt=new WeakMap,nr=new WeakMap,zc=new WeakMap,Ts=new WeakMap,Fl=new WeakMap,Sa=new WeakSet,Wp=async function(){C(this,ht).isInitialized()||await C(this,ht).initialize(),te(this,It,await C(this,ht).getTodos()),_(this,Bl,Rc).call(this),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"items-changed",{items:C(this,It)}),C(this,ht).on("data-changed",({data:t})=>{te(this,It,t),_(this,Bl,Rc).call(this),_(this,hn,Un).call(this),_(this,He,Qe).call(this,"items-changed",{items:C(this,It)})}),te(this,Fl,!0)},Bl=new WeakSet,Rc=function(){C(this,Ts).clear();const t=n=>{n.forEach(r=>{C(this,Ts).set(r.id,r),r.children&&t(r.children)})};t(C(this,It))},hn=new WeakSet,Un=function(){te(this,Bt,[]);const t=(n,r=0)=>{n.forEach(s=>{var l;_(this,ja,Up).call(this,s)&&(C(this,Bt).push({id:s.id,depth:r,item:s}),C(this,Ot).has(s.id)&&((l=s.children)==null?void 0:l.length)>0&&t(s.children,r+1))})};t(C(this,It))},ja=new WeakSet,Up=function(t){return C(this,tr).length===0?!0:C(this,tr).every(n=>n(t))},Da=new WeakSet,Vp=function(t,n){const r=this.getItem(n);if(!r||!r.children)return!1;const s=l=>{for(const a of l)if(a.id===t||a.children&&s(a.children))return!0;return!1};return s(r.children)},He=new WeakSet,Qe=function(t,n){const r=C(this,nr).get(t);r&&r.forEach(s=>{try{s(n)}catch(l){console.error(`Error in ${t} handler:`,l)}})},Na=new WeakSet,Gp=function(){return`op-${Date.now()}-${Math.random().toString(36).slice(2,9)}`};let To=null;function ny(e){return To||(To=new ty(e||["1","2"])),To}function Yp(e){return!!(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0)}function ry(e){const t=e.getDay();return t>=1&&t<=5}function sy(e,t,n,r,s=!1){const l=[],a=new Date(t);a.setHours(0,0,0,0);const o=new Date(n);if(o.setHours(23,59,59,999),e==="daily"){const c=new Date(a);for(;c<=o;)(!s||ry(c))&&l.push(new Date(c)),c.setDate(c.getDate()+1)}else if(e==="weekly"||e==="biweekly"){const c=e==="biweekly"?14:7,f=r?r.getDay():1,p=new Date(a);for(;p.getDay()!==f;)p.setDate(p.getDate()+1);for(;p<=o;)l.push(new Date(p)),p.setDate(p.getDate()+c)}else if(e==="monthly"){const c=r?r.getDate():1,f=new Date(a.getFullYear(),a.getMonth(),c);for(f<a&&f.setMonth(f.getMonth()+1);f<=o;)l.push(new Date(f)),f.setMonth(f.getMonth()+1)}return l}function Qd(e,t,n={}){var s;const r=((s=e.instances)==null?void 0:s[t])||{};return{...e,id:`${e.id}:${t}`,masterId:e.id,isInstance:!0,instanceKey:t,completed:r.completed||!1,notes:r.notes||"",...n,children:[]}}function ly(e,t,n,r,s={}){const{showAllInstances:l=!1}=s;if(e.type==="chore"&&e.recurrence){const a=sy(e.recurrence,t,n,e.dueDate,e.workdaysOnly||!1);return a.length===0?[]:(l?a:[iy(a)]).map(c=>{const f=c.toISOString().slice(0,10);return Qd(e,f,{instanceDate:c,recurrence:void 0})})}if(e.type==="assignment"&&e.assignees&&e.assignees.length>0){if(e.dueDate){const a=new Date(e.dueDate);if(a<t||a>n)return[]}return e.assignees.map(a=>{const o=r==null?void 0:r.find(c=>c.id===a);return Qd(e,a,{instanceAssignee:a,instanceAssigneeName:(o==null?void 0:o.name)||a,instanceAssigneeAvatar:(o==null?void 0:o.avatar)||"",assignee:a,assignees:void 0})})}return[]}function iy(e){if(e.length===0)return null;const t=new Date;t.setHours(0,0,0,0);const n=t.toISOString().slice(0,10),r=e.find(a=>a.toISOString().slice(0,10)===n);if(r)return r;const s=e.filter(a=>a>=t).sort((a,o)=>a-o);return s.length>0?s[0]:e.filter(a=>a<t).sort((a,o)=>o-a)[0]}function ay(e){if(e.type==="chore"&&e.recurrence){const t=Object.keys(e.instances||{}).length;if(t>0)return t;switch(e.recurrence){case"daily":return"~30/mo";case"weekly":return"~4/mo";case"biweekly":return"~2/mo";case"monthly":return"~1/mo";default:return"?"}}return e.type==="assignment"&&e.assignees?e.assignees.length:0}function oy(e){var l;const t=e.instances||{},n=Object.keys(t),r=e.type==="assignment"?((l=e.assignees)==null?void 0:l.length)||0:n.length,s=n.filter(a=>{var o;return(o=t[a])==null?void 0:o.completed}).length;return{total:r,completed:s}}function cy(e,t,n,r){return{...e||{},[t]:{...(e==null?void 0:e[t])||{},[n]:r}}}const Kd={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""};function Qp({todo:e,depth:t=0,isExpanded:n,isSelected:r,expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:f,onDoubleClick:p,onContextMenu:v,onDragStart:d,onDragOver:m,onDrop:E,onDragEnd:S,dragOverId:j,dragOverPosition:h,draggedId:u,onNavigateToMaster:g,teamMembers:y}){var ne;const N=e.children&&e.children.length>0,b=e.isInstance,I=!b&&Yp(e),A=L=>{L.stopPropagation(),d&&d(e.id,L)},F=L=>{L.preventDefault(),L.stopPropagation(),m&&m(e.id,L)},ee=L=>{L.preventDefault(),L.stopPropagation(),E&&E(e.id,L)},D=L=>{L.stopPropagation(),S&&S(L)},Q=j===e.id&&h==="middle",he=u===e.id,ie=!e.completed&&e.dueDate&&new Date(e.dueDate)<new Date(new Date().setHours(0,0,0,0)),Ue=k.useRef(0),Me=()=>{const L=Date.now();L-Ue.current<350?(Ue.current=0,p&&p(e.id)):(Ue.current=L,f(e.id))};let Ee=null;if(b)if(e.instanceDate){const L=new Date(e.instanceDate),oe=L.toLocaleDateString("en-US",{weekday:"short"}),ue=`${L.getMonth()+1}/${L.getDate()}`;Ee=`${oe} ${ue}`}else e.instanceAssignee&&(Ee=`${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`);let G=null;if(I){const L=ay(e),oe=oy(e);G=i.jsxs("span",{className:"master-instance-count",title:oe.total>0?`${oe.completed}/${oe.total} completed`:"",children:[" ",typeof L=="number"?`${L} instances`:L,oe.total>0&&` (${oe.completed})`]})}return i.jsxs("div",{style:{marginLeft:`${t*24}px`},children:[i.jsxs("div",{"data-item-id":e.id,className:`todo-item ${r?a.has(e.id)?"multi-selected":"selected":""} ${e.completed?"completed":""} ${Q?"drop-indicator-middle":""} ${he?"dragging":""} ${b?`instance instance-${e.type}`:""} ${I?"master":""} ${ie?"past-due":""}`,onClick:Me,onContextMenu:L=>{L.preventDefault(),v&&v(e.id,L.clientX,L.clientY)},draggable:!b,onDragStart:A,onDragOver:F,onDrop:ee,onDragEnd:D,children:[N?i.jsx("button",{className:"expand-btn",onClick:L=>{L.stopPropagation(),o(e.id)},"aria-label":"toggle-expand",children:n?i.jsx(Yl,{size:16}):i.jsx(Ha,{size:16})}):i.jsx("div",{className:"expand-spacer"}),!b&&i.jsxs("span",{className:"task-number",children:["#",e.id]}),i.jsx("button",{className:"checkbox",onClick:L=>{L.stopPropagation(),c(e.id)},"aria-label":"toggle-complete",children:e.completed?i.jsx(Pp,{size:18}):i.jsx(bp,{size:18})}),e.backend==="github"&&((ne=e.github)!=null&&ne.url)?i.jsx("a",{className:"backend-icon backend-icon-link",href:e.github.url,target:"_blank",rel:"noopener noreferrer",onClick:L=>L.stopPropagation(),title:`${e.github.repo}#${e.github.number}`,children:Kd[e.backend]}):i.jsx("span",{className:"backend-icon",children:Kd[e.backend]}),e.type&&e.type!=="task"&&i.jsxs("span",{className:`type-pill type-${e.type}`,children:[e.type==="bug"&&"",e.type==="issue"&&"",e.type==="feature"&&"",e.type==="assignment"&&"",e.type==="chore"&&""," ",e.type]}),i.jsx("span",{className:"todo-title",children:e.title}),Ee&&i.jsx("span",{className:"instance-context",children:Ee}),b&&g&&i.jsx("button",{className:"master-link",onClick:L=>{L.stopPropagation(),g(e.masterId)},title:`Open master #${e.masterId}`,children:""}),G,!b&&e.assignees&&e.assignees.length>0&&i.jsxs("span",{className:"assignee-count",title:e.assignees.join(", "),children:[" ",e.assignees.length]}),!b&&e.recurrence&&i.jsxs("span",{className:"recurrence-badge",children:[" ",e.recurrence]}),e.dependencies&&e.dependencies.length>0&&i.jsxs("span",{className:"dependency-indicator",title:`Depends on: ${e.dependencies.map(L=>"#"+L).join(", ")}`,children:[" ",e.dependencies.length]}),e.tags&&e.tags.length>0&&i.jsx("div",{className:"tags",children:e.tags.map(L=>i.jsx("span",{className:"tag",children:L},L))}),e.dueDate&&!b&&i.jsxs("span",{className:"due-date",children:[i.jsx(Cc,{size:12}),new Date(e.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),N&&n&&i.jsx("div",{className:"children",children:e.children.map(L=>i.jsx(Qp,{todo:L,depth:t+1,isExpanded:s.has(L.id),isSelected:L.id===l||a.has(L.id),expandedIds:s,selectedId:l,selectedIds:a,onToggleExpand:o,onToggleComplete:c,onSelect:f,onDoubleClick:p,onContextMenu:v,onDragStart:d,onDragOver:m,onDrop:E,onDragEnd:S,dragOverId:j,dragOverPosition:h,draggedId:u,onNavigateToMaster:g,teamMembers:y},L.id))})]})}const uy={local:"",our_backend:"",github:"",google_drive:"",azure_devops:"",onenote:""},bo=[{id:"unassigned",name:"Unassigned",avatar:""},{id:"alice",name:"Alice Chen",avatar:""},{id:"bob",name:"Bob Smith",avatar:""},{id:"carol",name:"Carol White",avatar:""},{id:"dave",name:"Dave Brown",avatar:""}],dy=[{id:"task",label:"Task"},{id:"bug",label:"Bug"},{id:"issue",label:"Issue"},{id:"feature",label:"Feature"},{id:"assignment",label:"Assignment"},{id:"chore",label:"Chore"},{id:"buffer",label:"Buffer Time"}],fy=[{id:"daily",label:"Daily"},{id:"weekly",label:"Weekly"},{id:"biweekly",label:"Biweekly"},{id:"monthly",label:"Monthly"}],hy=["P0","P1","P2","P3","P4"],py=["Critical","High","Medium","Low"],my=["untriaged","backlog","triaged","in_progress","fixed","closed"],gy=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"api",name:"API"},{id:"database",name:"Database"},{id:"auth",name:"Authentication"},{id:"infra",name:"Infrastructure"},{id:"other",name:"Other"}];function vy({todo:e,onUpdate:t,onClose:n,style:r,teamMembers:s,featureOptions:l,onNavigateToMaster:a}){if(!e)return null;const o=e.isInstance,c=!o&&(e.type==="chore"&&e.recurrence||e.type==="assignment"&&e.assignees&&e.assignees.length>0),f=D=>{const Q=D.target.value?new Date(D.target.value):null;t(e.id,{dueDate:Q})},p=D=>{t(e.id,{description:D.target.value})},v=D=>{if(D.key==="Enter"&&D.target.value.trim()){const Q=[...e.tags||[],D.target.value.trim()];t(e.id,{tags:Q}),D.target.value=""}},d=D=>{const Q=(e.tags||[]).filter(he=>he!==D);t(e.id,{tags:Q})},m=D=>{if(D.key==="Enter"&&D.target.value.trim()){const Q=D.target.value.trim().replace(/^#/,""),he=[...e.dependencies||[],Q];t(e.id,{dependencies:he}),D.target.value=""}},E=D=>{const Q=(e.dependencies||[]).filter(he=>he!==D);t(e.id,{dependencies:Q})},S=D=>{const Q=parseFloat(D.target.value);t(e.id,{estimate:isNaN(Q)?null:Q})},j=D=>{t(e.id,{assignee:D.target.value})},h=D=>{t(e.id,{type:D.target.value})},u=D=>{t(e.id,{priority:D.target.value})},g=D=>{t(e.id,{severity:D.target.value})},y=D=>{t(e.id,{triageStatus:D.target.value})},N=D=>{t(e.id,{featureArea:D.target.value})},b=e.type==="bug"||e.type==="issue",I=b?[{key:"environment",label:"Environment / Setup"},{key:"reproSteps",label:"Steps to Reproduce"},{key:"expectedBehavior",label:"Expected Behavior"},{key:"actualBehavior",label:"Actual Behavior"}]:[],A=I.filter(D=>e[D.key]&&e[D.key].trim()).length,F=D=>Q=>{t(e.id,{[D]:Q.target.value})},ee=D=>{t(e.id,{debugInfo:D.target.value})};return i.jsxs("aside",{className:"detail-panel",style:r,children:[i.jsxs("div",{className:"detail-header",children:[i.jsx("h2",{children:e.title}),i.jsx("button",{className:"close-btn",onClick:n,children:i.jsx(yr,{size:16})})]}),o&&i.jsxs("div",{className:"instance-banner",children:[i.jsxs("span",{className:"instance-banner-label",children:["Instance of #",e.masterId,e.instanceDate&&`  ${new Date(e.instanceDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}`,e.instanceAssignee&&`  ${e.instanceAssigneeAvatar||""} ${e.instanceAssigneeName||e.instanceAssignee}`]}),a&&i.jsx("button",{className:"instance-banner-link",onClick:()=>a(e.masterId),children:" Open Master"})]}),i.jsx("div",{className:"detail-backend",children:i.jsxs("span",{className:"backend-badge",children:[uy[e.backend]," ",e.backend.replace("_"," ")]})}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(yo,{size:16})," Type"]}),i.jsx("select",{className:"detail-input",value:e.type||"task",onChange:h,children:dy.map(D=>i.jsx("option",{value:D.id,children:D.label},D.id))})]}),b&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Priority"}),i.jsxs("select",{className:"detail-input",value:e.priority||"",onChange:u,children:[i.jsx("option",{value:"",children:"No Priority"}),hy.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Severity"}),i.jsxs("select",{className:"detail-input",value:e.severity||"",onChange:g,children:[i.jsx("option",{value:"",children:"No Severity"}),py.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Triage Status"}),i.jsx("select",{className:"detail-input",value:e.triageStatus||"untriaged",onChange:y,children:my.map(D=>i.jsx("option",{value:D,children:D.replace("_"," ").replace(/\b\w/g,Q=>Q.toUpperCase())},D))})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature Area"}),i.jsxs("select",{className:"detail-input",value:e.featureArea||"",onChange:N,children:[i.jsx("option",{value:"",children:"No Feature Area"}),gy.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]}),i.jsxs("div",{className:"bug-completeness",children:[i.jsx("div",{className:"bug-completeness-bar",children:i.jsx("div",{className:"bug-completeness-fill",style:{width:`${A/4*100}%`}})}),i.jsxs("span",{className:"bug-completeness-label",children:[A,"/4 details filled"]})]}),I.map(D=>i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{className:`bug-field-header ${e[D.key]&&e[D.key].trim()?"filled":"empty"}`,children:[e[D.key]&&e[D.key].trim()?"":""," ",D.label]}),i.jsx("textarea",{className:"detail-textarea bug-field-textarea",placeholder:D.key==="environment"?"OS, browser, device, app version, relevant config...":D.key==="reproSteps"?`1. Go to...
2. Click on...
3. Observe...`:D.key==="expectedBehavior"?"What should have happened...":"What actually happened, error messages, stack traces...",rows:D.key==="reproSteps"?5:3,value:e[D.key]||"",onChange:F(D.key)})]},D.key)),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Attachments"}),i.jsx("div",{className:"bug-attachment-zone",children:i.jsxs("div",{className:"bug-attachment-placeholder",children:[i.jsx("span",{className:"bug-attachment-icon",children:""}),i.jsx("span",{className:"bug-attachment-text",children:"Screenshots, videos, crash dumps"}),i.jsx("span",{className:"bug-attachment-hint",children:"Drag & drop or click to attach (not yet implemented)"})]})})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Debug Info"}),i.jsx("textarea",{className:"detail-textarea bug-debug-textarea",placeholder:"Paste logs, telemetry data, stack traces, device info...",rows:6,value:e.debugInfo||"",onChange:ee})]})]}),e.type==="assignment"&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Tc,{size:16})," Assignees"]}),i.jsx("div",{className:"assignee-checklist",children:(s||bo).filter(D=>D.id!=="unassigned").map(D=>{const Q=e.assignees||[],he=Q.includes(D.id);return i.jsxs("label",{className:"assignee-check-row",children:[i.jsx("input",{type:"checkbox",checked:he,onChange:()=>{const ie=he?Q.filter(Ue=>Ue!==D.id):[...Q,D.id];t(e.id,{assignees:ie})}}),i.jsx("span",{className:"assignee-check-avatar",children:D.avatar}),i.jsx("span",{className:"assignee-check-name",children:D.name})]},D.id)})})]}),e.type==="chore"&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Recurrence"}),i.jsxs("select",{className:"detail-input",value:e.recurrence||"",onChange:D=>t(e.id,{recurrence:D.target.value}),children:[i.jsx("option",{value:"",children:"No Recurrence"}),fy.map(D=>i.jsx("option",{value:D.id,children:D.label},D.id))]}),e.recurrence==="daily"&&i.jsxs("label",{className:"workdays-only-toggle",children:[i.jsx("input",{type:"checkbox",checked:e.workdaysOnly||!1,onChange:D=>t(e.id,{workdaysOnly:D.target.checked})}),i.jsx("span",{children:"Workdays only (Mon-Fri)"})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Cc,{size:16})," Due Date"]}),i.jsx("input",{type:"datetime-local",className:"detail-input",value:e.dueDate&&e.dueDate instanceof Date?e.dueDate.toISOString().slice(0,16):"",onChange:f})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Cc,{size:16})," Estimate (days)"]}),i.jsx("input",{type:"number",className:"detail-input",placeholder:"Enter estimate in days...",min:"0.5",step:"0.5",value:e.estimate||"",onChange:S})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Tc,{size:16})," Assigned To"]}),i.jsxs("select",{className:"detail-input",value:e.assignee||"unassigned",onChange:j,children:[i.jsx("option",{value:"unassigned",children:" Unassigned"}),(s||bo).filter(D=>D.id!=="unassigned").map(D=>i.jsxs("option",{value:D.id,children:[D.avatar," ",D.name]},D.id))]})]}),l&&l.length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Feature"}),i.jsxs("select",{className:"detail-input",value:e.featurePath||"",onChange:D=>t(e.id,{featurePath:D.target.value||null}),children:[i.jsx("option",{value:"",children:"No Feature"}),l.map(D=>i.jsxs("option",{value:D.id,children:["".repeat(D.depth),D.name]},D.id))]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(yo,{size:16})," Tags"]}),i.jsxs("div",{className:"tag-input",children:[(e.tags||[]).map(D=>i.jsxs("span",{className:"tag editable",children:[D,i.jsx("button",{onClick:()=>d(D),children:""})]},D)),i.jsx("input",{type:"text",placeholder:"Add tag...",className:"detail-input-inline",onKeyDown:v})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(yo,{size:16})," Dependencies"]}),i.jsxs("div",{className:"tag-input",children:[(e.dependencies||[]).map(D=>i.jsxs("span",{className:"tag editable dependency-tag",children:["#",D,i.jsx("button",{onClick:()=>E(D),children:""})]},D)),i.jsx("input",{type:"text",placeholder:"Add dependency (e.g., #123)...",className:"detail-input-inline",onKeyDown:m})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Gd,{size:16})," Description"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add detailed description...",rows:6,value:e.description||"",onChange:p})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(_v,{size:16})," Attachments"]}),i.jsx("div",{className:"attachments",children:i.jsx("button",{className:"attachment-btn",disabled:!0,children:"Add File (not implemented)"})})]}),o&&i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Gd,{size:16})," Instance Notes"]}),i.jsx("textarea",{className:"detail-textarea",placeholder:"Add notes for this instance...",rows:4,value:e.notes||"",onChange:D=>t(e.id,{notes:D.target.value})})]}),c&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:" Instances"}),i.jsxs("div",{className:"instance-list",children:[e.type==="assignment"&&(e.assignees||[]).map(D=>{var ie;const Q=(s||bo).find(Ue=>Ue.id===D),he=((ie=e.instances)==null?void 0:ie[D])||{};return i.jsxs("div",{className:`instance-list-row ${he.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:he.completed?"":""}),i.jsx("span",{className:"instance-list-avatar",children:(Q==null?void 0:Q.avatar)||""}),i.jsx("span",{className:"instance-list-name",children:(Q==null?void 0:Q.name)||D}),he.notes&&i.jsx("span",{className:"instance-list-notes",children:he.notes})]},D)}),e.type==="chore"&&Object.entries(e.instances||{}).sort(([D],[Q])=>D.localeCompare(Q)).map(([D,Q])=>{const ie=new Date(D).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return i.jsxs("div",{className:`instance-list-row ${Q.completed?"completed":""}`,children:[i.jsx("span",{className:"instance-list-status",children:Q.completed?"":""}),i.jsx("span",{className:"instance-list-name",children:ie}),Q.notes&&i.jsx("span",{className:"instance-list-notes",children:Q.notes})]},D)}),(!e.instances||Object.keys(e.instances).length===0)&&i.jsx("div",{className:"instance-list-empty",children:"No instances yet. Instances appear in day/sprint views."})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsxs("h3",{children:[i.jsx(Ov,{size:16})," Comments"]}),i.jsx("div",{className:"comments",children:i.jsx("textarea",{className:"comment-input",placeholder:"Add a comment...",rows:3,disabled:!0})})]})]})}function yy({todos:e}){const n=(()=>{const s=new Date,l=[],a=S=>{S.forEach(j=>{j.completed||l.push(j),j.children&&a(j.children)})};if(a(e),l.length===0)return{percentage:0,status:"safe",message:"All clear!"};const o=l.filter(S=>S.dueDate).sort((S,j)=>new Date(S.dueDate)-new Date(j.dueDate));if(o.length===0)return{percentage:0,status:"safe",message:"No upcoming deadlines"};const c=o[0],p=(new Date(c.dueDate)-s)/(1e3*60*60),v=o.length,d=Math.min(100,v/p*100);let m="safe",E="On track";return d>80?(m="critical",E="High pressure! Focus time needed"):d>50&&(m="warning",E="Getting busy - stay focused"),{percentage:Math.max(0,d),status:m,message:E}})(),r={safe:"#3fb950",warning:"#fb8500",critical:"#f85149"};return i.jsxs("div",{className:"stress-meter",children:[i.jsxs("div",{className:"stress-header",children:[i.jsx(Pv,{size:14}),i.jsx("span",{children:"Stress Meter"})]}),i.jsx("div",{className:"stress-bar-bg",children:i.jsx("div",{className:`stress-bar-fill stress-${n.status}`,style:{width:`${n.percentage}%`,backgroundColor:r[n.status]}})}),i.jsx("div",{className:"stress-message",children:n.message})]})}const wy=[{id:"day",label:"Today",emoji:""},{id:"week",label:"Week",emoji:""},{id:"sprint",label:"Sprint",emoji:""},{id:"half",label:"Half",emoji:""},{id:"year",label:"Year",emoji:""},{id:"global",label:"Global",emoji:""}];function xy({activeRange:e,onRangeChange:t,onDropToRange:n,periodOffset:r,onPeriodChange:s}){const[l,a]=k.useState(null),o=(E,S)=>{E.preventDefault(),a(S)},c=()=>{a(null)},f=(E,S)=>{E.preventDefault(),a(null),n&&n(S)},p=()=>{s&&s(r-1)},v=()=>{s&&s(r+1)},d=()=>{s&&s(0)},m=()=>{if(r===0)return e==="day"?"Today":`Current ${e}`;const E=r>0?"Next":"Previous",S=Math.abs(r);return S===1?e==="day"?r>0?"Tomorrow":"Yesterday":`${E} ${e}`:`${S} ${e}s ${r>0?"ahead":"ago"}`};return i.jsxs("div",{className:"time-range-tabs",children:[i.jsxs("div",{className:"time-range-navigation",children:[i.jsx("button",{className:"nav-button",onClick:p,title:"Previous period",children:""}),i.jsx("button",{className:"nav-today",onClick:d,title:"Go to current period",disabled:r===0,children:m()}),i.jsx("button",{className:"nav-button",onClick:v,title:"Next period",children:""})]}),wy.map(E=>i.jsxs("button",{className:`time-tab ${e===E.id?"active":""} ${l===E.id?"drag-over":""}`,onClick:()=>t(E.id),onDragOver:S=>o(S,E.id),onDragLeave:c,onDrop:S=>f(S,E.id),children:[i.jsx("span",{className:"tab-emoji",children:E.emoji}),i.jsx("span",{className:"tab-label",children:E.label})]},E.id))]})}const Kp=k.createContext(null);function ky({children:e}){const[t,n]=k.useState(!1),[r,s]=k.useState(!1),[l,a]=k.useState(!1),[o,c]=k.useState("idle"),[f,p]=k.useState(0),[v,d]=k.useState(null),[m,E]=k.useState(!1),S=Wa(),j=Wv();k.useEffect(()=>{(async()=>{if(E(j.hasClientId()),j.hasSavedSession()){s(!0);try{await j.tryRestore()&&(S.setRemoteProvider(j),n(!0),await S.pullFromRemote())}catch(F){console.warn("Session restore failed:",F)}finally{s(!1)}}a(!0)})();const I=S.on("sync-state-changed",({state:F})=>{c(F)}),A=S.on("queue-changed",({pendingCount:F})=>{p(F)});return()=>{I(),A()}},[S,j]),k.useEffect(()=>j.hasClientId()?j.onStateChange(I=>{switch(I.type){case"authenticated":n(!0),s(!1),d(null);break;case"signed-out":n(!1);break;case"token-expired":n(!1),d("Session expired. Please sign in again.");break;case"auth-error":d(I.error),s(!1);break;case"write-conflict":d("Write conflict detected. A backup was saved to Google Drive.");break}}):void 0,[j]);const h=k.useCallback(async()=>{if(!j.hasClientId()){d("Google Cloud Client ID not configured");return}s(!0),d(null);try{await j.authenticate(),S.setRemoteProvider(j),n(!0),await S.fullSync()}catch(b){console.error("Sign in failed:",b),d(b.message||"Sign in failed")}finally{s(!1)}},[j,S]),u=k.useCallback(async()=>{try{await j.signOut(),S.setRemoteProvider(null),n(!1),d(null)}catch(b){console.error("Sign out failed:",b)}},[j,S]),g=k.useCallback(async()=>{if(t)try{await S.fullSync()}catch(b){console.error("Sync failed:",b),d(b.message||"Sync failed")}},[t,S]),y=k.useCallback(()=>{d(null)},[]),N={isAuthenticated:t,isLoading:r,isInitialized:l,syncState:o,pendingCount:f,error:v,hasClientId:m,signIn:h,signOut:u,syncNow:g,clearError:y};return i.jsx(Kp.Provider,{value:N,children:e})}function Xp(){const e=k.useContext(Kp);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Zp=k.createContext(null),Sy=5*60*1e3;function jy({children:e}){const[t,n]=k.useState(!1),[r,s]=k.useState(!1),[l,a]=k.useState(null),[o,c]=k.useState(null),[f,p]=k.useState(null),v=k.useRef(null),d=Gv(),m=Dn();k.useEffect(()=>{(async()=>{if(d.hasSavedSession()){s(!0);try{const N=await d.tryRestore();N&&(n(!0),a(N.login),p(d.getLastSync()),await E())}catch(N){console.warn("GitHub restore failed:",N)}finally{s(!1)}}})()},[]),k.useEffect(()=>(t&&(v.current=setInterval(()=>{E().catch(y=>console.warn("GitHub auto-sync failed:",y))},Sy)),()=>{v.current&&(clearInterval(v.current),v.current=null)}),[t]);const E=k.useCallback(async()=>{if(d.isConnected())try{const y=await d.fetchAssignedIssues();m.isInitialized()||await m.initialize();for(const N of y)await m.upsertTodo(N.id,N);p(new Date)}catch(y){throw console.error("GitHub merge failed:",y),y}},[d,m]),S=k.useCallback(async y=>{if(!(y!=null&&y.trim())){c("Please enter a token");return}s(!0),c(null);try{const N=await d.authenticate(y.trim());n(!0),a(N.login),await E()}catch(N){c(N.message||"Failed to connect")}finally{s(!1)}},[d,E]),j=k.useCallback(()=>{d.disconnect(),n(!1),a(null),p(null),c(null)},[d]),h=k.useCallback(async()=>{if(t){s(!0),c(null);try{await E()}catch(y){c(y.message||"Sync failed")}finally{s(!1)}}},[t,E]),u=k.useCallback(()=>{c(null)},[]),g={isConnected:t,isLoading:r,userName:l,error:o,lastSync:f,connect:S,disconnect:j,syncNow:h,clearError:u};return i.jsx(Zp.Provider,{value:g,children:e})}function Dy(){const e=k.useContext(Zp);if(!e)throw new Error("useGitHub must be used within a GitHubProvider");return e}const Ny=[{id:"local",name:"Local Storage",icon:"",enabled:!0},{id:"our_backend",name:"Cloud Sync",icon:"",enabled:!0},{id:"azure_devops",name:"Azure DevOps",icon:"",enabled:!1},{id:"onenote",name:"OneNote",icon:"",enabled:!1}];function Ey({showCompleted:e,onToggleCompleted:t,viewMode:n,teamMembers:r,onUpdateTeamMembers:s,onOpenTimeBlockManager:l,ghostItemsInline:a,onToggleGhostItemsInline:o,todos:c,featureTree:f,onImportData:p}){const[v,d]=k.useState(!1),[m,E]=k.useState(Ny),[S,j]=k.useState(r||[]),h=k.useRef(null),{isAuthenticated:u,isLoading:g,signIn:y,signOut:N,error:b,clearError:I}=Xp(),{isConnected:A,isLoading:F,userName:ee,error:D,lastSync:Q,connect:he,disconnect:ie,syncNow:Ue,clearError:Me}=Dy(),[Ee,G]=k.useState(""),ne=J=>{if(!J)return"";const P=Math.floor((new Date-new Date(J))/1e3);return P<60?"just now":P<3600?`${Math.floor(P/60)}m ago`:P<86400?`${Math.floor(P/3600)}h ago`:`${Math.floor(P/86400)}d ago`},L=J=>{E(ve=>ve.map(P=>P.id===J?{...P,enabled:!P.enabled}:P))},oe=J=>{const ve=S.map(P=>P.id===J?{...P,enabled:!P.enabled}:P);j(ve),s&&s(ve)},ue=(J,ve)=>{const P=[...S],[Y]=P.splice(J,1);P.splice(ve,0,Y),j(P),s&&s(P)},be=async()=>{u?await N():(I(),await y())},Ie=()=>{const J={version:"1.0",exportedAt:new Date().toISOString(),todos:c||[],people:r||[],featureTree:f||[]},ve=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),P=URL.createObjectURL(ve),Y=document.createElement("a");Y.href=P,Y.download=`uqueue-export-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(P)},ke=()=>{var J;(J=h.current)==null||J.click()},Oe=async J=>{var P;const ve=(P=J.target.files)==null?void 0:P[0];if(ve){try{const Y=await ve.text(),X=JSON.parse(Y);if(!X.version||!X.todos){alert("Invalid export file format");return}p&&(p(X),d(!1))}catch(Y){alert("Failed to parse import file: "+Y.message)}J.target.value=""}};return v?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"settings-overlay",onClick:()=>d(!1)}),i.jsxs("div",{className:"settings-modal",children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h2",{children:"Settings"}),i.jsx("button",{className:"close-btn",onClick:()=>d(!1),children:i.jsx(yr,{size:18})})]}),i.jsxs("div",{className:"settings-content",children:[n==="team"&&S&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Team Members"}),i.jsx("p",{className:"settings-description",children:"Manage team members and their display order"}),i.jsx("div",{className:"backend-list",children:S.map((J,ve)=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:J.avatar}),i.jsx("span",{className:"backend-item-name",children:J.name})]}),i.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[i.jsx("button",{className:"reorder-btn",onClick:()=>ve>0&&ue(ve,ve-1),disabled:ve===0,title:"Move up",children:""}),i.jsx("button",{className:"reorder-btn",onClick:()=>ve<S.length-1&&ue(ve,ve+1),disabled:ve===S.length-1,title:"Move down",children:""}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:J.enabled!==!1,onChange:()=>oe(J.id)}),i.jsx("span",{className:"toggle-slider"})]})]})]},J.id))}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(Mn,{size:16}),"Add Team Member (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Connected Services"}),i.jsx("p",{className:"settings-description",children:"Manage which services can sync your tasks"}),i.jsxs("div",{className:"backend-list",children:[i.jsxs("div",{className:`backend-item ${u?"backend-active":""}`,children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:""}),i.jsx("span",{className:"backend-item-name",children:"Google Drive"}),g&&i.jsx("span",{className:"backend-item-status loading",children:"Connecting..."}),u&&!g&&i.jsx("span",{className:"backend-item-status synced",children:"Connected"})]}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:be,disabled:g}),i.jsx("span",{className:"toggle-slider"})]})]}),b&&i.jsx("div",{className:"backend-error",onClick:I,children:b}),m.map(J=>i.jsxs("div",{className:"backend-item",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:J.icon}),i.jsx("span",{className:"backend-item-name",children:J.name})]}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:J.enabled,onChange:()=>L(J.id)}),i.jsx("span",{className:"toggle-slider"})]})]},J.id))]}),i.jsxs("button",{className:"add-service-btn",disabled:!0,children:[i.jsx(Mn,{size:16}),"Add Custom Service (Coming Soon)"]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"GitHub"}),i.jsx("p",{className:"settings-description",children:"Import issues assigned to you from GitHub"}),A?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"backend-item backend-active",children:[i.jsxs("div",{className:"backend-info",children:[i.jsx("span",{className:"backend-item-icon",children:""}),i.jsxs("span",{className:"backend-item-name",children:["GitHub (",ee,")"]}),i.jsx("span",{className:"backend-item-status synced",children:"Connected"})]}),i.jsx("button",{className:"add-service-btn",onClick:ie,style:{margin:0,padding:"4px 10px",fontSize:"12px"},children:"Disconnect"})]}),i.jsxs("button",{className:"add-service-btn",onClick:Ue,disabled:F,children:[F?"Syncing...":"Sync Now",Q&&!F&&i.jsxs("span",{style:{opacity:.6,marginLeft:"8px",fontSize:"11px"},children:["last: ",ne(Q)]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"github-token-input",children:[i.jsx("input",{type:"password",placeholder:"Personal Access Token",value:Ee,onChange:J=>G(J.target.value),onKeyDown:J=>{J.key==="Enter"&&Ee.trim()&&(he(Ee),G(""))}}),i.jsx("button",{onClick:()=>{he(Ee),G("")},disabled:F||!Ee.trim(),children:F?"...":"Connect"})]}),i.jsxs("p",{className:"settings-hint",children:["Generate a token at GitHub Settings  Developer settings  Personal access tokens. Needs ",i.jsx("code",{children:"repo"})," scope."]})]}),D&&i.jsx("div",{className:"backend-error",onClick:Me,children:D})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Time Management"}),i.jsx("p",{className:"settings-description",children:"Create recurring time blocks to organize your day"}),i.jsx("button",{className:"add-service-btn",onClick:()=>{d(!1),l&&l()},children:" Manage Time Blocks"})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Data Management"}),i.jsx("p",{className:"settings-description",children:"Export or import all your data (todos, people, feature tree)"}),i.jsxs("div",{className:"data-management-buttons",children:[i.jsx("button",{className:"add-service-btn",onClick:Ie,children:" Export Data"}),i.jsx("button",{className:"add-service-btn",onClick:ke,children:" Import Data"}),i.jsx("input",{ref:h,type:"file",accept:".json",onChange:Oe,style:{display:"none"}})]})]}),i.jsxs("div",{className:"settings-section",children:[i.jsx("h3",{children:"Preferences"}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:e,onChange:J=>t(J.target.checked)}),"Show completed tasks"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Show stress meter"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),"Auto-expand parent items"]})}),i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox"}),"Enable notifications"]})}),n==="personal"&&i.jsx("div",{className:"preference-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:a||!1,onChange:J=>o&&o(J.target.checked)}),"Show ghost entries inline (below tasks)"]})})]})]}),i.jsx("div",{className:"settings-footer",children:i.jsx("button",{className:"settings-close-btn",onClick:()=>d(!1),children:"Close"})})]})]}):i.jsx("button",{className:"settings-button",onClick:()=>d(!0),title:"Settings",children:i.jsx(Lv,{size:18})})}const Cy=[{id:"day",label:"Day",emoji:"",options:[{label:"Today",offset:0},{label:"Tomorrow",offset:1}]},{id:"week",label:"Week",emoji:"",options:[{label:"This Week",offset:0},{label:"Next Week",offset:1}]},{id:"sprint",label:"Sprint",emoji:"",options:[{label:"This Sprint",offset:0},{label:"Next Sprint",offset:1}]},{id:"half",label:"Half",emoji:"",options:[{label:"This Half",offset:0},{label:"Next Half",offset:1}]},{id:"year",label:"Year",emoji:"",options:[{label:"This Year",offset:0},{label:"Next Year",offset:1}]}];function Ty({x:e,y:t,todo:n,onClose:r,onMoveToDate:s,getDueDateForRange:l}){const a=k.useRef(null),[o,c]=k.useState(null);if(k.useEffect(()=>{const d=E=>{a.current&&!a.current.contains(E.target)&&r()},m=E=>{E.key==="Escape"&&r()};return document.addEventListener("mousedown",d),document.addEventListener("keydown",m),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",m)}},[r]),!n)return null;const f=(d,m)=>{const E=l(d,m);s(n.id,E),r()},p=()=>{s(n.id,null),r()},v=d=>{c(m=>m===d?null:d)};return i.jsxs("div",{ref:a,className:"context-menu",style:{left:e,top:t},children:[i.jsx("div",{className:"context-menu-header",children:"Move to..."}),i.jsxs("div",{className:"context-menu-items",children:[Cy.map(d=>i.jsxs("div",{className:"context-menu-submenu-trigger",onMouseEnter:()=>c(d.id),onMouseLeave:()=>c(null),children:[i.jsxs("button",{className:`context-menu-item ${o===d.id?"active":""}`,onClick:()=>v(d.id),children:[i.jsx("span",{className:"context-menu-icon",children:d.emoji}),i.jsx("span",{className:"context-menu-label",children:d.label}),i.jsx("span",{className:"context-menu-arrow",children:""})]}),o===d.id&&i.jsx("div",{className:"context-submenu",children:d.options.map(m=>i.jsx("button",{className:"context-menu-item",onClick:()=>f(d.id,m.offset),children:i.jsx("span",{className:"context-menu-label",children:m.label})},m.label))})]},d.id)),i.jsx("div",{className:"context-menu-divider"}),i.jsxs("button",{className:"context-menu-item",onClick:p,children:[i.jsx("span",{className:"context-menu-icon",children:""}),i.jsx("span",{className:"context-menu-label",children:"Backlog"})]})]})]})}const Po=[{id:"personal",label:"Personal",icon:""},{id:"team",label:"Team",icon:""},{id:"timeline",label:"Timeline",icon:""},{id:"bugs",label:"Bugs",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"features",label:"Features",icon:""},{id:"people",label:"People",icon:""}];function by({activeMode:e,onModeChange:t}){const[n,r]=k.useState(!1),s=k.useRef(null),l=Po.find(o=>o.id===e)||Po[0];k.useEffect(()=>{const o=f=>{s.current&&!s.current.contains(f.target)&&r(!1)},c=f=>{f.key==="Escape"&&r(!1)};return n&&(document.addEventListener("mousedown",o),document.addEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",c)}},[n]);const a=o=>{t(o),r(!1)};return i.jsxs("div",{className:"mode-selector",ref:s,children:[i.jsxs("button",{className:"mode-selector-button",onClick:()=>r(!n),children:[i.jsx("span",{className:"mode-icon",children:l.icon}),i.jsx("span",{className:"mode-label",children:l.label}),i.jsx(Yl,{size:14})]}),n&&i.jsx("div",{className:"mode-dropdown",children:Po.map(o=>i.jsxs("button",{className:`mode-option ${o.id===e?"active":""}`,onClick:()=>a(o.id),children:[i.jsx("span",{className:"mode-option-icon",children:o.icon}),i.jsx("span",{className:"mode-option-label",children:o.label})]},o.id))})]})}const Xd=1.5;function Py({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:a=[],onSelect:o,onDoubleClick:c,onContextMenu:f,onUpdate:p,periodBounds:v}){const[d,m]=k.useState(()=>new Set(["sprint","backlog"])),[E,S]=k.useState(null),[j,h]=k.useState(!1),[u,g]=k.useState(""),y=(P,Y=null)=>{const X=[],ce=(je,Re=Y)=>{je.forEach(Se=>{!r&&Se.completed||(X.push({...Se,featureId:Re||Se.featureId}),Se.children&&Se.children.length>0&&ce(Se.children,Re||Se.featureId))})};return ce(P),X},N=k.useMemo(()=>y(e),[e,r]),{sprintTasks:b,backlogTasks:I}=k.useMemo(()=>{const P=[],Y=[];return N.forEach(X=>{const ce=X.dueDate?new Date(X.dueDate):null;ce&&v&&ce>=v.start&&ce<=v.end?P.push(X):Y.push(X)}),{sprintTasks:P,backlogTasks:Y}},[N,v]),A=k.useMemo(()=>new Set((l==null?void 0:l.map(P=>P.id))||[]),[l]),F=k.useMemo(()=>{const P=new Map;return b.forEach(Y=>{const X=Y.assignee||"unassigned",ce=X!=="unassigned"&&!A.has(X)?"unassigned":X;P.has(ce)||P.set(ce,[]),P.get(ce).push(Y)}),P.forEach(Y=>{Y.sort((X,ce)=>(X.teamOrder||0)-(ce.teamOrder||0))}),P},[b,A]),ee=k.useMemo(()=>{const P=new Map;return P.set("_uncategorized",[]),I.forEach(Y=>{const X=Y.featurePath||Y.featureId||"_uncategorized";P.has(X)||P.set(X,[]),P.get(X).push(Y)}),P.get("_uncategorized").length===0&&P.delete("_uncategorized"),P},[I]),D=P=>{if(P==="_uncategorized")return"Uncategorized";const Y=X=>{for(const ce of X){if(ce.id===P)return ce.name;if(ce.children){const je=Y(ce.children);if(je)return je}}return null};return Y(a)||P},Q=P=>(l==null?void 0:l.find(Y=>Y.id===P))||{id:P,name:P,avatar:""},he=P=>{m(Y=>{const X=new Set(Y);return X.has(P)?X.delete(P):X.add(P),X})},ie=P=>d.has(P),Ue=P=>P===t||(n==null?void 0:n.has(P)),Me=P=>{const Y=P.reduce((ce,je)=>ce+(je.estimate||Xd),0),X=P.filter(ce=>ce.completed).length;return{total:Y.toFixed(1),count:P.length,completed:X}},Ee=(P,Y)=>{P.stopPropagation(),P.dataTransfer.effectAllowed="move",P.dataTransfer.setData("text/plain",Y.id),P.dataTransfer.setData("taskId",Y.id)},G=(P,Y,X)=>{P.preventDefault(),P.stopPropagation(),P.dataTransfer.dropEffect="move",S({type:Y,id:X})},ne=P=>{P.currentTarget.contains(P.relatedTarget)||S(null)},L=(P,Y,X)=>{P.preventDefault(),P.stopPropagation(),S(null);const ce=P.dataTransfer.getData("taskId");if(!(!ce||!p))if(Y==="person"){const je={assignee:X==="unassigned"?null:X};v&&(je.dueDate=v.end),p(ce,je)}else Y==="backlog"?p(ce,{dueDate:null}):Y==="feature"&&p(ce,{dueDate:null,featurePath:X==="_uncategorized"?null:X})},oe=()=>{S(null)},ue=()=>{h(!0),g(""),m(P=>{const Y=new Set(P);return Y.add("backlog"),Y})},be=()=>{u.trim(),h(!1),g("")},Ie=P=>{P.key==="Enter"&&be(),P.key==="Escape"&&(h(!1),g(""))},ke=(P,Y)=>(E==null?void 0:E.type)===P&&(E==null?void 0:E.id)===Y,Oe=(P,Y=0)=>{const X=P.estimate||Xd,ce=Q(P.assignee||"unassigned");return i.jsxs("div",{className:`condensed-task-row ${Ue(P.id)?"selected":""} ${P.completed?"completed":""}`,style:{paddingLeft:`${(Y+1)*24}px`},draggable:!0,onDragStart:je=>Ee(je,P),onDragEnd:oe,onClick:()=>o(P.id),onDoubleClick:()=>c&&c(P.id),onContextMenu:je=>{je.preventDefault(),f&&f(P.id,je.clientX,je.clientY)},children:[i.jsx("button",{className:"checkbox",onClick:je=>{je.stopPropagation(),p&&p(P.id,{completed:!P.completed})},children:P.completed?i.jsx(Pp,{size:16}):i.jsx(bp,{size:16})}),i.jsx("span",{className:"condensed-task-title",children:P.title}),i.jsxs("span",{className:"condensed-task-meta",children:[i.jsxs("span",{className:"condensed-task-estimate",children:[X,"d"]}),i.jsx("span",{className:"condensed-task-assignee",title:ce.name,children:ce.avatar})]})]},P.id)},J=(P,Y,X,ce,je=0,Re={})=>{const Se=ie(P);return i.jsxs("div",{className:`condensed-group-header ${Re.dragOverClass||""}`,style:{paddingLeft:`${je*24}px`},onClick:()=>he(P),...Re.dropHandlers,children:[i.jsx("span",{className:"condensed-expand-icon",children:Se?i.jsx(Yl,{size:14}):i.jsx(Ha,{size:14})}),X&&i.jsx("span",{className:"condensed-group-icon",children:X}),i.jsx("span",{className:"condensed-group-label",children:Y}),i.jsxs("span",{className:"condensed-group-stats",children:[ce.completed,"/",ce.count," (",ce.total,"d)"]}),Re.action]})},ve=k.useMemo(()=>(l==null?void 0:l.filter(P=>P.enabled!==!1))||[],[l]);return i.jsxs("div",{className:"condensed-team-view",children:[i.jsxs("div",{className:"condensed-section",children:[J("sprint","Current Sprint","",Me(b)),ie("sprint")&&i.jsxs("div",{className:"condensed-section-content",children:[ve.map(P=>{const Y=F.get(P.id)||[],X=`sprint-${P.id}`,ce=Me(Y),je=ke("person",P.id);return i.jsxs("div",{className:"condensed-person-group",children:[J(X,P.name,P.avatar,ce,1,{dragOverClass:je?"drag-over":"",dropHandlers:{onDragOver:Re=>G(Re,"person",P.id),onDragLeave:ne,onDrop:Re=>{Re.stopPropagation(),L(Re,"person",P.id)}}}),ie(X)&&Y.length>0&&i.jsx("div",{className:"condensed-person-tasks",children:Y.map(Re=>Oe(Re,2))})]},X)}),F.has("unassigned")&&i.jsxs("div",{className:"condensed-person-group",children:[J("sprint-unassigned","Unassigned","",Me(F.get("unassigned")),1,{dragOverClass:ke("person","unassigned")?"drag-over":"",dropHandlers:{onDragOver:P=>G(P,"person","unassigned"),onDragLeave:ne,onDrop:P=>{P.stopPropagation(),L(P,"person","unassigned")}}}),ie("sprint-unassigned")&&i.jsx("div",{className:"condensed-person-tasks",children:F.get("unassigned").map(P=>Oe(P,2))})]})]})]}),i.jsxs("div",{className:"condensed-section",children:[J("backlog","Backlog","",Me(I),0,{dragOverClass:ke("backlog","_root")?"drag-over":"",dropHandlers:{onDragOver:P=>G(P,"backlog","_root"),onDragLeave:ne,onDrop:P=>{P.stopPropagation(),L(P,"backlog","_root")}},action:i.jsx("button",{className:"condensed-add-folder-btn",onClick:P=>{P.stopPropagation(),ue()},title:"Add folder",children:i.jsx(Mn,{size:14})})}),ie("backlog")&&i.jsxs("div",{className:"condensed-section-content",children:[j&&i.jsxs("div",{className:"condensed-add-folder-row",style:{paddingLeft:"24px"},children:[i.jsx("span",{className:"condensed-group-icon",children:""}),i.jsx("input",{type:"text",className:"condensed-folder-input",placeholder:"Folder name...",value:u,onChange:P=>g(P.target.value),onKeyDown:Ie,onBlur:()=>{h(!1),g("")},autoFocus:!0})]}),Array.from(ee.entries()).map(([P,Y])=>{const X=`backlog-${P}`,ce=Me(Y),je=D(P),Re=ke("feature",P);return i.jsxs("div",{className:"condensed-feature-group",children:[J(X,je,"",ce,1,{dragOverClass:Re?"drag-over":"",dropHandlers:{onDragOver:Se=>G(Se,"feature",P),onDragLeave:ne,onDrop:Se=>{Se.stopPropagation(),L(Se,"feature",P)}}}),ie(X)&&i.jsx("div",{className:"condensed-feature-tasks",children:Y.map(Se=>Oe(Se,2))})]},X)}),ee.size===0&&!j&&i.jsx("div",{className:"condensed-empty",style:{paddingLeft:"48px"},children:"No tasks in backlog"})]})]})]})}const qs=1.5,Iy=60,Oy=[{id:"block",label:"Block View"},{id:"condensed",label:"Condensed View"}];function _y({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,teams:a=[],featureTree:o=[],selectedTeamId:c,onTeamChange:f,onSelect:p,onDoubleClick:v,onContextMenu:d,onUpdate:m,onReorderTeamMembers:E,periodBounds:S}){const[j,h]=k.useState("block"),[u,g]=k.useState(null),[y,N]=k.useState(null),[b,I]=k.useState(null),[A,F]=k.useState(null),[ee,D]=k.useState(null),[Q,he]=k.useState(""),ie=c?a.find(V=>V.id===c):null,Ue=k.useMemo(()=>{let V=(l==null?void 0:l.filter(re=>re.enabled!==!1))||[];if(ie&&ie.memberIds){const re=new Set(ie.memberIds);V=V.filter(ye=>re.has(ye.id))}return V},[l,ie]),Me=V=>{const re=[],ye=ot=>{ot.forEach(Ae=>{if(!(!r&&Ae.completed)){if(s==="global")re.push(Ae);else{const ct=Ae.dueDate?new Date(Ae.dueDate):null;ct&&S&&ct>=S.start&&ct<=S.end&&re.push(Ae)}Ae.children&&Ae.children.length>0&&ye(Ae.children)}})};return ye(V),re},Ee=k.useMemo(()=>Me(e),[e,r,s,S]),G=V=>Ee.filter(re=>(re.assignee||"unassigned")===V).sort((re,ye)=>(re.teamOrder||0)-(ye.teamOrder||0)),ne=(V,re)=>{if(!V.dependencies||V.dependencies.length===0)return!1;const ye=new Date;return V.dependencies.some(ot=>{const Ae=re.find(ct=>ct.id===ot);return!Ae||Ae.completed?!1:Ae.dueDate?new Date(Ae.dueDate)<ye:!1})},L=V=>G(V).reduce((ye,ot)=>ye+(ot.estimate||qs),0),ue=(()=>{switch(s){case"day":return 1;case"week":return 5;case"sprint":return 10;case"half":return 60;case"year":return 240;case"global":return 999;default:return 10}})(),be=(V,re)=>{V.stopPropagation(),g(re),V.dataTransfer.effectAllowed="move",V.dataTransfer.setData("taskId",re.id)},Ie=(V,re,ye)=>{V.preventDefault(),V.stopPropagation(),u&&F({memberId:re,index:ye})},ke=(V,re,ye)=>{if(V.preventDefault(),V.stopPropagation(),!u)return;(u.assignee||"unassigned")!==re&&m&&m(u.id,{assignee:re}),G(re).map((fe,bt)=>fe.id===u.id?{id:fe.id,order:ye}:bt>=ye?{id:fe.id,order:bt+1}:{id:fe.id,order:bt}).forEach(({id:fe,order:bt})=>{m&&m(fe,{teamOrder:bt})}),g(null),F(null)},Oe=(V,re)=>{N(re),V.dataTransfer.effectAllowed="move"},J=(V,re)=>{V.preventDefault(),y!==null&&I(re)},ve=(V,re)=>{if(V.preventDefault(),y===null||y===re){N(null),I(null);return}E&&E(y,re),N(null),I(null)},P=()=>{g(null),N(null),I(null),F(null)},Y=V=>V.id===t||n.has(V.id),X=V=>!V.children||V.children.length===0?V.completed?V.estimate||qs:0:V.children.reduce((re,ye)=>re+X(ye),0),ce=V=>{const re=V.estimate||qs;if(!V.children||V.children.length===0)return re;const ye=V.children.reduce((ot,Ae)=>ot+ce(Ae),0);return Math.max(re,ye)},je=V=>{const re=ce(V),ye=X(V);return re>0?ye/re*100:0},Re=(V,re)=>{re.stopPropagation(),D(V.id),he((V.estimate||qs).toString())},Se=V=>{he(V.target.value)},Xe=()=>{if(ee&&m){const V=parseFloat(Q);!isNaN(V)&&V>0&&m(ee,{estimate:V})}D(null),he("")},Qt=V=>{V.key==="Enter"?Xe():V.key==="Escape"&&(D(null),he(""))};return i.jsxs("div",{className:"team-view-sprint",children:[i.jsxs("div",{className:"team-selector-bar",children:[a.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"team-selector-label",children:"Team:"}),i.jsxs("select",{className:"team-selector-dropdown",value:c||"",onChange:V=>f&&f(V.target.value||null),children:[i.jsx("option",{value:"",children:"All Teams"}),a.map(V=>{var re;return i.jsxs("option",{value:V.id,children:[V.name," (",((re=V.memberIds)==null?void 0:re.length)||0," members)"]},V.id)})]})]}),i.jsx("label",{className:"team-selector-label",children:"View:"}),i.jsx("select",{className:"team-selector-dropdown",value:j,onChange:V=>h(V.target.value),children:Oy.map(V=>i.jsx("option",{value:V.id,children:V.label},V.id))})]}),j==="condensed"?i.jsx(Py,{todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s,teamMembers:l,featureTree:o,periodBounds:S,onSelect:p,onDoubleClick:v,onContextMenu:d,onUpdate:m}):i.jsx("div",{className:"team-columns-container",children:Ue.map((V,re)=>{const ye=G(V.id),ot=L(V.id),Ae=Math.min(ot/ue*100,100),ct=ot>ue;return i.jsxs("div",{className:`team-member-column ${b===re?"drag-over":""}`,draggable:!0,onDragStart:fe=>Oe(fe,re),onDragOver:fe=>J(fe,re),onDrop:fe=>ve(fe,re),onDragEnd:P,children:[i.jsxs("div",{className:"team-member-header",children:[i.jsxs("div",{className:"team-member-info",children:[i.jsx("span",{className:"team-member-avatar",children:V.avatar}),i.jsxs("div",{className:"team-member-details",children:[i.jsx("div",{className:"team-member-name",children:V.name}),i.jsxs("div",{className:`team-capacity ${ct?"over-capacity":""}`,children:[ot.toFixed(1),"d / ",ue,"d"]})]})]}),i.jsx("div",{className:"capacity-bar",children:i.jsx("div",{className:`capacity-fill ${ct?"over-capacity":""}`,style:{width:`${Math.min(Ae,100)}%`}})})]}),i.jsx("div",{className:"team-tasks-container",onDragOver:fe=>Ie(fe,V.id,ye.length),onDrop:fe=>ke(fe,V.id,ye.length),children:ye.length===0?i.jsx("div",{className:"team-empty-state",children:"No tasks assigned"}):ye.map((fe,bt)=>{const $s=(fe.estimate||qs)*Iy,wn=je(fe),Kt=ne(fe,Ee),Xt=fe.dueDate?Math.ceil((new Date(fe.dueDate)-new Date)/(1e3*60*60*24)):null;return i.jsxs("div",{style:{position:"relative"},onDragOver:et=>Ie(et,V.id,bt),onDrop:et=>ke(et,V.id,bt),children:[(A==null?void 0:A.memberId)===V.id&&(A==null?void 0:A.index)===bt&&i.jsx("div",{className:"task-drop-indicator"}),i.jsxs("div",{className:`team-task-box ${Y(fe)?"selected":""} ${fe.completed?"completed":""} ${Kt?"blocked":""}`,style:{height:`${$s}px`},draggable:!0,onDragStart:et=>be(et,fe),onDragEnd:P,onClick:()=>p(fe.id),onDoubleClick:()=>v&&v(fe.id),onContextMenu:et=>{et.preventDefault(),d&&d(fe.id,et.clientX,et.clientY)},children:[i.jsx("div",{className:"task-progress-fill",style:{height:`${wn}%`}}),i.jsxs("div",{className:"task-content",children:[i.jsxs("div",{className:"task-header-row",children:[i.jsxs("span",{className:"task-id",children:["#",fe.id]}),Kt&&i.jsx("span",{className:"task-blocked-icon",title:"Blocked by late dependency",children:""})]}),i.jsx("div",{className:"task-title-text",children:fe.title}),i.jsxs("div",{className:"task-footer-row",children:[ee===fe.id?i.jsx("input",{type:"number",step:"0.5",min:"0",className:"task-estimate-input",value:Q,onChange:Se,onBlur:Xe,onKeyDown:Qt,autoFocus:!0,onClick:et=>et.stopPropagation()}):i.jsxs("span",{className:"task-estimate clickable",onClick:et=>Re(fe,et),title:"Click to edit estimate",children:[X(fe).toFixed(1),"/",ce(fe).toFixed(1),"d"]}),Xt!==null&&i.jsx("span",{className:`task-days-remaining ${Xt<0?"overdue":""}`,children:Xt<0?`${Math.abs(Xt)}d overdue`:`${Xt}d left`})]})]})]})]},fe.id)})})]},V.id)})})]})}const xe=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},Fn=(e,t)=>(new Date(t).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0))/864e5,Ac=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},gi=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},Io={day:1,week:7,sprint:14,month:30,quarter:90,half:182,year:365,global:730},Zd=e=>{const t=new Date;switch(t.setHours(0,0,0,0),e){case"day":return t;case"week":return Ac(t);case"sprint":{const n=new Date("2024-01-01"),r=Math.floor((Ac(t)-n)/(1e3*60*60*24*7)),s=Math.floor(r/2);return xe(n,s*14)}case"month":return new Date(t.getFullYear(),t.getMonth(),1);case"quarter":{const n=Math.floor(t.getMonth()/3);return new Date(t.getFullYear(),n*3,1)}case"half":{const n=t.getMonth()<6?0:6;return new Date(t.getFullYear(),n,1)}case"year":return new Date(t.getFullYear(),0,1);case"global":return xe(t,-365);default:return t}},Ne=80,Ly=250,My=1,Ry=1095,Ay=.002,xr=1;function zy({todos:e,selectedId:t,selectedIds:n,showCompleted:r,timeRange:s="sprint",periodOffset:l=0,teamMembers:a=[],teams:o=[],timeBlocks:c=[],onSelect:f,onDoubleClick:p,onContextMenu:v,onUpdate:d}){const[m,E]=k.useState(()=>new Set(o.map(x=>x.id))),S=k.useRef(null),[j,h]=k.useState(800),[u,g]=k.useState(null),[y,N]=k.useState(null),[b,I]=k.useState(null),[A,F]=k.useState(null),[ee,D]=k.useState(null),[Q,he]=k.useState(()=>Io[s]||14),[ie,Ue]=k.useState(()=>Zd(s)),[Me,Ee]=k.useState(!1),[G,ne]=k.useState(null);k.useEffect(()=>{const x=()=>{S.current&&h(S.current.clientWidth)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const L=j/Q,oe=k.useMemo(()=>Q<=3?"hour":Q<=60?"day":Q<=180?"week":"month",[Q]),ue=k.useMemo(()=>{const x=xe(gi(ie),-xr),M=xe(gi(ie),Math.ceil(Q)+xr);return M.setHours(23,59,59,999),{start:x,end:M}},[ie,Q]),be=k.useMemo(()=>{const x=gi(ie),M=xe(x,Math.ceil(Q));return M.setHours(23,59,59,999),{start:x,end:M}},[ie,Q]),Ie=k.useMemo(()=>{const x=[],M=ue.start,B=ue.end;if(oe==="hour"){let O=new Date(M);for(;O<=B;){for(let z=0;z<24;z++){const W=new Date(O);W.setHours(z,0,0,0);const Z=Fn(ie,O);x.push({date:W,hour:z,dayOffset:Z,isWeekend:[0,6].includes(O.getDay()),isWorkHour:z>=9&&z<17,x:(Z+z/24)*L,width:L/24})}O=xe(O,1)}}else if(oe==="day"){let O=new Date(M);for(;O<=B;){const z=Fn(ie,O);x.push({date:new Date(O),dayOffset:z,isWeekend:[0,6].includes(O.getDay()),x:z*L,width:L}),O=xe(O,1)}}else if(oe==="week"){let O=Ac(M);for(;O<=B;){const z=Fn(ie,O);x.push({date:new Date(O),dayOffset:z,isWeekend:!1,x:z*L,width:7*L}),O=xe(O,7)}}else{let O=new Date(M.getFullYear(),M.getMonth(),1);for(;O<=B;){const z=Fn(ie,O),W=new Date(O.getFullYear(),O.getMonth()+1,0).getDate();x.push({date:new Date(O),dayOffset:z,isWeekend:!1,x:z*L,width:W*L}),O=new Date(O.getFullYear(),O.getMonth()+1,1)}}return x},[ue,oe,ie,L]),ke=k.useMemo(()=>{const x=[],M=B=>{B.forEach(O=>{if(!r&&O.completed)return;O.children&&O.children.length>0&&(r||O.children.some(W=>!W.completed))?M(O.children):x.push(O)})};return M(e),x},[e,r]),{regularTasks:Oe,bufferTasks:J,undatedTasks:ve}=k.useMemo(()=>{const x=[],M=[],B=[];return ke.forEach(O=>{O.type==="buffer"?M.push(O):!O.startDate&&!O.dueDate?B.push(O):x.push(O)}),M.sort((O,z)=>{const W=O.startDate||O.dueDate||new Date("2099-01-01"),Z=z.startDate||z.dueDate||new Date("2099-01-01");return new Date(W)-new Date(Z)}),{regularTasks:x,bufferTasks:M,undatedTasks:B}},[ke]),P=k.useMemo(()=>{const x={};return Oe.forEach(M=>{const B=M.assignee||"unassigned";x[B]||(x[B]=[]),x[B].push(M)}),Object.values(x).forEach(M=>M.sort((B,O)=>{const z=B.startDate||B.dueDate||new Date("2099-01-01"),W=O.startDate||O.dueDate||new Date("2099-01-01");return new Date(z)-new Date(W)})),x},[Oe]),Y=k.useMemo(()=>{const x=[],M=new Set;if(o.forEach(O=>{O.memberIds.forEach(z=>M.add(z))}),o.forEach(O=>{x.push({type:"team",team:O}),m.has(O.id)&&O.memberIds.forEach(z=>{const W=a.find(ae=>ae.id===z);if(!W||W.enabled===!1)return;const Z=P[z]||[],de=vi(Z,ue);de.forEach((ae,se)=>{x.push({type:"member",member:W,subRow:se,totalSubRows:de.length,tasks:ae})}),de.length===0&&x.push({type:"member",member:W,subRow:0,totalSubRows:1,tasks:[]})})}),a.forEach(O=>{if(O.id==="unassigned"||M.has(O.id))return;const z=P[O.id];if(!z||z.length===0)return;x.push({type:"team",team:{id:`_solo_${O.id}`,name:O.name,memberIds:[O.id]}});const W=vi(z,ue);W.forEach((Z,de)=>{x.push({type:"member",member:O,subRow:de,totalSubRows:W.length,tasks:Z})})}),J.length>0){const O={id:"_buffer",name:"Buffer Time",avatar:""};x.push({type:"team",team:{id:"_buffer",name:"Buffer Time",memberIds:["_buffer"]}});const z=vi(J,ue);z.forEach((W,Z)=>{x.push({type:"buffer",member:O,subRow:Z,totalSubRows:z.length,tasks:W})})}const B=P.unassigned;if(B&&B.length>0){const O=a.find(W=>W.id==="unassigned")||{id:"unassigned",name:"Unassigned",avatar:""};x.push({type:"team",team:{id:"_unassigned",name:"Unassigned",memberIds:["unassigned"]}});const z=vi(B,ue);z.forEach((W,Z)=>{x.push({type:"member",member:O,subRow:Z,totalSubRows:z.length,tasks:W})})}return x},[o,m,a,P,J,ue]),X=k.useCallback(x=>{const M=x.startDate?new Date(x.startDate):x.dueDate?xe(new Date(x.dueDate),-(x.estimate||1)):ie,B=x.dueDate?new Date(x.dueDate):xe(M,x.estimate||1),O=Fn(ie,M),z=Fn(M,B);return{x:O*L,width:Math.max(z,.5)*L,clippedLeft:M<ue.start,clippedRight:B>ue.end,startDate:M,endDate:B}},[ie,L,ue]),ce=k.useMemo(()=>{const x=new Date;x.setHours(12,0,0,0);const M=Fn(ie,x);return M<-xr||M>Q+xr?null:M*L},[ie,Q,L]),je=k.useMemo(()=>{const x=[],M=new Map;return Y.forEach((B,O)=>{B.type!=="member"&&B.type!=="buffer"||B.tasks.forEach(z=>{const W=X(z);M.set(z.id,{rowIdx:O,pos:W})})}),Y.forEach((B,O)=>{B.type!=="member"&&B.type!=="buffer"||B.tasks.forEach(z=>{if(!z.dependencies)return;const W=M.get(z.id);W&&z.dependencies.forEach(Z=>{const de=M.get(Z);if(!de)return;const ae=ke.find(Ce=>Ce.id===Z),se=ae&&!ae.completed&&new Date>de.pos.startDate;x.push({source:de,target:W,violated:se})})})}),x},[Y,X,ke]),Re=x=>{E(M=>{const B=new Set(M);return B.has(x)?B.delete(x):B.add(x),B})},Se=(x,M,B,O)=>{if(!d)return;x.preventDefault(),x.stopPropagation();const z=M.estimate||1;let W,Z;M.startDate?W=new Date(M.startDate):M.dueDate?W=xe(new Date(M.dueDate),-z):W=new Date(ie),M.dueDate?Z=new Date(M.dueDate):Z=xe(W,z),g({taskId:M.id,mode:B,startX:x.clientX,startY:x.clientY,origStart:W,origDue:Z,origEstimate:z,origRowIdx:O,origAssignee:M.assignee||"unassigned"})},Xe=k.useCallback(x=>{if(!u||!d)return;const M=x.clientX-u.startX,B=Math.round(M/L);if(u.mode==="move"&&S.current){const z=S.current.getBoundingClientRect(),W=x.clientY-z.top-Ne,Z=Math.floor(W/Ne);Z>=0&&Z<Y.length&&N(Z)}if(B===0)return;const O={};u.mode==="move"?(O.startDate=xe(u.origStart,B),O.dueDate=xe(u.origDue,B)):u.mode==="resize-right"?(O.dueDate=xe(u.origDue,B),O.estimate=Math.max(.5,u.origEstimate+B)):u.mode==="resize-left"&&(O.startDate=xe(u.origStart,B),O.estimate=Math.max(.5,u.origEstimate-B)),d(u.taskId,O)},[u,d,L,Y.length]),Qt=k.useCallback(()=>{if(u&&u.mode==="move"&&y!==null&&d){const x=Y[y];if(x&&x.type==="member"){const M=x.member.id;M!==u.origAssignee&&d(u.taskId,{assignee:M})}}g(null),N(null)},[u,y,Y,d]);jf.useEffect(()=>{if(u)return document.addEventListener("mousemove",Xe),document.addEventListener("mouseup",Qt),document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",Xe),document.removeEventListener("mouseup",Qt),document.body.style.userSelect=""}},[u,Xe,Qt]);const V=k.useCallback(x=>{x.target.closest(".tl-bar")||(x.preventDefault(),Ee(!0),ne({x:x.clientX,scrollDate:new Date(ie)}))},[ie]),re=k.useCallback(x=>{if(!Me||!G)return;const O=-((x.clientX-G.x)/L)*24*60*60*1e3,z=new Date(G.scrollDate.getTime()+O);Ue(z)},[Me,G,L]),ye=k.useCallback(()=>{Ee(!1),ne(null)},[]);k.useEffect(()=>{if(Me)return document.addEventListener("mousemove",re),document.addEventListener("mouseup",ye),document.body.style.cursor="grabbing",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ye),document.body.style.cursor="",document.body.style.userSelect=""}},[Me,re,ye]);const ot=k.useCallback((x,M,B)=>{if(x.preventDefault(),x.stopPropagation(),!S.current)return;const O=S.current.getBoundingClientRect(),z=X(M);I({sourceId:M.id,sourceRowIdx:B,sourceX:z.x+z.width,sourceY:B*Ne+Ne/2,mouseX:x.clientX-O.left,mouseY:x.clientY-O.top-Ne})},[X]),Ae=k.useCallback(x=>{if(!b||!S.current)return;const M=S.current.getBoundingClientRect();I(B=>({...B,mouseX:x.clientX-M.left,mouseY:x.clientY-M.top-Ne}))},[b]),ct=k.useCallback(x=>{if(!b||!S.current||!d){I(null);return}const M=S.current.getBoundingClientRect(),B=x.clientX-M.left,O=x.clientY-M.top-Ne;let z=null;for(const W of Y)if(!(W.type!=="member"&&W.type!=="buffer")){for(const Z of W.tasks){if(Z.id===b.sourceId)continue;const de=X(Z),se=Y.indexOf(W)*Ne,Ce=se+Ne;if(B>=de.x&&B<=de.x+de.width&&O>=se&&O<=Ce){z=Z;break}}if(z)break}if(z){const W=z.dependencies||[];W.includes(b.sourceId)||d(z.id,{dependencies:[...W,b.sourceId]})}I(null)},[b,Y,X,d]);k.useEffect(()=>{if(b)return document.addEventListener("mousemove",Ae),document.addEventListener("mouseup",ct),document.body.style.cursor="crosshair",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",Ae),document.removeEventListener("mouseup",ct),document.body.style.cursor="",document.body.style.userSelect=""}},[b,Ae,ct]);const fe=k.useCallback(x=>{x.preventDefault();const M=x.deltaY*Ay*Q,B=Math.max(My,Math.min(Ry,Q+M));if(S.current){const O=S.current.getBoundingClientRect(),z=(x.clientX-O.left)/O.width,W=xe(ie,Q*z),Z=xe(W,-(B*z));Ue(Z)}he(B)},[Q,ie]),bt=k.useCallback(x=>{he(Io[x]||14),Ue(Zd(x))},[]),Ql=k.useCallback(x=>{if(A&&(x.preventDefault(),x.dataTransfer.dropEffect="move",S.current)){const M=S.current.getBoundingClientRect();D(x.clientX-M.left)}},[A]),$s=k.useCallback(x=>{if(!A||!S.current||!d)return;x.preventDefault();const M=S.current.getBoundingClientRect(),O=(x.clientX-M.left)/L,z=ie.getTime()+O*24*60*60*1e3,W=gi(new Date(z)),Z=ke.find(Te=>Te.id===A),de=(Z==null?void 0:Z.estimate)||1,ae=xe(W,de),se=x.clientY-M.top-Ne,Ce=Math.floor(se/Ne),Ze={startDate:W,dueDate:ae};if(Ce>=0&&Ce<Y.length){const Te=Y[Ce];Te.type==="member"&&Te.member.id!=="unassigned"&&(Ze.assignee=Te.member.id)}d(A,Ze),F(null),D(null)},[A,L,ie,ke,Y,d]),[wn,Kt]=k.useState(!1),Xt=k.useRef(null);k.useEffect(()=>{if(!wn)return;const x=M=>{Xt.current&&!Xt.current.contains(M.target)&&Kt(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[wn]);const et=k.useCallback(()=>{if(!d)return;Kt(!1);const x=new Date;x.setHours(0,0,0,0);const M=new Map;ke.forEach(z=>M.set(z.id,z));const B={};Oe.forEach(z=>{const W=z.assignee||"unassigned";B[W]||(B[W]=[]),B[W].push(z)});const O=new Map;Object.values(B).forEach(z=>{z.sort((Z,de)=>{const ae=Z.startDate?new Date(Z.startDate):Z.dueDate?xe(new Date(Z.dueDate),-(Z.estimate||1)):null,se=de.startDate?new Date(de.startDate):de.dueDate?xe(new Date(de.dueDate),-(de.estimate||1)):null;return ae?se?ae-se:-1:1});let W=null;z.forEach(Z=>{const de=Z.estimate||1,ae=Z.startDate?new Date(Z.startDate):Z.dueDate?xe(new Date(Z.dueDate),-de):null;if(W===null)ae&&(W=xe(ae,de)),ae&&O.set(Z.id,{startDate:ae,dueDate:xe(ae,de)});else{let se=new Date(W);ae&&ae>x&&se<x&&(se=new Date(x)),Z.dependencies&&Z.dependencies.length>0&&Z.dependencies.forEach(Ze=>{const Te=O.get(Ze),xn=M.get(Ze),$t=Te?Te.dueDate:xn&&xn.dueDate?new Date(xn.dueDate):null;$t&&se<$t&&(se=new Date($t))});const Ce=xe(se,de);O.set(Z.id,{startDate:se,dueDate:Ce}),d(Z.id,{startDate:se,dueDate:Ce}),W=Ce}})})},[Oe,ke,d]),Fs=k.useCallback(()=>{if(!d)return;Kt(!1);const x=new Date;x.setHours(0,0,0,0);const M=new Map;ke.forEach(W=>M.set(W.id,W));const B=new Map;let O=!0,z=0;for(;O&&z<100;)O=!1,z++,ke.forEach(W=>{const Z=B.get(W.id)||{startDate:W.startDate?new Date(W.startDate):null,dueDate:W.dueDate?new Date(W.dueDate):null};if(!Z.startDate)return;const de=W.startDate?new Date(W.startDate):null;let ae=new Date(Z.startDate);if(de&&de>x&&ae<x&&(ae=new Date(x)),W.dependencies&&W.dependencies.length>0&&W.dependencies.forEach(se=>{const Ce=M.get(se);if(!Ce)return;const Ze=B.get(se),Te=Ze?Ze.dueDate:Ce.dueDate?new Date(Ce.dueDate):null;Te&&ae<Te&&(ae=new Date(Te))}),ae.getTime()!==Z.startDate.getTime()){const se=W.estimate||1;B.set(W.id,{startDate:new Date(ae),dueDate:xe(ae,se)}),O=!0}});B.forEach((W,Z)=>{d(Z,W)})},[ke,d]),Kl=k.useCallback(()=>{if(!d)return;Kt(!1);const x=new Date;x.setHours(0,0,0,0);const M=a.filter(se=>se.enabled!==!1&&se.id!=="unassigned");if(M.length===0)return;const B=Oe.filter(se=>se.startDate||se.dueDate);if(B.length===0)return;const O=new Map;ke.forEach(se=>O.set(se.id,se));const z=B.reduce((se,Ce)=>{const Ze=Ce.startDate?new Date(Ce.startDate):xe(new Date(Ce.dueDate),-(Ce.estimate||1));return!se||Ze<se?Ze:se},null),W=z&&z>x?z:new Date(x),Z=[...B].sort((se,Ce)=>{const Ze=(se.dependencies||[]).length,Te=(Ce.dependencies||[]).length;return Ze!==Te?Ze-Te:(Ce.estimate||1)-(se.estimate||1)}),de={};M.forEach(se=>{de[se.id]=new Date(W)});const ae=new Map;Z.forEach(se=>{const Ce=se.estimate||1,Ze=se.startDate?new Date(se.startDate):null;let Te=null;se.dependencies&&se.dependencies.length>0&&se.dependencies.forEach(zn=>{const Xl=ae.get(zn),Ws=O.get(zn),Us=Xl?Xl.dueDate:Ws&&Ws.dueDate?new Date(Ws.dueDate):null;Us&&(!Te||Us>Te)&&(Te=new Date(Us))});let xn=M[0].id,$t=de[M[0].id];M.forEach(zn=>{de[zn.id]<$t&&(xn=zn.id,$t=de[zn.id])});let kn=new Date($t);Te&&kn<Te&&(kn=new Date(Te)),Ze&&Ze>x&&kn<x&&(kn=new Date(x));const Hs=xe(kn,Ce);ae.set(se.id,{startDate:kn,dueDate:Hs}),d(se.id,{assignee:xn,startDate:kn,dueDate:Hs}),de[xn]=Hs})},[Oe,ke,a,d]),An=k.useMemo(()=>{const x=B=>B.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),M=B=>B.toLocaleDateString("en-US",{month:"short",day:"numeric"});return Q<=1?be.start.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):Q<=7?`${M(be.start)}  ${M(be.end)}`:Q<=60?`${M(be.start)}  ${M(be.end)}`:Q<=365?`${x(be.start)}  ${x(be.end)}`:`${be.start.getFullYear()}  ${be.end.getFullYear()}`},[Q,be]),Bs=k.useMemo(()=>Q<=1?"Day":Q<=7?"Week":Q<=14?"Sprint":Q<=30?"Month":Q<=90?"Quarter":Q<=182?"Half":Q<=365?"Year":"Global",[Q]);return i.jsxs("div",{className:"tl-view",children:[i.jsxs("div",{className:"tl-header-bar",children:[i.jsx("div",{className:"tl-zoom-presets",children:Object.keys(Io).map(x=>i.jsx("button",{className:`tl-zoom-btn ${Bs.toLowerCase()===x?"active":""}`,onClick:()=>bt(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),i.jsx("span",{className:"tl-period-label",children:An}),i.jsxs("span",{className:"tl-zoom-indicator",children:["Zoom: ",Math.round(Q),"d"]}),i.jsxs("div",{className:"tl-actions-menu",ref:Xt,children:[i.jsx("button",{className:`tl-actions-btn ${wn?"active":""}`,onClick:()=>Kt(!wn),title:"Scheduling actions",children:i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[i.jsx("rect",{x:"2",y:"3",width:"12",height:"1.5",rx:"0.75"}),i.jsx("rect",{x:"2",y:"7.25",width:"12",height:"1.5",rx:"0.75"}),i.jsx("rect",{x:"2",y:"11.5",width:"12",height:"1.5",rx:"0.75"})]})}),wn&&i.jsxs("div",{className:"tl-actions-dropdown",children:[i.jsxs("button",{className:"tl-actions-item",onClick:et,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Compress"}),i.jsx("div",{className:"tl-actions-desc",children:"Close gaps between tasks"})]})]}),i.jsxs("button",{className:"tl-actions-item",onClick:Fs,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Reschedule"}),i.jsx("div",{className:"tl-actions-desc",children:"Push tasks after dependencies"})]})]}),i.jsxs("button",{className:"tl-actions-item",onClick:Kl,children:[i.jsx("span",{className:"tl-actions-icon",children:""}),i.jsxs("div",{className:"tl-actions-text",children:[i.jsx("div",{className:"tl-actions-label",children:"Parallelize"}),i.jsx("div",{className:"tl-actions-desc",children:"Distribute across team members"})]})]})]})]})]}),i.jsxs("div",{className:"tl-body",children:[i.jsxs("div",{className:"tl-sidebar",style:{width:Ly},children:[i.jsx("div",{className:"tl-sidebar-header",style:{height:Ne},children:i.jsx("span",{children:"Teams"})}),Y.map((x,M)=>{if(x.type==="team"){const B=m.has(x.team.id);return i.jsxs("div",{className:"tl-sidebar-team",style:{height:Ne},onClick:()=>Re(x.team.id),children:[B?i.jsx(Yl,{size:14}):i.jsx(Ha,{size:14}),i.jsx("span",{children:x.team.name})]},`team-${x.team.id}`)}return i.jsx("div",{className:"tl-sidebar-member",style:{height:Ne},children:x.subRow===0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-member-avatar",children:x.member.avatar}),i.jsx("span",{className:"tl-member-name",children:x.member.name})]})},`member-${x.member.id}-${x.subRow}`)})]}),i.jsxs("div",{className:`tl-viewport ${Me?"panning":""} ${A?"shelf-dropping":""}`,ref:S,onWheel:fe,onMouseDown:V,onDragOver:Ql,onDragLeave:()=>D(null),onDrop:$s,children:[i.jsx("div",{className:"tl-col-headers",style:{height:Ne},children:Ie.map((x,M)=>{let B;if(oe==="hour"){const O=x.hour,z=O===0;B=i.jsxs(i.Fragment,{children:[z&&i.jsx("span",{className:"tl-col-day-label",children:x.date.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})}),i.jsx("span",{className:`tl-col-hour ${x.isWorkHour?"work-hour":""}`,children:O===0?"12a":O<12?`${O}a`:O===12?"12p":`${O-12}p`})]})}else oe==="day"?B=i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"tl-col-day",children:x.date.toLocaleDateString("en-US",{weekday:"narrow"})}),i.jsx("span",{className:"tl-col-num",children:x.date.getDate()})]}):oe==="week"?B=i.jsx("span",{className:"tl-col-label",children:x.date.toLocaleDateString("en-US",{month:"short",day:"numeric"})}):B=i.jsx("span",{className:"tl-col-label",children:x.date.toLocaleDateString("en-US",{month:"short",year:"2-digit"})});return i.jsx("div",{className:`tl-col-header ${x.isWeekend?"weekend":""} ${oe==="hour"&&!x.isWorkHour?"off-hours":""}`,style:{width:x.width,left:x.x},children:B},`${x.date.toISOString()}-${x.hour||0}`)})}),i.jsxs("div",{className:"tl-rows",style:{position:"relative"},children:[Ie.map(x=>i.jsx("div",{className:`tl-grid-col ${x.isWeekend?"weekend":""} ${oe==="hour"&&!x.isWorkHour?"off-hours":""}`,style:{left:x.x,width:x.width,height:Y.length*Ne}},`bg-${x.date.toISOString()}-${x.hour||0}`)),oe==="hour"&&c.map(x=>{const M=new Date(x.start),B=new Date(x.end),O=Fn(ie,M)+M.getHours()/24,z=(B-M)/(1e3*60*60*24),W=O*L,Z=z*L;return W>j+xr*L||W+Z<-xr*L?null:i.jsx("div",{className:`tl-time-block tl-time-block-${x.type||"blocked"}`,style:{left:W,width:Z,height:Y.length*Ne},title:x.title,children:i.jsx("span",{className:"tl-time-block-label",children:x.title})},x.id)}),ce!==null&&i.jsx("div",{className:"tl-today-line",style:{left:ce,height:Y.length*Ne},children:i.jsx("span",{className:"tl-today-label",children:"Today"})}),ee!==null&&A&&i.jsx("div",{className:"tl-shelf-drop-indicator",style:{left:ee,height:Y.length*Ne}}),i.jsxs("svg",{className:"tl-dep-svg",style:{width:j,height:Y.length*Ne},children:[je.map((x,M)=>{const B=x.source.pos.x+x.source.pos.width,O=x.source.rowIdx*Ne+Ne/2,z=x.target.pos.x,W=x.target.rowIdx*Ne+Ne/2,Z=(B+z)/2;return i.jsxs("g",{children:[i.jsx("path",{d:`M ${B} ${O} C ${Z} ${O}, ${Z} ${W}, ${z} ${W}`,fill:"none",stroke:x.violated?"#f85149":"#6e7681",strokeWidth:"1.5",strokeDasharray:x.violated?"":"4,3",opacity:x.violated?.8:.4}),i.jsx("polygon",{points:`${z},${W} ${z-6},${W-3} ${z-6},${W+3}`,fill:x.violated?"#f85149":"#6e7681",opacity:x.violated?.8:.4})]},M)}),b&&i.jsxs("g",{className:"tl-dep-drag-arrow",children:[i.jsx("path",{d:`M ${b.sourceX} ${b.sourceY} L ${b.mouseX} ${b.mouseY}`,fill:"none",stroke:"#4493f8",strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("polygon",{points:`${b.mouseX},${b.mouseY} ${b.mouseX-8},${b.mouseY-4} ${b.mouseX-8},${b.mouseY+4}`,fill:"#4493f8"}),i.jsx("circle",{cx:b.sourceX,cy:b.sourceY,r:"4",fill:"#4493f8"})]})]}),Y.map((x,M)=>{if(x.type==="team")return i.jsx("div",{className:"tl-row tl-team-row",style:{height:Ne,top:M*Ne}},`team-row-${x.team.id}`);const B=(u==null?void 0:u.mode)==="move"&&y===M&&y!==u.origRowIdx;return i.jsx("div",{className:`tl-row ${B?"drag-target":""}`,style:{height:Ne,top:M*Ne},children:x.tasks.map(O=>{const z=X(O),W=O.id===t||(n==null?void 0:n.has(O.id)),Z=(u==null?void 0:u.taskId)===O.id,de=xr*L;return z.x+z.width<-de||z.x>j+de?null:i.jsxs("div",{className:`tl-bar ${O.type==="buffer"?"buffer":""} ${O.completed?"completed":""} ${W?"selected":""} ${Z?"dragging":""} ${z.clippedLeft?"clipped-left":""} ${z.clippedRight?"clipped-right":""}`,style:{left:z.x,width:z.width},onClick:ae=>{ae.stopPropagation(),f(O.id)},onDoubleClick:ae=>{ae.stopPropagation(),p&&p(O.id)},onContextMenu:ae=>{ae.preventDefault(),!b&&v&&v(O.id,ae.clientX,ae.clientY)},onMouseDown:ae=>{ae.button===2?ot(ae,O,M):ae.button===0&&Se(ae,O,"move",M)},children:[i.jsx("div",{className:"tl-bar-handle tl-bar-handle-left",onMouseDown:ae=>Se(ae,O,"resize-left",M)}),i.jsx("span",{className:"tl-bar-label",children:O.title}),O.estimate&&i.jsxs("span",{className:"tl-bar-est",children:[O.estimate,"d"]}),i.jsx("div",{className:"tl-bar-handle tl-bar-handle-right",onMouseDown:ae=>Se(ae,O,"resize-right",M)})]},O.id)})},`member-row-${x.member.id}-${x.subRow}`)})]})]})]}),ve.length>0&&i.jsxs("div",{className:"tl-shelf",children:[i.jsxs("div",{className:"tl-shelf-header",children:["Unscheduled (",ve.length,")"]}),i.jsx("div",{className:"tl-shelf-items",children:ve.map(x=>{const M=x.id===t||(n==null?void 0:n.has(x.id));return i.jsxs("div",{className:`tl-shelf-item ${M?"selected":""} ${x.completed?"completed":""}`,draggable:!0,onDragStart:B=>{B.dataTransfer.effectAllowed="move",F(x.id)},onDragEnd:()=>{F(null),D(null)},onClick:()=>f(x.id),onDoubleClick:()=>p&&p(x.id),onContextMenu:B=>{B.preventDefault(),v&&v(x.id,B.clientX,B.clientY)},children:[i.jsx("span",{className:"tl-shelf-item-title",children:x.title}),x.estimate&&i.jsxs("span",{className:"tl-shelf-item-est",children:[x.estimate,"d"]})]},x.id)})})]})]})}function vi(e,t){if(e.length===0)return[];const n=[[]];return e.forEach(r=>{const s=r.startDate?new Date(r.startDate):r.dueDate?xe(new Date(r.dueDate),-(r.estimate||1)):t.start,l=r.dueDate?new Date(r.dueDate):xe(s,r.estimate||1);let a=!1;for(const o of n)if(!o.some(f=>{const p=f.startDate?new Date(f.startDate):f.dueDate?xe(new Date(f.dueDate),-(f.estimate||1)):t.start,v=f.dueDate?new Date(f.dueDate):xe(p,f.estimate||1);return s<v&&l>p})){o.push(r),a=!0;break}a||n.push([r])}),n}const Jd=[{id:"untriaged",label:"New / Untriaged",color:"#F59E0B"},{id:"backlog",label:"Backlog",color:"#6B7280"},{id:"triaged",label:"Triaged",color:"#4F81F5"},{id:"in_progress",label:"In Progress",color:"#BC52E6"},{id:"fixed",label:"Fixed",color:"#3FB950"},{id:"closed",label:"Closed",color:"#374151"}],$y=["P0","P1","P2","P3","P4"],Fy=["Critical","High","Medium","Low"],Oo=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"api",name:"API"},{id:"database",name:"Database"},{id:"auth",name:"Authentication"},{id:"infra",name:"Infrastructure"},{id:"other",name:"Other"}],By=e=>{switch(e){case"P0":return"#DC2626";case"P1":return"#F59E0B";case"P2":return"#4F81F5";case"P3":return"#6B7280";case"P4":return"#9CA3AF";default:return"#6B7280"}},qd=e=>{switch(e){case"Critical":return"#DC2626";case"High":return"#F59E0B";case"Medium":return"#4F81F5";case"Low":return"#6B7280";default:return"#6B7280"}};function Hy({todos:e,selectedId:t,selectedIds:n,showCompleted:r,onSelect:s,onDoubleClick:l,onContextMenu:a,onUpdate:o}){const[c,f]=k.useState(null),[p,v]=k.useState(null),[d,m]=k.useState(null),S=(I=>{const A=[],F=ee=>{ee.forEach(D=>{if(D.type==="bug"||D.type==="issue"){if(!r&&D.completed||c&&D.priority!==c||p&&D.severity!==p||d&&D.featureArea!==d)return;A.push(D)}D.children&&D.children.length>0&&F(D.children)})};return F(I),A})(e),h=(I=>{const A={};return Jd.forEach(F=>{A[F.id]=[]}),I.forEach(F=>{const ee=F.triageStatus||"untriaged";A[ee]&&A[ee].push(F)}),A})(S),u=(I,A)=>{I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("bugId",A)},g=I=>{I.preventDefault()},y=(I,A)=>{I.preventDefault();const F=I.dataTransfer.getData("bugId");F&&o&&o(F,{triageStatus:A})},N=I=>I.id===t||n.has(I.id),b=I=>{if(!I.featureArea)return;const A=Oo.find(F=>F.id===I.featureArea);A&&A.team&&o&&o(I.id,{assignee:A.team})};return i.jsxs("div",{className:"bug-view",children:[i.jsxs("div",{className:"bug-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Priority:"}),i.jsxs("select",{value:c||"",onChange:I=>f(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Priorities"}),$y.map(I=>i.jsx("option",{value:I,children:I},I))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severity:"}),i.jsxs("select",{value:p||"",onChange:I=>v(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Severities"}),Fy.map(I=>i.jsx("option",{value:I,children:I},I))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Feature Area:"}),i.jsxs("select",{value:d||"",onChange:I=>m(I.target.value||null),children:[i.jsx("option",{value:"",children:"All Features"}),Oo.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))]})]}),i.jsxs("div",{className:"bug-stats",children:["Total Bugs: ",S.length]})]}),i.jsx("div",{className:"bug-columns",children:Jd.map(I=>{const A=h[I.id]||[];return i.jsxs("div",{className:"bug-column",onDragOver:g,onDrop:F=>y(F,I.id),children:[i.jsxs("div",{className:"bug-column-header",style:{borderTopColor:I.color},children:[i.jsx("h3",{children:I.label}),i.jsx("span",{className:"bug-count",children:A.length})]}),i.jsx("div",{className:"bug-column-content",children:A.length===0?i.jsx("div",{className:"bug-empty",children:"No bugs"}):A.map(F=>{var ee;return i.jsxs("div",{className:`bug-card ${N(F)?"selected":""} ${F.completed?"completed":""}`,draggable:!0,onDragStart:D=>u(D,F.id),onClick:()=>s(F.id),onDoubleClick:()=>l&&l(F.id),onContextMenu:D=>{D.preventDefault(),a&&a(F.id,D.clientX,D.clientY)},children:[i.jsxs("div",{className:"bug-card-header",children:[i.jsxs("span",{className:"bug-number",children:["#",F.id]}),F.priority&&i.jsx("span",{className:"bug-priority",style:{backgroundColor:By(F.priority)},children:F.priority}),F.severity&&i.jsx("span",{className:"bug-severity",style:{borderColor:qd(F.severity),color:qd(F.severity)},children:F.severity})]}),i.jsx("div",{className:"bug-title",children:F.title}),F.featureArea&&i.jsx("div",{className:"bug-feature",children:((ee=Oo.find(D=>D.id===F.featureArea))==null?void 0:ee.name)||F.featureArea}),i.jsxs("div",{className:"bug-card-footer",children:[F.assignee&&F.assignee!=="unassigned"?i.jsx("span",{className:"bug-assignee",children:F.assignee}):i.jsx("button",{className:"bug-auto-route",onClick:D=>{D.stopPropagation(),b(F)},disabled:!F.featureArea,title:F.featureArea?"Auto-assign based on feature area":"Set feature area first",children:"Auto-route"}),F.dueDate&&i.jsx("span",{className:"bug-due",children:new Date(F.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},F.id)})})]},I.id)})})]})}const Ye={blue:"#4493f8",green:"#3fb950",orange:"#fb8500",red:"#f85149",purple:"#a371f7",teal:"#3ddbd9",gray:"#6e7681"},Wy={task:Ye.blue,bug:Ye.red,feature:Ye.green,issue:Ye.orange,assignment:Ye.purple,chore:Ye.teal},Uy={P0:Ye.red,P1:Ye.orange,P2:"#e3b341",P3:Ye.blue,P4:Ye.gray},ef=[Ye.blue,Ye.green,Ye.orange,Ye.purple,Ye.teal];function Vy(e){const t=[],n=r=>{r.forEach(s=>{t.push(s),s.children&&s.children.length>0&&n(s.children)})};return n(e),t}function _o(e,t,n="down"){const r=[];let s=e;for(let l=t-1;l>=0;l--){r.push(s);const a=Math.floor(Math.random()*3)+1;n==="down"?s=s+a:s=Math.max(0,s-a)}return r.reverse()}function Bn({label:e,value:t,subtext:n}){return i.jsxs("div",{className:"analytics-stat-card",children:[i.jsx("div",{className:"analytics-stat-value",children:t}),i.jsx("div",{className:"analytics-stat-label",children:e}),n&&i.jsx("div",{className:"analytics-stat-subtext",children:n})]})}function tf({data:e,data2:t,label1:n,label2:r,color1:s,color2:l,height:a=200,dayLabels:o}){const c={top:20,right:20,bottom:30,left:40},f=500,p=f-c.left-c.right,v=a-c.top-c.bottom,d=[...e,...t||[]],m=Math.max(...d,1),E=0,S=y=>c.left+y/(e.length-1)*p,j=y=>c.top+v-(y-E)/(m-E)*v,h=y=>y.map((N,b)=>`${S(b)},${j(N)}`).join(" "),u=4,g=Array.from({length:u+1},(y,N)=>{const b=E+(m-E)/u*N;return{y:j(b),label:Math.round(b)}});return i.jsxs("svg",{viewBox:`0 0 ${f} ${a}`,className:"analytics-line-chart",children:[g.map((y,N)=>i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:y.y,x2:f-c.right,y2:y.y,stroke:"#2d333b",strokeWidth:"1"}),i.jsx("text",{x:c.left-6,y:y.y+4,textAnchor:"end",fill:"#6e7681",fontSize:"10",children:y.label})]},N)),o&&e.map((y,N)=>N%2!==0&&N!==e.length-1?null:i.jsx("text",{x:S(N),y:a-4,textAnchor:"middle",fill:"#6e7681",fontSize:"9",children:o[N]},N)),i.jsx("polyline",{points:h(e),fill:"none",stroke:s,strokeWidth:"2",strokeLinejoin:"round"}),t&&i.jsx("polyline",{points:h(t),fill:"none",stroke:l,strokeWidth:"2",strokeLinejoin:"round",strokeDasharray:"4,3"}),i.jsx("circle",{cx:S(e.length-1),cy:j(e[e.length-1]),r:"4",fill:s}),t&&i.jsx("circle",{cx:S(t.length-1),cy:j(t[t.length-1]),r:"4",fill:l}),n&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left,y1:8,x2:c.left+16,y2:8,stroke:s,strokeWidth:"2"}),i.jsx("text",{x:c.left+20,y:12,fill:"#e6edf3",fontSize:"10",children:n})]}),r&&i.jsxs("g",{children:[i.jsx("line",{x1:c.left+100,y1:8,x2:c.left+116,y2:8,stroke:l,strokeWidth:"2",strokeDasharray:"4,3"}),i.jsx("text",{x:c.left+120,y:12,fill:"#e6edf3",fontSize:"10",children:r})]})]})}function Lo({items:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.value),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsx("div",{className:"analytics-hbar-label",children:r.label}),i.jsx("div",{className:"analytics-hbar-track",children:i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.value/n*100}%`,background:r.color}})}),i.jsx("div",{className:"analytics-hbar-value",children:r.value})]},s))})}function Gy({members:e,maxValue:t}){const n=t||Math.max(...e.map(r=>r.completed+r.remaining),1);return i.jsx("div",{className:"analytics-hbar-chart",children:e.map((r,s)=>i.jsxs("div",{className:"analytics-hbar-row",children:[i.jsxs("div",{className:"analytics-hbar-label",children:[r.avatar," ",r.name]}),i.jsxs("div",{className:"analytics-hbar-track stacked",children:[i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.completed/n*100}%`,background:Ye.green},title:`${r.completed} completed`}),i.jsx("div",{className:"analytics-hbar-fill",style:{width:`${r.remaining/n*100}%`,background:Ye.blue,opacity:.5},title:`${r.remaining} remaining`})]}),i.jsx("div",{className:"analytics-hbar-value",children:r.completed+r.remaining})]},s))})}function Yy({todos:e,teamMembers:t,showCompleted:n}){const[r,s]=k.useState("personal"),l=k.useMemo(()=>Vy(e),[e]),a=k.useMemo(()=>{const d=l.length,m=l.filter(N=>N.completed).length,E=l.filter(N=>!N.completed&&N.dueDate&&new Date(N.dueDate)<new Date).length,S=d>0?Math.round(m/d*100):0,j={};l.forEach(N=>{const b=N.type||"task";j[b]=(j[b]||0)+1});const h={};l.forEach(N=>{N.priority&&(h[N.priority]=(h[N.priority]||0)+1)});const u={};l.forEach(N=>{const b=N.assignee||"unassigned";u[b]||(u[b]={total:0,completed:0}),u[b].total++,N.completed&&u[b].completed++});const g=l.filter(N=>N.type==="bug"||N.type==="issue"),y=g.filter(N=>N.completed||N.triageStatus==="fixed"||N.triageStatus==="closed").length;return{total:d,completed:m,overdue:E,completionPct:S,byType:j,byPriority:h,byAssignee:u,bugs:g.length,bugsResolved:y}},[l]),o=k.useMemo(()=>{const d=[];for(let m=13;m>=0;m--){const E=new Date;E.setDate(E.getDate()-m),d.push(`${E.getMonth()+1}/${E.getDate()}`)}return d},[]),c=k.useMemo(()=>_o(a.total-a.completed,14,"down"),[a]),f=k.useMemo(()=>_o(a.bugs,14,"down"),[a]),p=k.useMemo(()=>_o(a.bugsResolved,14,"down"),[a]),v=(t==null?void 0:t.filter(d=>d.enabled!==!1&&d.id!=="unassigned"))||[];return i.jsxs("div",{className:"analytics-view",children:[i.jsxs("div",{className:"analytics-tab-bar",children:[i.jsx("button",{className:`analytics-tab ${r==="personal"?"active":""}`,onClick:()=>s("personal"),children:"Personal"}),i.jsx("button",{className:`analytics-tab ${r==="team"?"active":""}`,onClick:()=>s("team"),children:"Team"})]}),r==="personal"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(Bn,{label:"Total Tasks",value:a.total}),i.jsx(Bn,{label:"Completed",value:a.completed}),i.jsx(Bn,{label:"Completion",value:`${a.completionPct}%`}),i.jsx(Bn,{label:"Overdue",value:a.overdue,subtext:a.overdue>0?"needs attention":"on track"})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Burndown (14 days)"}),i.jsx(tf,{data:c,label1:"Remaining",color1:Ye.blue,dayLabels:o})]}),i.jsxs("div",{className:"analytics-grid",children:[i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Type"}),i.jsx(Lo,{items:Object.entries(a.byType).map(([d,m])=>({label:d.charAt(0).toUpperCase()+d.slice(1),value:m,color:Wy[d]||Ye.gray}))})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Tasks by Priority"}),i.jsx(Lo,{items:["P0","P1","P2","P3","P4"].filter(d=>a.byPriority[d]).map(d=>({label:d,value:a.byPriority[d],color:Uy[d]}))})]})]})]}),r==="team"&&i.jsxs("div",{className:"analytics-content",children:[i.jsxs("div",{className:"analytics-cards",children:[i.jsx(Bn,{label:"Total Tasks",value:a.total}),i.jsx(Bn,{label:"Completed",value:a.completed}),i.jsx(Bn,{label:"Team Members",value:v.length}),i.jsx(Bn,{label:"Avg Tasks/Person",value:v.length>0?Math.round(a.total/v.length):0})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Workload by Member"}),i.jsx(Gy,{members:v.map(d=>{const m=a.byAssignee[d.id]||{total:0,completed:0};return{name:d.name,avatar:d.avatar,completed:m.completed,remaining:m.total-m.completed}})})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Bugs: Created vs Resolved (14 days)"}),i.jsx(tf,{data:f,data2:p,label1:"Created",label2:"Resolved",color1:Ye.red,color2:Ye.green,dayLabels:o})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h3",{className:"analytics-section-title",children:"Completion by Member"}),i.jsx(Lo,{maxValue:100,items:v.map((d,m)=>{const E=a.byAssignee[d.id]||{total:0,completed:0},S=E.total>0?Math.round(E.completed/E.total*100):0;return{label:`${d.avatar} ${d.name}`,value:S,color:ef[m%ef.length]}})})]})]})]})}const nf={emails:{id:"ghost-emails",title:" Emails to Respond",type:"ghost",source:"email",icon:"",items:[{id:"email-1",title:"RE: Q1 Planning Review",from:"sarah@company.com",preview:"Can you review the draft budget by EOD?",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),url:"mailto:sarah@company.com",priority:"high"},{id:"email-2",title:"Design feedback needed",from:"design@company.com",preview:"New mockups for the dashboard redesign",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),url:"mailto:design@company.com",priority:"medium"},{id:"email-3",title:"Team offsite planning",from:"hr@company.com",preview:"Please fill out the preferences form",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"mailto:hr@company.com",priority:"low"}]},chats:{id:"ghost-chats",title:" Chat Messages",type:"ghost",source:"chat",icon:"",items:[{id:"chat-1",title:"#engineering - Deploy blocker",from:"Bob Smith",preview:"The staging deploy is failing, need help",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),url:"slack://channel?id=C123456",priority:"high",unread:!0},{id:"chat-2",title:"DM from Alice Chen",from:"Alice Chen",preview:"Can you review my PR when you get a chance?",timestamp:new Date(Date.now()-60*60*1e3).toISOString(),url:"slack://user?id=U789012",priority:"medium"}]},meetings:{id:"ghost-meetings",title:" Today's Meetings",type:"ghost",source:"calendar",icon:"",items:[{id:"meeting-1",title:"Daily Standup",startTime:"09:30",endTime:"09:45",attendees:["Team"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/123456789",priority:"medium"},{id:"meeting-2",title:"Sprint Planning",startTime:"14:00",endTime:"15:30",attendees:["Alice","Bob","Carol"],location:"Conference Room A",timestamp:new Date().toISOString(),url:"https://calendar.google.com/event/123",priority:"high"},{id:"meeting-3",title:"1:1 with Manager",startTime:"16:00",endTime:"16:30",attendees:["Manager"],location:"Zoom",timestamp:new Date().toISOString(),url:"https://zoom.us/j/987654321",priority:"medium"}]},docsToReview:{id:"ghost-docs",title:" Docs to Review",type:"ghost",source:"docs",icon:"",items:[{id:"doc-1",title:"API Design Spec v2",from:"Carol White",preview:"Updated REST API design for user service",timestamp:new Date(Date.now()-3*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/abc123",priority:"high",actionRequired:"Review & approve"},{id:"doc-2",title:"Q1 Retrospective Notes",from:"Team",preview:"Please add your feedback by Friday",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),url:"https://docs.google.com/document/d/def456",priority:"medium",actionRequired:"Add feedback"}]},alerts:{id:"ghost-alerts",title:" Alerts & Monitoring",type:"ghost",source:"monitoring",icon:"",items:[{id:"alert-1",title:"High memory usage on prod-server-3",severity:"warning",preview:"Memory at 87%, investigate before it hits threshold",timestamp:new Date(Date.now()-15*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12345",priority:"high"},{id:"alert-2",title:"SSL certificate expiring in 14 days",severity:"info",preview:"api.company.com certificate needs renewal",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),url:"https://monitoring.company.com/alert/12346",priority:"medium"}]}};class Qy{getGhostEntries(){return Promise.resolve({})}getGhostEntriesForDate(t){return Promise.resolve({})}dismissGhostItem(t,n){return console.log("Dismissed:",t,n),Promise.resolve()}promoteToTask(t,n){const r=nf[t];if(!r)return Promise.reject("Source not found");const s=r.items.find(l=>l.id===n);return s?Promise.resolve({title:s.title,description:s.preview||"",source:r.source,sourceUrl:s.url,priority:s.priority==="high"?"P0":s.priority==="medium"?"P1":"P2",createdFrom:"ghost"}):Promise.reject("Item not found")}getUnreadCount(){let t=0;return Object.values(nf).forEach(n=>{t+=n.items.length}),Promise.resolve(t)}}const el=new Qy,rf="timeBlocks",sf=[{id:"tb1",title:"Focus Time",startTime:"09:00",endTime:"11:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0},{id:"tb2",title:"Email & Messages",startTime:"14:00",endTime:"15:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#fb8500",enabled:!0},{id:"tb3",title:"Team Sync",startTime:"10:00",endTime:"10:30",recurrence:"weekly",weekdays:[1,3],color:"#3fb950",enabled:!0}];class Ky{constructor(){this.listeners=[],this.timeBlocks=this.loadTimeBlocks()}loadTimeBlocks(){try{const t=localStorage.getItem(rf);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load time blocks:",t)}return this.saveTimeBlocks(sf),sf}saveTimeBlocks(t){try{localStorage.setItem(rf,JSON.stringify(t)),this.timeBlocks=t,this.notifyListeners()}catch(n){console.error("Failed to save time blocks:",n)}}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(n=>n!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.timeBlocks))}getTimeBlocks(){return Promise.resolve([...this.timeBlocks])}addTimeBlock(t){const n={id:`tb${Date.now()}`,...t,enabled:t.enabled!==!1};return this.saveTimeBlocks([...this.timeBlocks,n]),Promise.resolve(n)}updateTimeBlock(t,n){const r=this.timeBlocks.map(s=>s.id===t?{...s,...n}:s);return this.saveTimeBlocks(r),Promise.resolve(r.find(s=>s.id===t))}deleteTimeBlock(t){const n=this.timeBlocks.filter(r=>r.id!==t);return this.saveTimeBlocks(n),Promise.resolve()}getBlocksForDate(t){const n=t.getDay();return this.timeBlocks.filter(r=>{var s,l;if(!r.enabled)return!1;switch(r.recurrence){case"daily":return!0;case"weekdays":return n>=1&&n<=5;case"weekly":return(s=r.weekdays)==null?void 0:s.includes(n);case"custom":return(l=r.weekdays)==null?void 0:l.includes(n);default:return!1}})}isBlockActive(t,n=new Date){if(!this.getBlocksForDate(n).find(p=>p.id===t.id))return!1;const[s,l]=t.startTime.split(":").map(Number),[a,o]=t.endTime.split(":").map(Number),c=new Date(n);c.setHours(s,l,0,0);const f=new Date(n);return f.setHours(a,o,0,0),n>=c&&n<=f}}const pn=new Ky;function Xy({currentDate:e,onPromoteToTask:t,style:n}){const[r,s]=k.useState({}),[l,a]=k.useState([]),[o,c]=k.useState(new Set(["ghost-emails","ghost-meetings"]));k.useEffect(()=>(el.getGhostEntriesForDate(e).then(h=>{s(h)}),pn.getTimeBlocks().then(h=>{a(h)}),pn.subscribe(h=>{a(h)})),[e]);const f=j=>{const h=new Set(o);h.has(j)?h.delete(j):h.add(j),c(h)},p=async(j,h)=>{try{const u=await el.promoteToTask(j,h.id);t&&t(u),await el.dismissGhostItem(j,h.id)}catch(u){console.error("Failed to promote item:",u)}},v=async(j,h)=>{await el.dismissGhostItem(j,h);const u=await el.getGhostEntriesForDate(e);s(u)},d=()=>pn.getBlocksForDate(e),m=j=>{const[h,u]=j.split(":").map(Number),g=h>=12?"PM":"AM";return`${h>12?h-12:h===0?12:h}:${u.toString().padStart(2,"0")} ${g}`},E=j=>{const h=new Date,u=new Date(j),g=h-u,y=Math.floor(g/(1e3*60)),N=Math.floor(g/(1e3*60*60)),b=Math.floor(g/(1e3*60*60*24));return y<1?"just now":y<60?`${y}m ago`:N<24?`${N}h ago`:b===1?"yesterday":`${b}d ago`},S=d();return i.jsxs("div",{className:"ghost-entries",style:n,children:[S.length>0&&i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header",children:[i.jsx("span",{className:"ghost-section-icon",children:""}),i.jsx("h3",{className:"ghost-section-title",children:"Time Blocks Today"}),i.jsx("span",{className:"ghost-count",children:S.length})]}),i.jsx("div",{className:"time-blocks-list",children:S.map(j=>{const h=pn.isBlockActive(j,e);return i.jsxs("div",{className:`time-block-item ${h?"active":""}`,style:{borderLeftColor:j.color},children:[i.jsxs("div",{className:"time-block-time",children:[m(j.startTime)," - ",m(j.endTime)]}),i.jsx("div",{className:"time-block-title",children:j.title}),h&&i.jsx("span",{className:"time-block-badge",children:"Now"})]},j.id)})})]}),Object.entries(r).map(([j,h])=>{var y;const u=o.has(h.id),g=((y=h.items)==null?void 0:y.length)||0;return g===0?null:i.jsxs("div",{className:"ghost-section",children:[i.jsxs("div",{className:"ghost-section-header clickable",onClick:()=>f(h.id),children:[i.jsx("span",{className:"ghost-section-icon",children:h.icon}),i.jsx("h3",{className:"ghost-section-title",children:h.title}),i.jsx("span",{className:"ghost-count",children:g}),i.jsx("span",{className:"expand-icon",children:u?"":""})]}),u&&i.jsx("div",{className:"ghost-items-list",children:h.items.map(N=>i.jsxs("div",{className:`ghost-item priority-${N.priority||"medium"}`,children:[i.jsxs("div",{className:"ghost-item-header",children:[i.jsxs("div",{className:"ghost-item-title",children:[N.title,N.unread&&i.jsx("span",{className:"unread-badge",children:""})]}),i.jsx("div",{className:"ghost-item-time",children:N.startTime?m(N.startTime):E(N.timestamp)})]}),N.from&&i.jsxs("div",{className:"ghost-item-from",children:["From: ",N.from]}),N.preview&&i.jsx("div",{className:"ghost-item-preview",children:N.preview}),N.attendees&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",N.attendees.join(", ")]}),N.location&&i.jsxs("div",{className:"ghost-item-meta",children:[" ",N.location]}),N.actionRequired&&i.jsxs("div",{className:"ghost-item-action",children:[" ",N.actionRequired]}),i.jsxs("div",{className:"ghost-item-actions",children:[N.url&&i.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"ghost-action-btn ghost-action-open",onClick:b=>b.stopPropagation(),children:"Open"}),i.jsx("button",{className:"ghost-action-btn ghost-action-promote",onClick:()=>p(j,N),title:"Convert to task",children:" Create Task"}),i.jsx("button",{className:"ghost-action-btn ghost-action-dismiss",onClick:()=>v(j,N.id),title:"Dismiss",children:""})]})]},N.id))})]},h.id)})]})}const lf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],af=[{value:"daily",label:"Every day"},{value:"weekdays",label:"Weekdays (Mon-Fri)"},{value:"weekly",label:"Weekly on selected days"},{value:"custom",label:"Custom days"}];function Zy({isOpen:e,onClose:t}){const[n,r]=k.useState([]),[s,l]=k.useState(null),[a,o]=k.useState(!1);k.useEffect(()=>(e&&c(),pn.subscribe(h=>{r(h)})),[e]);const c=async()=>{const j=await pn.getTimeBlocks();r(j)},f=()=>{l({id:null,title:"",startTime:"09:00",endTime:"10:00",recurrence:"daily",weekdays:[1,2,3,4,5],color:"#4493f8",enabled:!0}),o(!0)},p=async()=>{s&&(s.id?await pn.updateTimeBlock(s.id,s):await pn.addTimeBlock(s),l(null),o(!1),await c())},v=async j=>{confirm("Delete this time block?")&&(await pn.deleteTimeBlock(j),await c())},d=async j=>{await pn.updateTimeBlock(j.id,{enabled:!j.enabled})},m=()=>{l(null),o(!1)},E=j=>{l({...j}),o(!1)},S=j=>{if(!s)return;const h=s.weekdays||[],u=h.includes(j)?h.filter(g=>g!==j):[...h,j].sort();l({...s,weekdays:u})};return e?i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"time-block-manager",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:" Time Block Manager"}),i.jsx("button",{className:"close-btn",onClick:t,children:i.jsx(yr,{size:18})})]}),i.jsxs("div",{className:"modal-content",children:[!s&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"modal-description",children:"Create recurring time blocks to reserve focused time, meetings, or other scheduled activities."}),i.jsxs("div",{className:"time-block-list",children:[n.length===0&&i.jsx("div",{className:"empty-state",children:"No time blocks yet. Create one to get started!"}),n.map(j=>{var h,u;return i.jsxs("div",{className:"time-block-card",children:[i.jsx("div",{className:"time-block-color-bar",style:{backgroundColor:j.color}}),i.jsxs("div",{className:"time-block-info",children:[i.jsxs("div",{className:"time-block-title-row",children:[i.jsx("h4",{children:j.title}),i.jsxs("label",{className:"toggle-switch-small",children:[i.jsx("input",{type:"checkbox",checked:j.enabled,onChange:()=>d(j)}),i.jsx("span",{className:"toggle-slider-small"})]})]}),i.jsxs("div",{className:"time-block-time-display",children:[j.startTime," - ",j.endTime]}),i.jsxs("div",{className:"time-block-recurrence",children:[(h=af.find(g=>g.value===j.recurrence))==null?void 0:h.label,(j.recurrence==="weekly"||j.recurrence==="custom")&&i.jsxs("span",{className:"time-block-days",children:[" "," ",(u=j.weekdays)==null?void 0:u.map(g=>lf[g]).join(", ")]})]})]}),i.jsxs("div",{className:"time-block-actions",children:[i.jsx("button",{className:"icon-btn",onClick:()=>E(j),title:"Edit",children:""}),i.jsx("button",{className:"icon-btn",onClick:()=>v(j.id),title:"Delete",children:""})]})]},j.id)})]}),i.jsxs("button",{className:"create-block-btn",onClick:f,children:[i.jsx(Mn,{size:16}),"Create Time Block"]})]}),s&&i.jsxs("div",{className:"time-block-editor",children:[i.jsx("h3",{children:a?"Create Time Block":"Edit Time Block"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Title"}),i.jsx("input",{type:"text",value:s.title,onChange:j=>l({...s,title:j.target.value}),placeholder:"e.g., Focus Time, Team Meeting",autoFocus:!0})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Start Time"}),i.jsx("input",{type:"time",value:s.startTime,onChange:j=>l({...s,startTime:j.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"End Time"}),i.jsx("input",{type:"time",value:s.endTime,onChange:j=>l({...s,endTime:j.target.value})})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Recurrence"}),i.jsx("select",{value:s.recurrence,onChange:j=>l({...s,recurrence:j.target.value}),children:af.map(j=>i.jsx("option",{value:j.value,children:j.label},j.value))})]}),(s.recurrence==="weekly"||s.recurrence==="custom")&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Days of Week"}),i.jsx("div",{className:"weekday-picker",children:lf.map((j,h)=>{var u;return i.jsx("button",{className:`weekday-btn ${(u=s.weekdays)!=null&&u.includes(h)?"selected":""}`,onClick:()=>S(h),type:"button",children:j},h)})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Color"}),i.jsx("div",{className:"color-picker",children:["#4493f8","#3fb950","#fb8500","#f85149","#8b949e","#a371f7"].map(j=>i.jsx("button",{className:`color-btn ${s.color===j?"selected":""}`,style:{backgroundColor:j},onClick:()=>l({...s,color:j}),type:"button"},j))})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"btn-secondary",onClick:m,children:"Cancel"}),i.jsx("button",{className:"btn-primary",onClick:p,disabled:!s.title.trim(),children:a?"Create":"Save"})]})]})]})]})}):null}const Jp=[{id:"document",label:"Document",icon:""},{id:"wiki",label:"Wiki",icon:""},{id:"spec",label:"Spec",icon:""},{id:"drive",label:"Team Drive",icon:""},{id:"dashboard",label:"Dashboard",icon:""},{id:"repo",label:"Code Repo",icon:""},{id:"database",label:"Database",icon:""},{id:"release",label:"Release",icon:""},{id:"budget",label:"Budget",icon:""},{id:"financial",label:"Financial",icon:""},{id:"tool",label:"Tool",icon:""},{id:"architecture",label:"Architecture",icon:""},{id:"other",label:"Other",icon:""}],of=[{id:"public",label:"Public"},{id:"team-only",label:"Team Only"},{id:"restricted",label:"Restricted"}],Jy=e=>{const t=Jp.find(n=>n.id===e);return t?t.icon:""};function qp({node:e,depth:t,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o}){var E;const c=r.has(e.id),f=e.id===n,p=e.children&&e.children.length>0,v=(E=e.oncall)!=null&&E.enabled?Hp(e.oncall):null,d=v?o.find(S=>S.id===v):null,m=(e.resources||[]).length;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`ft-node ${f?"selected":""}`,style:{paddingLeft:`${12+t*20}px`},onClick:()=>s(e.id),children:[i.jsx("span",{className:"ft-node-chevron",onClick:S=>{S.stopPropagation(),p&&l(e.id)},children:p?c?i.jsx(Yl,{size:14}):i.jsx(Ha,{size:14}):i.jsx("span",{style:{width:14,display:"inline-block"}})}),i.jsx("span",{className:"ft-node-name",children:e.name}),i.jsxs("span",{className:"ft-node-badges",children:[m>0&&i.jsx("span",{className:"ft-node-resource-count",title:`${m} resources`,children:m}),e.memberIds&&e.memberIds.length>0&&i.jsx("span",{className:"ft-node-member-count",children:e.memberIds.length}),d&&i.jsx("span",{className:"ft-node-oncall",title:`Oncall: ${d.name}`,children:d.avatar})]}),i.jsx("button",{className:"ft-node-add-child",title:"Add child feature",onClick:S=>{S.stopPropagation(),a(e.id)},children:i.jsx(Mn,{size:12})})]}),c&&p&&e.children.map(S=>i.jsx(qp,{node:S,depth:t+1,selectedNodeId:n,expandedNodeIds:r,onSelect:s,onToggleExpand:l,onAddChild:a,teamMembers:o},S.id))]})}function qy({node:e}){const[t,n]=k.useState(""),[r,s]=k.useState(""),[l,a]=k.useState("other"),[o,c]=k.useState("public"),f=e.resources||[],p=()=>{t.trim()&&(gn().addResource(e.id,{label:t.trim(),url:r.trim(),type:l,visibility:o}),n(""),s(""),a("other"),c("public"))},v=m=>{gn().removeResource(e.id,m)},d=(m,E)=>{gn().updateResource(e.id,m,{visibility:E})};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Resources"}),f.length>0?i.jsx("div",{className:"ft-resource-list",children:f.map(m=>i.jsxs("div",{className:"ft-resource-row",children:[i.jsx("span",{className:"ft-resource-icon",children:Jy(m.type)}),i.jsx("span",{className:"ft-resource-label",children:m.url&&m.url!=="#"?i.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"ft-resource-link",children:m.label}):m.label}),i.jsx("select",{className:"ft-resource-visibility","data-visibility":m.visibility,value:m.visibility,onChange:E=>d(m.id,E.target.value),children:of.map(E=>i.jsx("option",{value:E.id,children:E.label},E.id))}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>v(m.id),children:i.jsx(yr,{size:12})})]},m.id))}):i.jsx("div",{className:"ft-muted",children:"No resources yet."}),i.jsxs("div",{className:"ft-resource-add",children:[i.jsx("input",{type:"text",className:"ft-input",placeholder:"Label",value:t,onChange:m=>n(m.target.value),onKeyDown:m=>{m.key==="Enter"&&p()}}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"URL (optional)",value:r,onChange:m=>s(m.target.value),onKeyDown:m=>{m.key==="Enter"&&p()}}),i.jsx("select",{className:"ft-select ft-select-sm",value:l,onChange:m=>a(m.target.value),children:Jp.map(m=>i.jsxs("option",{value:m.id,children:[m.icon," ",m.label]},m.id))}),i.jsx("select",{className:"ft-select ft-select-sm",value:o,onChange:m=>c(m.target.value),children:of.map(m=>i.jsx("option",{value:m.id,children:m.label},m.id))}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:p,disabled:!t.trim(),children:"Add"})]})]})}function e0({node:e,featureTree:t,onSelectNode:n}){const[r,s]=k.useState(""),l=e.partnerTeamIds||[],a=k.useMemo(()=>{const p=[],v=d=>{for(const m of d)p.push(m),m.children&&v(m.children)};return v(t),p},[t]),o=a.filter(p=>p.id!==e.id&&!l.includes(p.id)),c=()=>{r&&(gn().addPartnerTeam(e.id,r),s(""))},f=p=>{gn().removePartnerTeam(e.id,p)};return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Partner Teams"}),l.length>0?i.jsx("div",{className:"ft-partner-list",children:l.map(p=>{const v=a.find(d=>d.id===p);return v?i.jsxs("div",{className:"ft-partner-row",children:[i.jsx("span",{className:"ft-partner-link",onClick:()=>n(p),title:"Navigate to this team",children:v.name}),i.jsxs("span",{className:"ft-partner-member-count",children:[(v.memberIds||[]).length," members"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>f(p),children:i.jsx(yr,{size:12})})]},p):null})}):i.jsx("div",{className:"ft-muted",children:"No partner teams linked."}),o.length>0&&i.jsxs("div",{className:"ft-partner-add",children:[i.jsxs("select",{className:"ft-select",value:r,onChange:p=>s(p.target.value),children:[i.jsx("option",{value:"",children:"Link a partner team..."}),o.map(p=>i.jsx("option",{value:p.id,children:p.name},p.id))]}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:c,disabled:!r,children:"Link"})]})]})}function t0({node:e,teamMembers:t,onUpdate:n}){const r=e.oncall||{enabled:!1,rotationPeriod:"weekly",startDate:"",memberOrder:[],overrides:[]},[s,l]=k.useState(""),[a,o]=k.useState(""),[c,f]=k.useState(null),p=r.enabled?Hp(r):null,v=p?t.find(y=>y.id===p):null,d=r.enabled?qv(r,8):[],m=y=>{n({oncall:{...r,...y}})},E=()=>{if(!s)return;const y=new Date().toISOString().slice(0,10),N=[...r.overrides||[],{date:y,memberId:s,reason:a}];m({overrides:N}),l(""),o("")},S=y=>{const N=r.overrides.filter((b,I)=>I!==y);m({overrides:N})},j=y=>f(y),h=(y,N)=>{if(y.preventDefault(),c===null||c===N)return;const b=[...r.memberOrder],[I]=b.splice(c,1);b.splice(N,0,I),m({memberOrder:b}),f(N)},u=()=>f(null),g=t.filter(y=>e.memberIds&&e.memberIds.includes(y.id));return i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Oncall Schedule"}),i.jsxs("label",{className:"ft-toggle-row",children:[i.jsx("input",{type:"checkbox",checked:r.enabled,onChange:y=>m({enabled:y.target.checked})}),i.jsx("span",{children:"Enable oncall rotation"})]}),r.enabled&&i.jsxs(i.Fragment,{children:[v&&i.jsxs("div",{className:"ft-oncall-current",children:[i.jsx("span",{className:"ft-oncall-current-avatar",children:v.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"ft-oncall-current-label",children:"Currently on call"}),i.jsx("div",{className:"ft-oncall-current-name",children:v.name})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Rotation"}),i.jsxs("select",{className:"ft-select",value:r.rotationPeriod,onChange:y=>m({rotationPeriod:y.target.value}),children:[i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"biweekly",children:"Biweekly"})]})]}),i.jsxs("div",{className:"ft-field-row",children:[i.jsx("label",{className:"ft-field-label",children:"Start date"}),i.jsx("input",{type:"date",className:"ft-input",value:r.startDate||"",onChange:y=>m({startDate:y.target.value})})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Rotation Order"}),r.memberOrder&&r.memberOrder.length>0?i.jsx("div",{className:"ft-oncall-order",children:r.memberOrder.map((y,N)=>{const b=t.find(I=>I.id===y);return b?i.jsxs("div",{className:`ft-oncall-order-item ${c===N?"dragging":""}`,draggable:!0,onDragStart:()=>j(N),onDragOver:I=>h(I,N),onDragEnd:u,children:[i.jsx("span",{className:"ft-oncall-order-index",children:N+1}),i.jsx("span",{children:b.avatar}),i.jsx("span",{children:b.name})]},y):null})}):i.jsx("div",{className:"ft-muted",children:"No members in rotation. Add team members first."})]}),i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Manual Override"}),i.jsxs("div",{className:"ft-oncall-override",children:[i.jsxs("select",{className:"ft-select",value:s,onChange:y=>l(y.target.value),children:[i.jsx("option",{value:"",children:"Select person..."}),g.map(y=>i.jsx("option",{value:y.id,children:y.name},y.id))]}),i.jsx("input",{type:"text",className:"ft-input",placeholder:"Reason (optional)",value:a,onChange:y=>o(y.target.value),onKeyDown:y=>{y.key==="Enter"&&E()}}),i.jsx("button",{className:"ft-btn ft-btn-sm",onClick:E,disabled:!s,children:"Set"})]}),r.overrides&&r.overrides.length>0&&i.jsx("div",{className:"ft-oncall-override-history",children:r.overrides.map((y,N)=>{const b=t.find(I=>I.id===y.memberId);return i.jsxs("div",{className:"ft-oncall-override-row",children:[i.jsx("span",{children:y.date}),i.jsx("span",{children:b?`${b.avatar} ${b.name}`:y.memberId}),y.reason&&i.jsxs("span",{className:"ft-muted",children:["(",y.reason,")"]}),i.jsx("button",{className:"ft-btn-icon",onClick:()=>S(N),children:i.jsx(yr,{size:12})})]},N)})})]}),d.length>0&&i.jsxs("div",{className:"ft-subsection",children:[i.jsx("h4",{children:"Upcoming Schedule"}),i.jsxs("table",{className:"ft-schedule-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Period"}),i.jsx("th",{children:"On Call"})]})}),i.jsx("tbody",{children:d.map((y,N)=>{const b=t.find(F=>F.id===y.memberId),I=y.startDate.toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=y.endDate.toLocaleDateString("en-US",{month:"short",day:"numeric"});return i.jsxs("tr",{className:y.isCurrent?"ft-schedule-current":"",children:[i.jsxs("td",{children:[I," - ",A]}),i.jsx("td",{children:b?`${b.avatar} ${b.name}`:y.memberId})]},N)})})]})]})]})]})}function n0({node:e,teamMembers:t,featureTree:n,onUpdate:r,onDelete:s,onSelectNode:l}){const a=t.filter(c=>c.id!=="unassigned"),o=c=>{const f=e.memberIds||[];let p;if(f.includes(c)){p=f.filter(d=>d!==c);const v=e.oncall;if(v&&v.memberOrder){const d=v.memberOrder.filter(m=>m!==c);r({memberIds:p,oncall:{...v,memberOrder:d}});return}}else{p=[...f,c];const v=e.oncall;if(v&&v.memberOrder){const d=[...v.memberOrder,c];r({memberIds:p,oncall:{...v,memberOrder:d}});return}}r({memberIds:p})};return i.jsxs("div",{className:"ft-detail-panel",children:[i.jsxs("div",{className:"ft-detail-header",children:[i.jsx("h2",{className:"ft-detail-title",children:e.name}),i.jsx("button",{className:"ft-btn ft-btn-danger",onClick:s,title:"Delete this feature",children:i.jsx(yr,{size:14})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Name"}),i.jsx("input",{type:"text",className:"ft-input ft-input-full",value:e.name,onChange:c=>r({name:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsx("h3",{children:"Description"}),i.jsx("textarea",{className:"ft-textarea",rows:3,placeholder:"Describe this feature area...",value:e.description||"",onChange:c=>r({description:c.target.value})})]}),i.jsxs("div",{className:"ft-detail-section",children:[i.jsxs("h3",{children:[i.jsx(Tc,{size:14})," Members"]}),i.jsx("div",{className:"ft-member-list",children:a.map(c=>{const f=(e.memberIds||[]).includes(c.id);return i.jsxs("label",{className:`ft-member-row ${f?"active":""}`,children:[i.jsx("input",{type:"checkbox",checked:f,onChange:()=>o(c.id)}),i.jsx("span",{className:"ft-member-avatar",children:c.avatar}),i.jsx("span",{className:"ft-member-name",children:c.name})]},c.id)})})]}),i.jsx(qy,{node:e}),i.jsx(e0,{node:e,featureTree:n,onSelectNode:l}),i.jsx(t0,{node:e,teamMembers:t,onUpdate:c=>r(c)})]})}function r0({featureTree:e,teamMembers:t,onUpdateNode:n,onAddNode:r,onDeleteNode:s}){const[l,a]=k.useState(null),[o,c]=k.useState(()=>new Set(e.map(j=>j.id))),f=k.useCallback((j,h)=>{for(const u of h){if(u.id===j)return u;if(u.children&&u.children.length>0){const g=f(j,u.children);if(g)return g}}return null},[]),p=k.useMemo(()=>l?f(l,e):null,[l,e,f]),v=k.useCallback(j=>{c(h=>{const u=new Set(h);return u.has(j)?u.delete(j):u.add(j),u})},[]),d=k.useCallback(j=>{r(j,{name:"New Feature"}),j&&c(h=>{const u=new Set(h);return u.add(j),u})},[r]),m=k.useCallback(()=>{r(null,{name:"New Feature"})},[r]),E=k.useCallback(()=>{l&&(s(l),a(null))},[l,s]),S=k.useCallback(j=>{a(j);const h=(g,y,N=[])=>{for(const b of g){if(b.id===y)return N;if(b.children&&b.children.length>0){const I=h(b.children,y,[...N,b.id]);if(I)return I}}return null},u=h(e,j);u&&u.length>0&&c(g=>{const y=new Set(g);return u.forEach(N=>y.add(N)),y})},[e]);return i.jsxs("div",{className:"ft-view",children:[i.jsxs("div",{className:"ft-tree-panel",children:[i.jsx("div",{className:"ft-tree-toolbar",children:i.jsxs("button",{className:"ft-btn",onClick:m,children:[i.jsx(Mn,{size:14})," Add Feature"]})}),i.jsxs("div",{className:"ft-tree-list",children:[e.map(j=>i.jsx(qp,{node:j,depth:0,selectedNodeId:l,expandedNodeIds:o,onSelect:a,onToggleExpand:v,onAddChild:d,teamMembers:t},j.id)),e.length===0&&i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"No features yet. Add one to get started."})]})]})]}),p?i.jsx(n0,{node:p,teamMembers:t,featureTree:e,onUpdate:j=>n(p.id,j),onDelete:E,onSelectNode:S},p.id):i.jsx("div",{className:"ft-detail-panel ft-empty-detail",children:i.jsxs("div",{className:"ft-empty",children:[i.jsx("div",{className:"ft-empty-icon",children:""}),i.jsx("div",{children:"Select a feature to view details"})]})})]})}function cf({person:e,onEdit:t,onDelete:n}){const[r,s]=k.useState(!1),[l,a]=k.useState(e.name),[o,c]=k.useState(e.email||""),[f,p]=k.useState(e.avatar),[v,d]=k.useState(!1),m=()=>{t(e.id,{name:l.trim()||e.name,email:o.trim(),avatar:f}),s(!1),d(!1)},E=()=>{a(e.name),c(e.email||""),p(e.avatar),s(!1),d(!1)},S=()=>{fs().toggleEnabled(e.id)};return r?i.jsxs("div",{className:"ppl-card editing",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>d(!v),children:f}),v&&i.jsx("div",{className:"ppl-avatar-picker",children:Fp.map(j=>i.jsx("button",{className:`ppl-avatar-option ${j===f?"selected":""}`,onClick:()=>{p(j),d(!1)},children:j},j))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:l,onChange:j=>a(j.target.value),onKeyDown:j=>{j.key==="Enter"&&m(),j.key==="Escape"&&E()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:o,onChange:j=>c(j.target.value),onKeyDown:j=>{j.key==="Enter"&&m(),j.key==="Escape"&&E()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:m,children:[i.jsx(Iv,{size:12})," Save"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:E,children:"Cancel"})]})]}):i.jsxs("div",{className:`ppl-card ${e.enabled?"":"disabled"} ${e.isSystem?"system":""}`,children:[i.jsx("div",{className:"ppl-card-avatar",children:e.avatar}),i.jsxs("div",{className:"ppl-card-info",children:[i.jsx("div",{className:"ppl-card-name",children:e.name}),e.email&&i.jsx("div",{className:"ppl-card-email",children:e.email}),e.isSystem&&i.jsx("div",{className:"ppl-card-badge",children:"System"})]}),i.jsx("div",{className:"ppl-card-actions",children:!e.isSystem&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:`ppl-toggle ${e.enabled?"on":"off"}`,onClick:S,title:e.enabled?"Disable":"Enable",children:e.enabled?"Enabled":"Disabled"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:()=>s(!0),children:"Edit"}),i.jsx("button",{className:"ppl-btn ppl-btn-sm ppl-btn-danger",onClick:()=>n(e.id),children:i.jsx(yr,{size:12})})]})})]})}function s0({onAdd:e}){const[t,n]=k.useState(!1),[r,s]=k.useState(""),[l,a]=k.useState(""),[o,c]=k.useState(""),[f,p]=k.useState(!1),v=()=>{r.trim()&&(e({name:r.trim(),email:l.trim(),avatar:o}),s(""),a(""),c(""),n(!1))},d=()=>{s(""),a(""),c(""),n(!1),p(!1)};return t?i.jsxs("div",{className:"ppl-card editing new",children:[i.jsxs("div",{className:"ppl-card-avatar-edit",children:[i.jsx("button",{className:"ppl-avatar-btn",onClick:()=>p(!f),children:o}),f&&i.jsx("div",{className:"ppl-avatar-picker",children:Fp.map(m=>i.jsx("button",{className:`ppl-avatar-option ${m===o?"selected":""}`,onClick:()=>{c(m),p(!1)},children:m},m))})]}),i.jsxs("div",{className:"ppl-card-fields",children:[i.jsx("input",{type:"text",className:"ppl-input",placeholder:"Name",value:r,onChange:m=>s(m.target.value),onKeyDown:m=>{m.key==="Enter"&&v(),m.key==="Escape"&&d()},autoFocus:!0}),i.jsx("input",{type:"email",className:"ppl-input",placeholder:"Email (optional)",value:l,onChange:m=>a(m.target.value),onKeyDown:m=>{m.key==="Enter"&&v(),m.key==="Escape"&&d()}})]}),i.jsxs("div",{className:"ppl-card-actions",children:[i.jsxs("button",{className:"ppl-btn ppl-btn-sm ppl-btn-primary",onClick:v,disabled:!r.trim(),children:[i.jsx(Mn,{size:12})," Add"]}),i.jsx("button",{className:"ppl-btn ppl-btn-sm",onClick:d,children:"Cancel"})]})]}):i.jsxs("button",{className:"ppl-add-btn",onClick:()=>n(!0),children:[i.jsx(Mn,{size:16})," Add Person"]})}function l0({people:e}){const[t,n]=k.useState(null),r=(p,v)=>{fs().updatePerson(p,v)},s=p=>{fs().addPerson(p)},l=p=>{n(p)},a=()=>{t&&(fs().deletePerson(t),n(null))},o=t?e.find(p=>p.id===t):null,c=e.filter(p=>!p.isSystem),f=e.filter(p=>p.isSystem);return i.jsxs("div",{className:"ppl-view",children:[i.jsxs("div",{className:"ppl-header",children:[i.jsx("h2",{className:"ppl-title",children:"People"}),i.jsxs("div",{className:"ppl-stats",children:[c.filter(p=>p.enabled).length," active / ",c.length," total"]})]}),i.jsxs("div",{className:"ppl-content",children:[i.jsx("div",{className:"ppl-section",children:i.jsx(s0,{onAdd:s})}),i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"Team Members"}),i.jsxs("div",{className:"ppl-list",children:[c.map(p=>i.jsx(cf,{person:p,onEdit:r,onDelete:l},p.id)),c.length===0&&i.jsx("div",{className:"ppl-empty",children:"No team members yet. Add someone to get started."})]})]}),f.length>0&&i.jsxs("div",{className:"ppl-section",children:[i.jsx("h3",{className:"ppl-section-title",children:"System"}),i.jsx("div",{className:"ppl-list",children:f.map(p=>i.jsx(cf,{person:p,onEdit:r,onDelete:l},p.id))})]})]}),t&&o&&i.jsx("div",{className:"ppl-modal-overlay",onClick:()=>n(null),children:i.jsxs("div",{className:"ppl-modal",onClick:p=>p.stopPropagation(),children:[i.jsx("div",{className:"ppl-modal-title",children:"Delete Person"}),i.jsxs("div",{className:"ppl-modal-body",children:["Are you sure you want to remove ",i.jsx("strong",{children:o.name}),"? This will not affect their existing task assignments."]}),i.jsxs("div",{className:"ppl-modal-actions",children:[i.jsx("button",{className:"ppl-btn",onClick:()=>n(null),children:"Cancel"}),i.jsx("button",{className:"ppl-btn ppl-btn-danger",onClick:a,children:"Delete"})]})]})})]})}function i0({className:e=""}){const{isAuthenticated:t,syncState:n,pendingCount:r,syncNow:s,error:l,clearError:a}=Xp();if(!t)return null;const o=()=>{switch(n){case"syncing":return"";case"error":return"";case"offline":return"";default:return r>0?"":""}},c=()=>{switch(n){case"syncing":return"Syncing...";case"error":return"Sync error";case"offline":return"Offline";default:return r>0?`${r} pending`:"Synced"}},f=()=>{l&&a(),n!=="syncing"&&s()};return i.jsx("div",{className:`sync-status ${e}`,children:i.jsxs("button",{className:`sync-status-btn sync-state-${n}`,onClick:f,title:l||`Click to sync now. Status: ${c()}`,children:[i.jsx("span",{className:"sync-icon",children:o()}),i.jsx("span",{className:"sync-text",children:c()})]})})}const En=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},em=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},Yr=e=>{const t=new Date(e);return t.setHours(23,59,59,999),t},uf=e=>{const t=new Date(e),n=t.getDay(),r=n===0?-6:1-n;return t.setDate(t.getDate()+r),t.setHours(0,0,0,0),t},a0=(e,t)=>En(e,t*7),o0=(e,t)=>En(e,t*14),c0=e=>{const t=new Date(e),r=t.getMonth()<6?0:6;return t.setMonth(r),t.setDate(1),t.setHours(0,0,0,0),t},df=(e,t)=>{const n=new Date(e);return n.setMonth(n.getMonth()+t*6),n},u0=e=>{const t=new Date(e);return t.setMonth(0),t.setDate(1),t.setHours(0,0,0,0),t},ff=(e,t)=>{const n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},$i=(e,t=0)=>{const n=new Date;switch(e){case"day":{const r=em(En(n,t)),s=Yr(En(n,t));return{start:r,end:s}}case"week":{const r=uf(n),s=a0(r,t),l=Yr(En(s,6));return{start:s,end:l}}case"sprint":{const r=new Date("2024-01-01"),s=uf(n),l=Math.floor((s-r)/(1e3*60*60*24*7)),o=Math.floor(l/2)+t,c=o0(r,o),f=Yr(En(c,13));return{start:c,end:f}}case"half":{const r=c0(n),s=df(r,t),l=Yr(En(df(s,1),-1));return{start:s,end:l}}case"year":{const r=u0(n),s=ff(r,t),l=Yr(En(ff(s,1),-1));return{start:s,end:l}}case"global":default:return{start:new Date(0),end:new Date("2100-01-01")}}},yi=(e,t=0)=>e==="global"?null:$i(e,t).end;function d0(){const e=k.useMemo(()=>ny(["1","2"]),[]),[t,n]=k.useState([]),[r,s]=k.useState(new Set(["1","2"])),[l,a]=k.useState(null),[o,c]=k.useState(new Set),[f,p]=k.useState(!0),[v,d]=k.useState(""),[m,E]=k.useState(!1),[S,j]=k.useState("day"),[h,u]=k.useState(0),[g,y]=k.useState(null),[N,b]=k.useState(null),[I,A]=k.useState("middle"),[F,ee]=k.useState(null),[D,Q]=k.useState("personal"),[he,ie]=k.useState(null),[Ue,Me]=k.useState(!1),[Ee,G]=k.useState(!1),[ne,L]=k.useState(400),oe=k.useRef(!1),ue=k.useRef(null),be=k.useRef(!1),Ie=k.useRef(null),ke=k.useRef(null),Oe=k.useRef(new Map),[J,ve]=k.useState([]),[P,Y]=k.useState([]),X=k.useRef(null),ce=k.useMemo(()=>{const w=T=>T.flatMap(R=>[{id:R.id,name:R.name,memberIds:R.memberIds||[]},...w(R.children||[])]);return w(P)},[P]),je=k.useMemo(()=>{const w=[],T=(R,H=0)=>{R.forEach($=>{w.push({id:$.id,name:$.name,depth:H}),$.children&&T($.children,H+1)})};return T(P),w},[P]);k.useEffect(()=>{const w=()=>{n(e.getAllItems())},T=()=>{const H=e.getSelectedIds();a(H[0]||null),c(new Set(H))},R=()=>{s(new Set(e.getExpandedIds()))};return e.on("items-changed",w),e.on("selection-changed",T),e.on("expansion-changed",R),w(),()=>{e.off("items-changed",w),e.off("selection-changed",T),e.off("expansion-changed",R)}},[e]),k.useEffect(()=>{const w=gn();return w.initialize().then(()=>{w.getTree().then(Y)}),w.subscribe(Y)},[]),k.useEffect(()=>{const w=fs();return w.initialize().then(()=>{w.getPeople().then(ve)}),w.subscribe(ve)},[]),k.useEffect(()=>{const T={personal:"day",team:"sprint",timeline:"month"}[D];T&&(j(T),u(0))},[D]),k.useLayoutEffect(()=>{if(!ke.current)return;const w=ke.current.querySelectorAll("[data-item-id]"),T=new Map;w.forEach(R=>{const H=R.dataset.itemId,$=R.getBoundingClientRect();T.set(H,$.top);const le=Oe.current.get(H);if(le!==void 0&&le!==$.top){const ge=le-$.top;if(Math.abs(ge)<2||R.classList.contains("dragging"))return;R.style.transform=`translateY(${ge}px)`,R.style.transition="none",requestAnimationFrame(()=>{R.style.transition="transform 150ms ease",R.style.transform=""})}}),Oe.current=T});const Re=!["analytics","people","features"].includes(D);k.useEffect(()=>{!m&&Re&&X.current&&X.current.focus()},[m,Re]),k.useEffect(()=>{const w=T=>{var $,le;const R=v.trim().length>0;if(m){T.key==="Escape"&&(T.preventDefault(),E(!1));return}if(Re&&T.target!==X.current&&/^[a-zA-Z0-9]$/.test(T.key)){T.preventDefault(),d(T.key),($=X.current)==null||$.focus();return}if(R)switch(T.key){case"Enter":T.preventDefault(),T.shiftKey?M(v):x(v);break;case"Escape":T.preventDefault(),d(""),(le=X.current)==null||le.focus();break}else{switch(T.key){case"ArrowDown":T.preventDefault(),ot();break;case"ArrowUp":T.preventDefault(),Ae();break;case"ArrowRight":T.preventDefault(),ct();break;case"ArrowLeft":T.preventDefault(),fe();break;case"Control":case"Shift":break;default:T.ctrlKey||T.metaKey?T.key==="ArrowDown"?(T.preventDefault(),bt()):T.key==="ArrowUp"&&(T.preventDefault(),Ql()):T.shiftKey&&(T.key==="ArrowDown"?(T.preventDefault(),$s()):T.key==="ArrowUp"?(T.preventDefault(),wn()):T.key==="Tab"&&(T.preventDefault(),et(!1)));break}if(!T.ctrlKey&&!T.metaKey&&!T.shiftKey)switch(T.key){case" ":T.preventDefault(),l&&O(l);break;case"Delete":T.preventDefault(),Xt();break;case"Enter":T.preventDefault(),l&&E(!0);break;case"Escape":T.preventDefault(),e.clearSelection();break;case"Tab":T.preventDefault(),et(!0);break}}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[l,o,r,t,f,v,m]);const Se=()=>{const w=[],T=R=>{R.forEach(H=>{w.push(H.id),H.children&&H.children.length>0&&r.has(H.id)&&T(H.children)})};return T(ye()),w},Xe=(w,T)=>{for(const R of T){if(R.id===w)return R;if(R.children){const H=Xe(w,R.children);if(H)return H}}return null},Qt=(w,T,R=null)=>{for(const H of T){if(H.id===w)return R;if(H.children){const $=Qt(w,H.children,H);if($)return $}}return null},V=w=>{const T=$i(S,h),R=em(new Date),H=[];for(const $ of w){if(!f&&$.completed)continue;if(S==="global"){const pe={...$};$.children&&(pe.children=V($.children)),H.push(pe);continue}const le=$.dueDate?new Date($.dueDate):null;let ge=!1;if(le&&(ge=le>=T.start&&le<=T.end,!ge&&S==="day"&&h===0&&le<R&&(ge=!0)),ge){const pe={...$};$.children&&(pe.children=V($.children)),H.push(pe)}else $.children&&$.children.length>0&&H.push(...V($.children))}return H},re=w=>{if(S==="global")return w;const T=$i(S,h),R=H=>H.flatMap($=>{if(Yp($)){const le=ly($,T.start,T.end,J);return le.length>0?le:[]}return[{...$,children:$.children?R($.children):[]}]});return R(w)},ye=()=>re(V(t)),ot=()=>{const w=Se();if(w.length===0)return;if(!l){a(w[0]);return}const T=w.indexOf(l),R=T<w.length-1?T+1:0;a(w[R])},Ae=()=>{const w=Se();if(w.length===0)return;if(!l){a(w[w.length-1]);return}const T=w.indexOf(l),R=T>0?T-1:w.length-1;a(w[R])},ct=()=>{if(!l)return;const w=Xe(l,t);if(w&&w.children&&w.children.length>0)if(r.has(l))a(w.children[0].id);else{const T=new Set(r);T.add(l),s(T)}},fe=()=>{if(!l)return;const w=Xe(l,t);if(w)if(w.children&&w.children.length>0&&r.has(l)){const T=new Set(r);T.delete(l),s(T)}else{const T=Qt(l,t);T&&a(T.id)}},bt=()=>{const w=Se();w.length>0&&a(w[w.length-1])},Ql=()=>{const w=Se();w.length>0&&a(w[0])},$s=()=>{const w=Se();if(w.length===0)return;if(!l){a(w[0]);return}const T=w.indexOf(l),R=T<w.length-1?T+1:0,H=w[R],$=new Set(o);$.add(l),$.add(H),c($),a(H)},wn=()=>{const w=Se();if(w.length===0)return;if(!l){a(w[w.length-1]);return}const T=w.indexOf(l),R=T>0?T-1:w.length-1,H=w[R],$=new Set(o);$.add(l),$.add(H),c($),a(H)},Kt=w=>{if(!e.getItem(w))return null;const R=e.getParent(w),H=R?R.children:t,$=H.findIndex(le=>le.id===w);if($>=0){if($>0)return H[$-1].id;if($<H.length-1)return H[$+1].id}return(R==null?void 0:R.id)||null},Xt=async()=>{let w=null;if(o.size>0){const T=Array.from(o)[0];w=Kt(T);for(const R of o)await e.deleteItem(R)}else l&&(w=Kt(l),await e.deleteItem(l));w?e.select(w):e.clearSelection()},et=w=>{o.size>0?o.forEach(T=>{w?Fs(T,!0):Fs(T,!1)}):l&&Fs(l,w)},Fs=(w,T)=>{const R=Xe(w,t);if(R)if(T){const H=Se(),$=H.indexOf(w);if($<=0)return;const le=H[$-1];if(!Xe(le,t))return;const pe=An(t,w),Ve=Bs(pe,le,R);n(Ve),Dn().setTodos(Ve)}else{const H=Qt(w,t);if(!H)return;const $=Qt(H.id,t),le=An(t,w);if($){const ge=le.map(pe=>{if(pe.id===$.id){const Ve=(pe.children||[]).findIndex(rm=>rm.id===H.id),wr=[...pe.children||[]];return wr.splice(Ve+1,0,R),{...pe,children:wr}}return pe.children?{...pe,children:Kl(pe.children,$.id,H.id,R)}:pe});n(ge),Dn().setTodos(ge)}else{const ge=le.findIndex(Ve=>Ve.id===H.id),pe=[...le];pe.splice(ge+1,0,R),n(pe),Dn().setTodos(pe)}}},Kl=(w,T,R,H)=>w.map($=>{if($.id===T){const le=($.children||[]).findIndex(pe=>pe.id===R),ge=[...$.children||[]];return ge.splice(le+1,0,H),{...$,children:ge}}return $.children?{...$,children:Kl($.children,T,R,H)}:$}),An=(w,T)=>w.filter(R=>R.id!==T).map(R=>({...R,children:An(R.children||[],T)})),Bs=(w,T,R)=>w.map(H=>H.id===T?{...H,children:[R,...H.children||[]]}:{...H,children:Bs(H.children||[],T,R)}),x=async w=>{if(!w.trim())return;const T=l?e.getParent(l):null,R=(T==null?void 0:T.id)||null,H={title:w.trim(),dueDate:yi(S,h)},$=await e.appendItem(R,H);d(""),$&&e.select($)},M=async w=>{if(!w.trim())return;const T=l?e.getItem(l):null,R=T&&T.children!==void 0?l:null,H={title:w.trim(),dueDate:yi(S,h)},$=await e.appendItem(R,H);R&&e.expand(R),d(""),$&&e.select($)},B=w=>{e.toggleExpand(w)},O=w=>{var T,R;if(typeof w=="string"&&w.includes(":")){const[H,$]=w.split(":"),le=Xe(H,t);if(le){const ge=cy(le.instances,$,"completed",!((R=(T=le.instances)==null?void 0:T[$])!=null&&R.completed));e.updateItem(H,{instances:ge})}return}e.toggleComplete(w,!0)},z=(w,T,R,H)=>{const $=Qt(T,w);if($){const ge=($.children||[]).findIndex(Ve=>Ve.id===T),pe=H==="top"?ge:ge+1;return w.map(Ve=>{if(Ve.id===$.id){const wr=[...Ve.children||[]];return wr.splice(pe,0,R),{...Ve,children:wr}}return Ve.children?{...Ve,children:W(Ve.children,$.id,pe,R)}:Ve})}else{const le=w.findIndex(Ve=>Ve.id===T),ge=H==="top"?le:le+1,pe=[...w];return pe.splice(ge,0,R),pe}},W=(w,T,R,H)=>w.map($=>{if($.id===T){const le=[...$.children||[]];return le.splice(R,0,H),{...$,children:le}}return $.children?{...$,children:W($.children,T,R,H)}:$}),Z=(w,T)=>{ue.current=JSON.parse(JSON.stringify(t)),be.current=!1,Ie.current=null,y(w),T.dataTransfer.effectAllowed="move"},de=(w,T)=>{if(T.preventDefault(),!g||g===w)return;const R=T.currentTarget.getBoundingClientRect(),H=T.clientY-R.top,$=R.height;let le="middle";if(H<$*.25?le="top":H>$*.75&&(le="bottom"),le==="middle"){Ie.current=null,b(w),A("middle");return}const ge=`${w}-${le}`;Ie.current!==ge&&(Ie.current=ge,b(null),A(le),n(pe=>{const Ve=Xe(g,pe);if(!Ve)return pe;const wr=An(pe,g);return z(wr,w,Ve,le)}))},ae=(w,T)=>{if(T.preventDefault(),be.current=!0,!!g){if(I==="middle"&&N&&g!==N){const R=Xe(g,t);if(R){const H=An(t,g),$=Bs(H,N,R);n($),Dn().setTodos($)}e.expand(N)}else Dn().setTodos(t);y(null),b(null),Ie.current=null}},se=w=>{if(w.target!==w.currentTarget||(w.preventDefault(),be.current=!0,!g))return;const T=Xe(g,t);if(T){const H=[...An(t,g),T];n(H),Dn().setTodos(H)}y(null),b(null),Ie.current=null},Ce=()=>{!be.current&&ue.current&&n(ue.current),ue.current=null,Ie.current=null,y(null),b(null)},Ze=w=>{w.preventDefault(),oe.current=!0;const T=w.clientX,R=ne;document.body.classList.add("resizing");const H=le=>{const ge=T-le.clientX,pe=Math.max(200,Math.min(R+ge,window.innerWidth*.6));L(pe)},$=()=>{oe.current=!1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",$)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",$)},Te=w=>{a(w),E(!0)},xn=w=>{if(!g||!e.getItem(g))return;const R=yi(w,0);e.updateItem(g,{dueDate:R}),y(null),b(null)},$t=(w,T,R)=>{const H=Xe(w,t);H&&ee({todo:H,x:T,y:R})},kn=(w,T)=>{e.getItem(w)&&(e.updateItem(w,{dueDate:T}),ee(null))},Hs=(w,T)=>{const R=[...J],[H]=R.splice(w,1);R.splice(T,0,H),ve(R)},zn=(w,T)=>{gn().updateNode(w,T)},Xl=(w,T)=>gn().addNode(w,T),Ws=w=>{gn().deleteNode(w)},Us=async w=>{w.todos&&await Dn().setTodos(w.todos),w.people&&await fs().setPeople(w.people),w.featureTree&&await gn().setTree(w.featureTree)},tm=async w=>{const T={title:w.title,description:w.description||"",dueDate:Yr(new Date),source:w.source,sourceUrl:w.sourceUrl,priority:w.priority,metadata:{source:w.source,sourceUrl:w.sourceUrl,createdFrom:"ghost"}},R=await e.appendItem(null,T);R&&e.select(R)},Mu=k.useMemo(()=>{var T;if(!l)return null;const w=e.getItem(l);if(w)return w;if(typeof l=="string"&&l.includes(":")){const[R,H]=l.split(":"),$=Xe(R,t);if($){const le=((T=$.instances)==null?void 0:T[H])||{},ge=J.find(pe=>pe.id===H);return{...$,id:l,masterId:R,isInstance:!0,instanceKey:H,completed:le.completed||!1,notes:le.notes||"",children:[],...$.type==="chore"?{instanceDate:new Date(H)}:{},...$.type==="assignment"?{instanceAssignee:H,instanceAssigneeName:(ge==null?void 0:ge.name)||H,instanceAssigneeAvatar:(ge==null?void 0:ge.avatar)||"",assignee:H}:{}}}}return null},[l,t,J,e]),Ru=w=>{j("global"),u(0),e.select(w),E(!0)},nm=w=>l===w||o.has(w);return i.jsxs("div",{className:"todo-shell",children:[i.jsxs("header",{className:"header",children:[i.jsx("h1",{children:"Todo App"}),i.jsx(by,{activeMode:D,onModeChange:Q}),i.jsx(xy,{activeRange:S,onRangeChange:w=>{j(w),u(0)},onDropToRange:xn,periodOffset:h,onPeriodChange:u}),i.jsxs("div",{className:"header-right",children:[i.jsx(i0,{}),i.jsx(Ey,{showCompleted:f,onToggleCompleted:p,viewMode:D,teamMembers:J,onUpdateTeamMembers:ve,onOpenTimeBlockManager:()=>Me(!0),ghostItemsInline:Ee,onToggleGhostItemsInline:G,todos:t,featureTree:P,onImportData:Us})]})]}),i.jsx(yy,{todos:t}),i.jsxs("main",{className:"main",children:[D==="personal"&&i.jsxs("div",{className:`personal-view-container ${Ee?"ghost-inline":"ghost-sidebar"}`,children:[i.jsxs("section",{ref:ke,className:"list",onDragOver:w=>w.preventDefault(),onDrop:se,children:[ye().length===0&&i.jsx("div",{className:"empty",children:"No todos yet"}),ye().map(w=>i.jsx(Qp,{todo:w,depth:0,isExpanded:r.has(w.id),isSelected:nm(w.id),expandedIds:r,selectedId:l,selectedIds:o,onToggleExpand:B,onToggleComplete:O,onSelect:T=>e.select(T),onDoubleClick:Te,onContextMenu:$t,onDragStart:Z,onDragOver:de,onDrop:ae,onDragEnd:Ce,dragOverId:N,dragOverPosition:I,draggedId:g,onNavigateToMaster:Ru,teamMembers:J},w.id))]}),(S==="day"||S==="week")&&!Ee&&i.jsx("div",{className:"resize-handle",onMouseDown:Ze}),(S==="day"||S==="week")&&i.jsx(Xy,{currentDate:En(new Date,h),onPromoteToTask:tm,style:Ee?void 0:{width:ne}})]}),D==="team"&&i.jsx(_y,{todos:t,selectedId:l,selectedIds:o,showCompleted:f,timeRange:S,teamMembers:J,teams:ce,featureTree:P,selectedTeamId:he,onTeamChange:ie,onSelect:w=>e.select(w),onDoubleClick:Te,onContextMenu:$t,onUpdate:(w,T)=>e.updateItem(w,T),onReorderTeamMembers:Hs,periodBounds:$i(S,h)}),D==="timeline"&&i.jsx(zy,{todos:t,selectedId:l,selectedIds:o,showCompleted:f,timeRange:S,periodOffset:h,teamMembers:J,teams:ce,onSelect:w=>e.select(w),onDoubleClick:Te,onContextMenu:$t,onUpdate:(w,T)=>e.updateItem(w,T)}),D==="bugs"&&i.jsx(Hy,{todos:t,selectedId:l,selectedIds:o,showCompleted:f,onSelect:w=>e.select(w),onDoubleClick:Te,onContextMenu:$t,onUpdate:(w,T)=>e.updateItem(w,T)}),D==="analytics"&&i.jsx(Yy,{todos:t,teamMembers:J,showCompleted:f}),D==="features"&&i.jsx(r0,{featureTree:P,teamMembers:J,onUpdateNode:zn,onAddNode:Xl,onDeleteNode:Ws}),D==="people"&&i.jsx(l0,{people:J}),m&&Mu&&(D==="personal"||D==="timeline"||D==="team")&&i.jsx(vy,{todo:Mu,onUpdate:(w,T)=>{if(typeof w=="string"&&w.includes(":")){const[R,H]=w.split(":"),$=Xe(R,t);if($){const le={...$.instances||{}};le[H]={...le[H]||{},...T},e.updateItem(R,{instances:le})}return}e.updateItem(w,T)},onClose:()=>E(!1),style:{width:ne},teamMembers:J,featureOptions:je,onNavigateToMaster:Ru})]}),F&&i.jsx(Ty,{x:F.x,y:F.y,todo:F.todo,onClose:()=>ee(null),onMoveToDate:kn,getDueDateForRange:yi}),Re&&i.jsx("footer",{className:"footer",children:i.jsxs("div",{className:"quick-entry",children:[i.jsx("input",{ref:X,placeholder:"Quick add... (or press any key)",value:v,onChange:w=>d(w.target.value),onKeyDown:w=>{w.key==="Enter"||w.key==="Enter"&&w.shiftKey||w.key}}),i.jsxs("button",{onClick:()=>x(v),children:[i.jsx(Mn,{size:16})," Add"]})]})}),i.jsx(Zy,{isOpen:Ue,onClose:()=>Me(!1)})]})}function f0(){return i.jsx(ky,{children:i.jsx(jy,{children:i.jsx("div",{className:"app-root",children:i.jsx(d0,{})})})})}Tp(document.getElementById("root")).render(i.jsx(jf.StrictMode,{children:i.jsx(f0,{})}));
//# sourceMappingURL=index-Df11Fdq0.js.map</script>
    <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap";:root{--bg-primary: #0a0e14;--bg-secondary: #14181f;--bg-tertiary: #1c2128;--bg-hover: #242a33;--border-color: #2d333b;--text-primary: #e6edf3;--text-secondary: #8b949e;--text-tertiary: #6e7681;--accent-blue: #4493f8;--accent-green: #3fb950;--accent-orange: #fb8500;--accent-red: #f85149}*{margin:0;padding:0;box-sizing:border-box}body,html,#root{height:100%}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);overflow:hidden}.todo-shell{display:flex;flex-direction:column;height:100vh;background:var(--bg-primary)}.header{display:flex;align-items:center;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);box-shadow:0 1px 3px #0000004d}.header h1{font-size:18px;font-weight:600;white-space:nowrap}.header-right{display:flex;align-items:center;gap:12px;margin-left:auto}.settings-button{background:transparent;border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:8px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .15s}.settings-button:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.mode-selector{position:relative}.mode-selector-button{display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);cursor:pointer;font-size:13px;font-weight:500;transition:all .15s;white-space:nowrap}.mode-selector-button:hover{background:var(--bg-hover);border-color:var(--accent-blue)}.mode-icon{font-size:14px}.mode-label{font-size:13px}.mode-dropdown{position:absolute;top:calc(100% + 4px);left:0;z-index:100;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:160px;overflow:hidden}.mode-option{display:flex;align-items:center;gap:8px;padding:10px 12px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;text-align:left;transition:all .15s}.mode-option:hover{background:var(--bg-hover)}.mode-option.active{background:#4493f826;color:var(--accent-blue)}.mode-option-icon{font-size:16px}.mode-option-label{flex:1;font-weight:500}.stress-meter{padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.stress-header{display:flex;align-items:center;gap:8px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.stress-bar-bg{height:6px;background:var(--bg-tertiary);border-radius:100px;overflow:hidden;box-shadow:inset 0 1px 2px #0000004d}.stress-bar-fill{height:100%;transition:width .3s ease,background .3s ease;border-radius:100px}.stress-message{font-size:12px;color:var(--text-secondary);margin-top:6px}.time-range-tabs{display:flex;gap:8px;flex:1;justify-content:center;overflow-x:auto;align-items:center}.time-range-navigation{display:flex;align-items:center;gap:4px;padding:4px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.nav-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px 8px;font-size:16px;font-weight:600;border-radius:4px;transition:all .15s;line-height:1}.nav-button:hover{background:var(--bg-hover);color:var(--text-primary)}.nav-today{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:4px 10px;font-size:11px;font-weight:500;border-radius:4px;transition:all .15s;white-space:nowrap;min-width:100px;text-align:center}.nav-today:hover:not(:disabled){background:var(--bg-hover);color:var(--accent-blue)}.nav-today:disabled{cursor:default;opacity:.7}.time-tab{display:flex;align-items:center;gap:4px;padding:6px 10px;border-radius:6px;border:1px solid transparent;background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;transition:all .15s;white-space:nowrap}.time-tab:hover{background:var(--bg-hover);color:var(--text-primary)}.time-tab.active{background:var(--bg-tertiary);border-color:var(--accent-blue);color:var(--text-primary)}.time-tab.drag-over{background:#3fb95033;border-color:var(--accent-green);color:var(--text-primary);transform:scale(1.05)}.tab-emoji{font-size:13px}.tab-label{font-size:11px}.footer{padding:12px 24px;background:var(--bg-secondary);border-top:1px solid var(--border-color)}.quick-entry{display:flex;gap:6px;width:100%}.quick-entry input{flex:1;padding:8px 10px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px}.quick-entry input::placeholder{color:var(--text-tertiary)}.quick-entry button{display:flex;align-items:center;gap:4px;padding:8px 12px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px}.quick-entry button:hover{opacity:.9}.main{display:flex;flex:1;overflow:hidden;position:relative}.list{flex:1;overflow-y:auto;padding:12px 16px;background:var(--bg-primary)}.detail-panel{border-left:1px solid var(--border-color);padding:12px;background:var(--bg-primary);overflow-y:auto;position:absolute;right:0;top:0;bottom:0;z-index:10}.detail-header{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;margin-bottom:16px}.detail-header h2{font-size:15px;font-weight:600;word-break:break-word;flex:1}.close-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px}.close-btn:hover{color:var(--text-primary)}.detail-backend{margin-bottom:16px}.backend-badge{display:inline-flex;align-items:center;gap:4px;font-size:12px;padding:4px 8px;border-radius:4px;background:var(--bg-tertiary);color:var(--text-secondary)}.detail-section{margin-bottom:16px}.detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:8px}.detail-input,.detail-textarea{width:100%;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;font-family:inherit}.detail-input::placeholder,.detail-textarea::placeholder{color:var(--text-tertiary)}.detail-textarea{resize:vertical}.detail-input-inline{padding:4px 8px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:12px}.workdays-only-toggle{display:flex;align-items:center;gap:8px;margin-top:8px;font-size:13px;color:var(--text-secondary);cursor:pointer}.workdays-only-toggle input[type=checkbox]{width:16px;height:16px;cursor:pointer}.workdays-only-toggle span{-webkit-user-select:none;user-select:none}.tag-input{display:flex;flex-wrap:wrap;gap:4px;padding:4px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.tag-input input{flex:1;min-width:60px;border:none;background:transparent;color:var(--text-primary);font-size:12px}.tag{display:inline-flex;align-items:center;gap:4px;font-size:11px;padding:3px 6px;border-radius:3px;background:var(--bg-secondary);color:var(--text-secondary)}.tag.editable button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0 2px}.tag.editable button:hover{color:var(--text-primary)}.dependency-tag{background:var(--bg-hover);color:var(--accent-blue);font-family:Monaco,Menlo,monospace;font-weight:600}.attachment-btn,.add-assignee-btn,.comment-input{cursor:pointer}.attachment-btn:disabled,.add-assignee-btn:disabled,.comment-input:disabled{opacity:.5;cursor:not-allowed}.todo-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;background:var(--bg-secondary);cursor:grab;margin-bottom:4px;border:1px solid transparent;transition:all .15s;position:relative}.todo-item:active{cursor:grabbing}.todo-item:hover{background:var(--bg-hover);border-color:var(--border-color)}.todo-item.selected{background:var(--bg-tertiary);border-color:var(--accent-blue);box-shadow:inset 0 0 0 2px var(--accent-blue)}.todo-item.multi-selected{background:#4f81f526;border-color:var(--accent-blue);box-shadow:inset 0 0 0 1px var(--accent-blue)}.todo-item.drop-indicator-middle{background:#3fb95026;border-color:var(--accent-green);box-shadow:inset 0 0 0 2px var(--accent-green)}.todo-item.dragging{background:transparent;border:2px dashed var(--border-color);box-shadow:none}.todo-item.dragging *{visibility:hidden}.todo-item.completed{opacity:.6}.todo-item.completed .todo-title{text-decoration:line-through;color:var(--text-tertiary)}.todo-item.past-due{background:linear-gradient(90deg,rgba(239,68,68,.15) 0%,transparent 40%);border-left:2px solid rgba(239,68,68,.6)}.todo-item.past-due:hover{background:linear-gradient(90deg,rgba(239,68,68,.2) 0%,var(--bg-hover) 40%)}.expand-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;width:20px;height:20px}.expand-btn:hover{color:var(--text-primary)}.expand-spacer{width:20px}.task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);min-width:32px;text-align:right;font-family:Monaco,Menlo,monospace}.checkbox{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.checkbox:hover{color:var(--text-primary)}.backend-icon{font-size:14px}.todo-title{flex:1;font-size:13px;word-break:break-word}.dependency-indicator{display:flex;align-items:center;gap:3px;font-size:10px;color:var(--accent-blue);background:#4493f826;padding:2px 6px;border-radius:3px;white-space:nowrap;cursor:help}.tags{display:flex;gap:4px;flex-wrap:wrap}.due-date{display:flex;align-items:center;gap:3px;font-size:11px;color:var(--text-secondary);white-space:nowrap}.children{margin-top:2px}.empty{color:var(--text-secondary);text-align:center;padding:32px 16px;font-size:13px}.context-menu{position:fixed;z-index:1000;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:200px}.context-menu-header{padding:8px 12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.context-menu-items{padding:4px}.context-menu-item{display:flex;align-items:center;gap:8px;padding:8px 10px;width:100%;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:13px;border-radius:4px;transition:all .15s;text-align:left}.context-menu-item:hover{background:var(--bg-hover)}.context-menu-item.active{background:#4493f826}.context-menu-icon{font-size:14px}.context-menu-label{flex:1}.context-menu-check{color:var(--accent-blue);display:flex;align-items:center}.context-menu-divider{height:1px;background:var(--border-color);margin:4px 0}.context-menu-submenu-trigger{position:relative}.context-menu-arrow{color:var(--text-tertiary);font-size:14px;margin-left:auto}.context-submenu{position:absolute;left:100%;top:0;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #00000080;min-width:160px;padding:4px;z-index:1001}.settings-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;z-index:1000}.settings-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;max-height:80vh;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 8px 24px #00000080;z-index:1001;display:flex;flex-direction:column}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-color)}.settings-header h2{font-size:18px;font-weight:600}.settings-content{flex:1;overflow-y:auto;padding:20px}.settings-section{margin-bottom:24px}.settings-section:last-child{margin-bottom:0}.settings-section h3{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-primary)}.settings-description{font-size:12px;color:var(--text-secondary);margin-bottom:12px}.backend-list{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.backend-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color)}.backend-info{display:flex;align-items:center;gap:10px}.backend-item-icon{font-size:18px}.backend-item-name{font-size:13px;font-weight:500}.toggle-switch{position:relative;display:inline-block;width:44px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-primary);border:1px solid var(--border-color);transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:16px;width:16px;left:3px;bottom:3px;background-color:var(--text-secondary);transition:.3s;border-radius:50%}.toggle-switch input:checked+.toggle-slider{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch input:checked+.toggle-slider:before{transform:translate(20px);background-color:#fff}.add-service-btn{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:6px;border:1px dashed var(--border-color);background:transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;width:100%;justify-content:center;transition:all .15s}.add-service-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.add-service-btn:disabled{opacity:.5;cursor:not-allowed}.data-management-buttons{display:flex;gap:8px;flex-wrap:wrap}.data-management-buttons .add-service-btn{flex:1;min-width:120px;justify-content:center}.preference-item{padding:8px 0}.preference-item label{display:flex;align-items:center;gap:8px;font-size:13px;cursor:pointer}.preference-item input[type=checkbox]{width:16px;height:16px;cursor:pointer}.settings-footer{padding:16px 20px;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end}.settings-close-btn{padding:8px 16px;border-radius:6px;border:none;background:var(--accent-blue);color:#fff;cursor:pointer;font-weight:500;font-size:13px;transition:opacity .15s}.settings-close-btn:hover{opacity:.9}.reorder-btn{background:var(--bg-primary);border:1px solid var(--border-color);color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;font-size:12px;transition:all .15s}.reorder-btn:hover:not(:disabled){background:var(--bg-hover);color:var(--text-primary);border-color:var(--accent-blue)}.reorder-btn:disabled{opacity:.3;cursor:not-allowed}.team-view-sprint{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.team-selector-bar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.team-selector-label{font-size:13px;font-weight:500;color:var(--text-secondary)}.team-selector-dropdown{padding:6px 12px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:13px;cursor:pointer;min-width:200px}.team-selector-dropdown:hover{border-color:var(--accent-blue)}.team-selector-dropdown:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.team-columns-container{display:flex;gap:16px;padding:16px;overflow-x:auto;flex:1}.team-member-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;cursor:grab;transition:all .15s}.team-member-column:active{cursor:grabbing}.team-member-column.drag-over{border-color:var(--accent-blue);transform:scale(1.02);box-shadow:0 4px 12px #4f81f54d}.team-member-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-radius:8px 8px 0 0}.team-member-info{display:flex;align-items:center;gap:12px;margin-bottom:8px}.team-member-avatar{font-size:28px}.team-member-details{flex:1}.team-member-name{font-size:14px;font-weight:600;color:var(--text-primary)}.team-capacity{font-size:11px;color:var(--text-secondary);font-weight:500;margin-top:2px}.team-capacity.over-capacity{color:#f59e0b;font-weight:600}.capacity-bar{height:6px;background:var(--bg-primary);border-radius:3px;overflow:hidden}.capacity-fill{height:100%;background:var(--accent-blue);transition:width .3s;border-radius:3px}.capacity-fill.over-capacity{background:#f59e0b}.team-tasks-container{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.team-empty-state{padding:24px;text-align:center;color:var(--text-secondary);font-size:12px}.task-drop-indicator{height:3px;background:var(--accent-green);margin:4px 0;border-radius:2px;box-shadow:0 0 6px var(--accent-green)}.team-task-box{position:relative;background:var(--bg-tertiary);border:2px solid var(--border-color);border-radius:6px;overflow:hidden;cursor:pointer;transition:all .15s;min-height:80px}.team-task-box:hover{border-color:var(--accent-blue);transform:translate(2px);box-shadow:0 2px 8px #0000004d}.team-task-box.selected{border-color:var(--accent-blue);box-shadow:0 0 0 2px #4f81f54d}.team-task-box.completed{opacity:.6}.team-task-box.completed .task-title-text{text-decoration:line-through}.team-task-box.blocked{border-color:#f59e0b;background:#f59e0b0d}.task-progress-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,#3fb95033,#3fb9500d);border-top:2px solid rgba(63,185,80,.4);pointer-events:none;transition:height .3s}.task-content{position:relative;z-index:1;padding:8px 10px;display:flex;flex-direction:column;gap:6px;height:100%}.task-header-row{display:flex;align-items:center;justify-content:space-between}.task-id{font-size:9px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.task-blocked-icon{font-size:14px}.task-title-text{flex:1;font-size:12px;font-weight:500;color:var(--text-primary);line-height:1.3;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.task-footer-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.task-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-hover);padding:2px 6px;border-radius:3px;font-weight:600}.task-estimate.clickable{cursor:pointer;transition:all .15s}.task-estimate.clickable:hover{background:var(--accent-blue);color:#fff}.task-estimate-input{width:60px;font-size:10px;padding:2px 6px;background:var(--bg-primary);border:1px solid var(--accent-blue);border-radius:3px;color:var(--text-primary);font-weight:600}.task-estimate-input:focus{outline:none;border-color:var(--accent-blue);box-shadow:0 0 0 2px #4493f833}.task-days-remaining{font-size:10px;color:var(--accent-blue);font-weight:500}.task-days-remaining.overdue{color:#dc2626;font-weight:600}.condensed-team-view{flex:1;overflow-y:auto;padding:8px 0}.condensed-section{margin-bottom:4px}.condensed-section-content,.condensed-person-tasks,.condensed-feature-tasks{margin-left:0}.condensed-group-header{display:flex;align-items:center;gap:8px;padding:8px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-group-header:hover{background:var(--bg-hover)}.condensed-expand-icon{display:flex;align-items:center;color:var(--text-secondary)}.condensed-group-icon{font-size:14px}.condensed-group-label{flex:1;font-size:13px;font-weight:500;color:var(--text-primary)}.condensed-group-stats{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 8px;border-radius:10px}.condensed-task-row{display:flex;align-items:center;gap:8px;padding:6px 12px;cursor:pointer;border-radius:4px;transition:background .15s}.condensed-task-row:hover{background:var(--bg-hover)}.condensed-task-row.selected{background:#4493f826}.condensed-task-row.completed .condensed-task-title{text-decoration:line-through;color:var(--text-secondary)}.condensed-task-row .checkbox{flex-shrink:0}.condensed-task-title{flex:1;font-size:13px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.condensed-task-meta{display:flex;align-items:center;gap:8px}.condensed-task-estimate{font-size:11px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:4px}.condensed-task-assignee{font-size:14px}.condensed-task-row[draggable=true]{cursor:grab}.condensed-task-row[draggable=true]:active{cursor:grabbing}.condensed-group-header.drag-over{background:#4493f826;outline:1px dashed rgba(68,147,248,.5);outline-offset:-1px;border-radius:4px}.condensed-add-folder-btn{display:flex;align-items:center;justify-content:center;background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:2px;border-radius:4px;opacity:0;transition:opacity .15s,color .15s}.condensed-group-header:hover .condensed-add-folder-btn{opacity:1}.condensed-add-folder-btn:hover{color:var(--text-primary);background:var(--bg-tertiary)}.condensed-add-folder-row{display:flex;align-items:center;gap:8px;padding:6px 12px}.condensed-folder-input{flex:1;font-size:13px;padding:4px 8px;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-primary);color:var(--text-primary);outline:none}.condensed-folder-input:focus{border-color:var(--accent-color, #4493f8)}.condensed-empty{padding:12px;font-size:12px;color:var(--text-secondary);font-style:italic}.timeline-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary)}.timeline-header{display:flex;background:var(--bg-tertiary);border-bottom:2px solid var(--border-color);position:sticky;top:0;z-index:10}.timeline-task-column{width:250px;min-width:250px;padding:12px 16px;font-weight:600;font-size:12px;text-transform:uppercase;color:var(--text-secondary);border-right:1px solid var(--border-color)}.timeline-grid-header{flex:1;display:flex;overflow-x:auto}.timeline-date-cell{flex:1;min-width:80px;padding:8px;text-align:center;border-right:1px solid var(--border-color)}.timeline-date-day{font-size:10px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.timeline-date-num{font-size:14px;font-weight:600;color:var(--text-primary);margin-top:2px}.timeline-content{flex:1;overflow-y:auto;position:relative}.timeline-row{display:flex;height:42px;border-bottom:1px solid var(--border-color)}.timeline-task-name{width:250px;min-width:250px;padding:8px 16px;display:flex;align-items:center;gap:8px;background:var(--bg-secondary);border-right:1px solid var(--border-color);cursor:pointer;transition:all .15s;overflow:hidden}.timeline-task-name:hover{background:var(--bg-hover)}.timeline-task-name.selected{background:var(--bg-tertiary);border-right-color:var(--accent-blue)}.timeline-task-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.timeline-task-title{flex:1;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-estimate{font-size:10px;color:var(--text-secondary);background:var(--bg-tertiary);padding:2px 6px;border-radius:3px}.timeline-grid{flex:1;display:flex;position:relative}.timeline-grid-cell{flex:1;min-width:80px;border-right:1px solid rgba(255,255,255,.05)}.timeline-bar{position:absolute;top:6px;height:30px;background:var(--accent-blue);border-radius:4px;cursor:pointer;display:flex;align-items:center;padding:0 8px;transition:all .15s;box-shadow:0 2px 4px #0000004d}.timeline-bar:hover{opacity:.9;transform:translateY(-1px);box-shadow:0 3px 6px #0006}.timeline-bar.selected{outline:2px solid var(--accent-blue);outline-offset:2px}.timeline-bar.completed{background:var(--accent-green);opacity:.7}.timeline-bar-label{font-size:11px;font-weight:500;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.timeline-dependencies{z-index:1}.timeline-empty{padding:40px;text-align:center;color:var(--text-secondary);font-size:13px}.bug-view{display:flex;flex-direction:column;height:100%;overflow:hidden}.bug-filters{display:flex;gap:16px;padding:16px 24px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);align-items:center}.filter-group{display:flex;align-items:center;gap:8px}.filter-group label{font-size:12px;font-weight:500;color:var(--text-secondary);white-space:nowrap}.filter-group select{background:var(--bg-tertiary);border:1px solid var(--border-color);color:var(--text-primary);padding:6px 10px;border-radius:4px;font-size:12px;cursor:pointer}.bug-stats{margin-left:auto;font-size:12px;color:var(--text-secondary);font-weight:500}.bug-columns{display:flex;gap:12px;padding:16px;overflow-x:auto;flex:1}.bug-column{min-width:280px;max-width:320px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;max-height:100%}.bug-column-header{padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);border-top:3px solid transparent;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center}.bug-column-header h3{font-size:13px;font-weight:600;color:var(--text-primary)}.bug-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600}.bug-column-content{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column;gap:8px}.bug-empty{padding:20px;text-align:center;color:var(--text-secondary);font-size:12px}.bug-card{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;padding:12px;cursor:pointer;transition:all .15s;display:flex;flex-direction:column;gap:8px}.bug-card:hover{border-color:var(--accent-blue);transform:translateY(-1px);box-shadow:0 2px 8px #0000004d}.bug-card.selected{border-color:var(--accent-blue);background:#4f81f51a}.bug-card.completed{opacity:.6}.bug-card-header{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.bug-number{font-size:10px;font-weight:600;color:var(--text-tertiary);font-family:Monaco,Menlo,monospace}.bug-priority{font-size:9px;font-weight:700;color:#fff;padding:2px 6px;border-radius:3px;text-transform:uppercase;letter-spacing:.5px}.bug-severity{font-size:9px;font-weight:600;padding:2px 6px;border-radius:3px;border:1px solid;text-transform:uppercase;letter-spacing:.5px;background:transparent}.bug-title{font-size:13px;font-weight:500;color:var(--text-primary);line-height:1.4}.bug-feature{font-size:11px;color:var(--text-secondary);background:var(--bg-hover);padding:3px 8px;border-radius:3px;display:inline-block;width:fit-content}.bug-card-footer{display:flex;justify-content:space-between;align-items:center;margin-top:4px}.bug-assignee{font-size:11px;color:var(--accent-blue);background:#4f81f526;padding:3px 8px;border-radius:3px;font-weight:500}.bug-auto-route{font-size:10px;color:var(--text-secondary);background:transparent;border:1px dashed var(--border-color);padding:3px 8px;border-radius:3px;cursor:pointer;transition:all .15s}.bug-auto-route:hover:not(:disabled){color:var(--accent-blue);border-color:var(--accent-blue);background:#4f81f51a}.bug-auto-route:disabled{opacity:.4;cursor:not-allowed}.bug-due{font-size:10px;color:var(--text-secondary);display:flex;align-items:center;gap:4px}@media (max-width: 900px){.detail-panel{left:0;width:100%!important;border-left:none;z-index:20}}.personal-view-container{display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden}.personal-view-container.ghost-sidebar{flex-direction:row}.personal-view-container.ghost-sidebar .list{flex:1;overflow-y:auto}.personal-view-container.ghost-inline{overflow-y:auto}.personal-view-container.ghost-inline .list{flex:0 0 auto}.ghost-entries{padding:0 16px 16px;display:flex;flex-direction:column;gap:16px}.personal-view-container.ghost-sidebar .ghost-entries{flex-shrink:0;overflow-y:auto;padding:16px 8px 16px 16px;height:100%;box-sizing:border-box}.personal-view-container.ghost-inline .ghost-entries{flex:0 0 auto}@media (max-width: 768px){.personal-view-container.ghost-sidebar{flex-direction:column;overflow-y:auto}.personal-view-container.ghost-sidebar .list{flex:0 0 auto}.personal-view-container.ghost-sidebar .ghost-entries{flex-shrink:1;height:auto;width:100%!important;overflow-y:visible}.resize-handle,.task-number,.backend-icon,.dependency-indicator,.master-instance-count,.tags{display:none}.todo-item{gap:6px;padding:8px}}.resize-handle{width:5px;flex-shrink:0;cursor:col-resize;background:var(--border-color);transition:background .15s}.resize-handle:hover,.resize-handle:active{background:var(--accent-blue)}body.resizing{-webkit-user-select:none;user-select:none;cursor:col-resize}.ghost-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;flex-shrink:0}.ghost-section-header{display:flex;align-items:center;gap:10px;padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.ghost-section-header.clickable{cursor:pointer;transition:background .15s}.ghost-section-header.clickable:hover{background:var(--bg-hover)}.ghost-section-icon{font-size:16px}.ghost-section-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1}.ghost-count{background:var(--bg-primary);color:var(--text-secondary);padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}.expand-icon{color:var(--text-secondary);font-size:10px;margin-left:4px}.time-blocks-list{padding:8px;display:flex;flex-direction:column;gap:6px}.time-block-item{display:flex;align-items:center;gap:12px;padding:10px 12px;background:var(--bg-primary);border-left:3px solid var(--accent-blue);border-radius:6px;transition:all .15s}.time-block-item.active{background:#4493f81a;border-left-width:4px}.time-block-time{font-size:11px;color:var(--text-secondary);font-weight:600;white-space:nowrap;min-width:120px}.time-block-title{font-size:13px;color:var(--text-primary);flex:1}.time-block-badge{background:var(--accent-blue);color:#fff;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600;text-transform:uppercase}.ghost-items-list{padding:8px;display:flex;flex-direction:column;gap:6px}.ghost-item{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;padding:12px;transition:all .15s;border-left:3px solid var(--text-tertiary)}.ghost-item:hover{border-color:var(--accent-blue);background:var(--bg-hover)}.ghost-item.priority-high{border-left-color:#f85149}.ghost-item.priority-medium{border-left-color:#fb8500}.ghost-item.priority-low{border-left-color:var(--text-tertiary)}.ghost-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px;gap:12px}.ghost-item-title{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;display:flex;align-items:center;gap:6px}.unread-badge{color:var(--accent-blue);font-size:20px;line-height:1}.ghost-item-time{font-size:11px;color:var(--text-secondary);white-space:nowrap}.ghost-item-from{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-preview{font-size:12px;color:var(--text-secondary);margin-bottom:8px;line-height:1.4}.ghost-item-meta{font-size:11px;color:var(--text-secondary);margin-bottom:4px}.ghost-item-action{font-size:11px;color:var(--accent-orange);font-weight:600;margin-bottom:8px}.ghost-item-actions{display:flex;gap:6px;margin-top:10px;padding-top:10px;border-top:1px solid var(--border-color)}.ghost-action-btn{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:500;cursor:pointer;transition:all .15s;border:1px solid var(--border-color);background:transparent;color:var(--text-secondary);text-decoration:none;display:inline-block}.ghost-action-btn:hover{color:var(--text-primary);border-color:var(--accent-blue);background:#4493f81a}.ghost-action-promote{color:var(--accent-green);border-color:var(--accent-green)}.ghost-action-promote:hover{background:#3fb9501a;border-color:var(--accent-green);color:var(--accent-green)}.ghost-action-dismiss{color:var(--text-tertiary)}.ghost-action-dismiss:hover{color:var(--accent-green);background:#3fb9500d}.ghost-action-open{color:var(--accent-blue)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.time-block-manager{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:600px;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #00000080}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border-color)}.modal-header h2{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.modal-content{padding:20px 24px;overflow-y:auto;flex:1}.modal-description{font-size:13px;color:var(--text-secondary);margin-bottom:20px;line-height:1.5}.time-block-list{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.empty-state{text-align:center;padding:40px 20px;color:var(--text-secondary);font-size:13px}.time-block-card{display:flex;align-items:stretch;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;transition:all .15s}.time-block-card:hover{border-color:var(--accent-blue)}.time-block-color-bar{width:4px;flex-shrink:0}.time-block-info{flex:1;padding:12px 16px}.time-block-title-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.time-block-title-row h4{font-size:14px;font-weight:600;color:var(--text-primary);margin:0}.toggle-switch-small{position:relative;display:inline-block;width:36px;height:20px}.toggle-switch-small input{opacity:0;width:0;height:0}.toggle-slider-small{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--bg-tertiary);transition:.2s;border-radius:20px;border:1px solid var(--border-color)}.toggle-slider-small:before{position:absolute;content:"";height:14px;width:14px;left:2px;bottom:2px;background-color:var(--text-secondary);transition:.2s;border-radius:50%}.toggle-switch-small input:checked+.toggle-slider-small{background-color:var(--accent-blue);border-color:var(--accent-blue)}.toggle-switch-small input:checked+.toggle-slider-small:before{transform:translate(16px);background-color:#fff}.time-block-time-display{font-size:12px;color:var(--text-secondary);font-weight:600;margin-bottom:4px}.time-block-recurrence{font-size:11px;color:var(--text-tertiary)}.time-block-days{color:var(--text-secondary)}.time-block-actions{display:flex;align-items:center;gap:8px;padding:12px 16px;border-left:1px solid var(--border-color)}.icon-btn{background:transparent;border:none;cursor:pointer;padding:4px 8px;font-size:14px;border-radius:4px;transition:all .15s}.icon-btn:hover{background:var(--bg-hover)}.create-block-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:var(--accent-blue);color:#fff;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s}.create-block-btn:hover{background:#4fa3ff}.time-block-editor{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;padding:20px}.time-block-editor h3{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:20px}.form-group{margin-bottom:16px}.form-group label{display:block;font-size:12px;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.form-group input[type=text],.form-group input[type=time],.form-group select{width:100%;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:13px;transition:all .15s}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent-blue);background:var(--bg-tertiary)}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.weekday-picker{display:flex;gap:6px}.weekday-btn{flex:1;padding:8px 4px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}.weekday-btn:hover{border-color:var(--accent-blue);color:var(--text-primary)}.weekday-btn.selected{background:var(--accent-blue);border-color:var(--accent-blue);color:#fff}.color-picker{display:flex;gap:8px}.color-btn{width:32px;height:32px;border-radius:6px;border:2px solid transparent;cursor:pointer;transition:all .15s}.color-btn:hover{transform:scale(1.1)}.color-btn.selected{border-color:#fff;box-shadow:0 0 0 2px var(--bg-primary),0 0 0 4px var(--accent-blue)}.form-actions{display:flex;gap:10px;margin-top:20px;padding-top:20px;border-top:1px solid var(--border-color)}.btn-secondary,.btn-primary{flex:1;padding:10px 20px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;border:none}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover{background:var(--bg-hover)}.btn-primary{background:var(--accent-blue);color:#fff}.btn-primary:hover{background:#4fa3ff}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.analytics-view{flex:1;overflow-y:auto;padding:24px}.analytics-tab-bar{display:flex;gap:4px;margin-bottom:24px;background:var(--bg-secondary);border-radius:8px;padding:4px;width:fit-content}.analytics-tab{padding:8px 20px;border:none;background:transparent;color:var(--text-secondary);font-size:13px;font-weight:600;border-radius:6px;cursor:pointer;transition:all .15s}.analytics-tab:hover{color:var(--text-primary);background:var(--bg-hover)}.analytics-tab.active{background:var(--accent-blue);color:#fff}.analytics-content{display:flex;flex-direction:column;gap:24px}.analytics-cards{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.analytics-stat-card{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px;text-align:center}.analytics-stat-value{font-size:28px;font-weight:700;color:var(--text-primary);line-height:1.2}.analytics-stat-label{font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;margin-top:4px}.analytics-stat-subtext{font-size:11px;color:var(--text-tertiary);margin-top:2px}.analytics-section{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:16px}.analytics-section-title{font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:16px}.analytics-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}.analytics-line-chart{width:100%;height:auto}.analytics-hbar-chart{display:flex;flex-direction:column;gap:10px}.analytics-hbar-row{display:flex;align-items:center;gap:12px}.analytics-hbar-label{font-size:12px;color:var(--text-secondary);min-width:100px;text-align:right;white-space:nowrap}.analytics-hbar-track{flex:1;height:20px;background:var(--bg-primary);border-radius:4px;overflow:hidden}.analytics-hbar-track.stacked{display:flex}.analytics-hbar-fill{height:100%;border-radius:4px;transition:width .3s ease}.analytics-hbar-value{font-size:12px;font-weight:600;color:var(--text-primary);min-width:32px}@media (max-width: 700px){.analytics-cards{grid-template-columns:repeat(2,1fr)}.analytics-grid{grid-template-columns:1fr}}.type-pill{font-size:10px;font-weight:600;padding:2px 6px;border-radius:4px;white-space:nowrap;text-transform:capitalize;flex-shrink:0}.type-pill.type-bug,.type-pill.type-issue{background:#f8514926;color:#f85149}.type-pill.type-feature{background:#3fb95026;color:#3fb950}.type-pill.type-assignment{background:#a371f726;color:#a371f7}.type-pill.type-chore{background:#3ddbd926;color:#3ddbd9}.assignee-count,.recurrence-badge{font-size:11px;color:var(--text-secondary);white-space:nowrap;flex-shrink:0}.assignee-checklist{display:flex;flex-direction:column;gap:6px;padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-tertiary)}.assignee-check-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;padding:4px;border-radius:4px;transition:background .1s}.assignee-check-row:hover{background:var(--bg-hover)}.assignee-check-row input[type=checkbox]{accent-color:var(--accent-blue)}.assignee-check-avatar{font-size:14px}.assignee-check-name{flex:1}.bug-completeness{display:flex;align-items:center;gap:10px;padding:10px 0;margin:4px 0 8px}.bug-completeness-bar{flex:1;height:4px;border-radius:2px;background:var(--bg-tertiary);overflow:hidden}.bug-completeness-fill{height:100%;border-radius:2px;background:var(--accent-green, #3fb950);transition:width .3s ease}.bug-completeness-label{font-size:11px;color:var(--text-muted);white-space:nowrap}.bug-field-header{display:flex;align-items:center;gap:6px}.bug-field-header.filled{color:var(--accent-green, #3fb950)}.bug-field-header.empty{color:var(--text-muted)}.bug-field-textarea{font-family:inherit;font-size:12px;line-height:1.5}.bug-attachment-zone{border:2px dashed var(--border-color);border-radius:8px;padding:20px;text-align:center;cursor:default;transition:border-color .15s,background .15s}.bug-attachment-zone:hover{border-color:var(--text-muted);background:var(--bg-tertiary)}.bug-attachment-placeholder{display:flex;flex-direction:column;align-items:center;gap:4px}.bug-attachment-icon{font-size:24px;opacity:.6}.bug-attachment-text{font-size:12px;color:var(--text-secondary)}.bug-attachment-hint{font-size:10px;color:var(--text-muted);font-style:italic}.bug-debug-textarea{font-family:SF Mono,Fira Code,Cascadia Code,monospace;font-size:11px;line-height:1.5;background:var(--bg-tertiary)}.todo-item.instance{border-left:3px solid var(--text-muted);background:var(--bg-tertiary);padding-left:9px}.todo-item.instance-chore{border-left-color:#3ddbd9}.todo-item.instance-assignment{border-left-color:#a371f7}.todo-item.master{border-left:3px solid transparent}.instance-context{font-size:11px;color:var(--text-muted);margin-left:6px;white-space:nowrap}.master-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--text-muted);font-size:12px;cursor:pointer;padding:1px 5px;margin-left:4px;transition:color .15s,border-color .15s;line-height:1}.master-link:hover{color:var(--accent-blue);border-color:var(--accent-blue)}.master-instance-count{font-size:10px;color:var(--text-muted);margin-left:8px;white-space:nowrap}.instance-banner{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:8px 12px;margin:0 0 8px;border-radius:6px;background:#4493f81a;border:1px solid rgba(68,147,248,.2)}.instance-banner-label{font-size:12px;color:var(--text-secondary)}.instance-banner-link{background:none;border:1px solid var(--border-color);border-radius:4px;color:var(--accent-blue);font-size:11px;cursor:pointer;padding:3px 8px;white-space:nowrap;transition:background .15s}.instance-banner-link:hover{background:var(--bg-hover)}.instance-list{display:flex;flex-direction:column;gap:2px;max-height:200px;overflow-y:auto;border:1px solid var(--border-color);border-radius:6px;padding:4px;background:var(--bg-tertiary)}.instance-list-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:12px;color:var(--text-primary)}.instance-list-row:hover{background:var(--bg-hover)}.instance-list-row.completed{color:var(--text-muted)}.instance-list-row.completed .instance-list-name{text-decoration:line-through}.instance-list-status{font-size:14px;width:18px;text-align:center;flex-shrink:0}.instance-list-row.completed .instance-list-status{color:var(--accent-green, #3fb950)}.instance-list-avatar{font-size:14px;flex-shrink:0}.instance-list-name{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-notes{font-size:10px;color:var(--text-muted);font-style:italic;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instance-list-empty{padding:12px;text-align:center;font-size:11px;color:var(--text-muted);font-style:italic}.tl-view{display:flex;flex-direction:column;flex:1;height:100%;width:100%;overflow:hidden;background:var(--bg-primary)}.tl-header-bar{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);gap:16px}.tl-zoom-presets{display:flex;gap:4px}.tl-zoom-btn{padding:4px 8px;font-size:11px;font-weight:500;color:var(--text-secondary);background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:pointer;transition:all .15s}.tl-zoom-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.tl-zoom-btn.active{background:var(--accent-color);color:#fff;border-color:var(--accent-color)}.tl-period-label{font-size:13px;font-weight:600;color:var(--text-primary);flex:1;text-align:center}.tl-zoom-indicator{font-size:11px;color:var(--text-tertiary);min-width:80px;text-align:right}.tl-actions-menu{position:relative}.tl-actions-btn{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-secondary);cursor:pointer;transition:all .1s}.tl-actions-btn:hover,.tl-actions-btn.active{background:var(--bg-hover);color:var(--text-primary)}.tl-actions-dropdown{position:absolute;top:calc(100% + 4px);right:0;width:240px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 16px #0006;z-index:20;padding:4px;display:flex;flex-direction:column;gap:2px}.tl-actions-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border:none;background:none;border-radius:4px;cursor:pointer;text-align:left;color:var(--text-primary);transition:background .1s}.tl-actions-item:hover{background:var(--bg-hover)}.tl-actions-icon{font-size:16px;width:20px;text-align:center;color:var(--text-secondary);flex-shrink:0}.tl-actions-text{display:flex;flex-direction:column;gap:1px}.tl-actions-label{font-size:12px;font-weight:600}.tl-actions-desc{font-size:10px;color:var(--text-tertiary)}.tl-body{display:flex;flex:1;overflow:hidden}.tl-sidebar{flex-shrink:0;border-right:1px solid var(--border-color);background:var(--bg-secondary);overflow-y:auto}.tl-sidebar-header{display:flex;align-items:center;padding:0 16px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);background:var(--bg-tertiary)}.tl-sidebar-team{display:flex;align-items:center;gap:6px;padding:0 16px;font-size:13px;font-weight:600;color:var(--text-primary);background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);cursor:pointer;transition:background .1s}.tl-sidebar-team:hover{background:var(--bg-hover)}.tl-sidebar-member{display:flex;align-items:center;gap:8px;padding:0 16px 0 32px;font-size:12px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.tl-member-avatar{font-size:16px;flex-shrink:0}.tl-member-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tl-viewport{flex:1;overflow:hidden;position:relative;cursor:grab;-webkit-user-select:none;user-select:none}.tl-viewport.panning{cursor:grabbing}.tl-col-headers{position:relative;z-index:5;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-col-header{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-shrink:0;position:absolute;top:0;bottom:0;border-right:1px solid rgba(45,51,59,.5);-webkit-user-select:none;user-select:none}.tl-col-header.weekend{background:#0000002e}.tl-col-day{font-size:9px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-num{font-size:12px;font-weight:600;color:var(--text-secondary);line-height:1;margin-top:2px}.tl-col-label{font-size:10px;font-weight:600;color:var(--text-secondary);white-space:nowrap}.tl-col-header.off-hours{background:#0000001a}.tl-col-day-label{font-size:8px;font-weight:600;text-transform:uppercase;color:var(--text-tertiary);line-height:1}.tl-col-hour{font-size:9px;color:var(--text-tertiary);line-height:1}.tl-col-hour.work-hour{color:var(--text-secondary);font-weight:500}.tl-rows{position:relative}.tl-grid-col{position:absolute;top:0;border-right:1px solid rgba(45,51,59,.35);pointer-events:none}.tl-grid-col.weekend{background:#0000001f;border-right-color:#2d333b80}.tl-grid-col.off-hours{background:#0000000d}.tl-time-block{position:absolute;top:0;pointer-events:none;z-index:1}.tl-time-block-meeting{background:repeating-linear-gradient(45deg,#58a6ff26,#58a6ff26 4px,#58a6ff14 4px,#58a6ff14 8px);border-left:2px solid rgba(88,166,255,.6);border-right:2px solid rgba(88,166,255,.6)}.tl-time-block-blocked{background:repeating-linear-gradient(45deg,#f851491f,#f851491f 4px,#f851490f 4px,#f851490f 8px);border-left:2px solid rgba(248,81,73,.5);border-right:2px solid rgba(248,81,73,.5)}.tl-time-block-focus{background:repeating-linear-gradient(45deg,#3fb9501f,#3fb9501f 4px,#3fb9500f 4px,#3fb9500f 8px);border-left:2px solid rgba(63,185,80,.5);border-right:2px solid rgba(63,185,80,.5)}.tl-time-block-label{position:sticky;left:8px;top:4px;display:block;font-size:10px;font-weight:500;color:var(--text-secondary);padding:2px 4px;background:var(--bg-secondary);border-radius:2px;opacity:.8}.tl-row{position:absolute;left:0;right:0;border-bottom:1px solid rgba(45,51,59,.35)}.tl-row.drag-target{background:#3fb95026;border-bottom:2px solid var(--accent-green)}.tl-team-row{background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.tl-today-line{position:absolute;top:0;width:2px;background:var(--accent-red);z-index:3;pointer-events:none}.tl-today-label{position:absolute;top:-18px;left:50%;transform:translate(-50%);font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--accent-red);white-space:nowrap;background:var(--bg-tertiary);padding:1px 4px;border-radius:2px}.tl-dep-svg{position:absolute;top:0;left:0;pointer-events:none;z-index:2}.tl-bar{position:absolute;top:10px;height:60px;border-radius:4px;background:var(--accent-blue);display:flex;align-items:flex-start;gap:4px;padding:6px 8px;cursor:grab;transition:box-shadow .1s,opacity .1s;box-shadow:0 1px 3px #0000004d;z-index:1;overflow:hidden;min-width:8px;flex-wrap:wrap}.tl-bar:hover{box-shadow:0 2px 6px #00000080;z-index:4}.tl-bar:active{cursor:grabbing}.tl-bar.selected{outline:2px solid #fff;outline-offset:1px;z-index:4}.tl-bar.completed{background:var(--accent-green);opacity:.6}.tl-bar.dragging{opacity:.85;box-shadow:0 4px 12px #00000080;z-index:10}.tl-bar.clipped-left{border-top-left-radius:0;border-bottom-left-radius:0;border-left:2px solid rgba(255,255,255,.3)}.tl-bar.clipped-right{border-top-right-radius:0;border-bottom-right-radius:0;border-right:2px solid rgba(255,255,255,.3)}.tl-bar.buffer{background:var(--accent-orange);opacity:.7;border-style:dashed;border-width:1px;border-color:#ffffff4d}.tl-bar.buffer:hover{opacity:.85}.tl-bar-label{font-size:11px;font-weight:500;color:#fff;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0;text-shadow:0 1px 2px rgba(0,0,0,.3);display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;line-height:1.3}.tl-bar-est{font-size:9px;font-weight:700;color:#ffffffbf;white-space:nowrap;flex-shrink:0;background:#0003;padding:1px 4px;border-radius:3px}.tl-bar-handle{position:absolute;top:0;bottom:0;width:6px;cursor:col-resize;z-index:2;opacity:0;transition:opacity .1s}.tl-bar:hover .tl-bar-handle{opacity:1}.tl-bar-handle:after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:2px;height:14px;border-radius:1px;background:#fff9}.tl-bar-handle-left{left:0}.tl-bar-handle-left:after{left:2px}.tl-bar-handle-right{right:0}.tl-bar-handle-right:after{right:2px}.tl-viewport.shelf-dropping{outline:2px dashed var(--accent-blue);outline-offset:-2px}.tl-shelf-drop-indicator{position:absolute;top:0;width:2px;background:var(--accent-blue);z-index:10;pointer-events:none;box-shadow:0 0 6px var(--accent-blue)}.tl-shelf{border-top:1px solid var(--border-color);background:var(--bg-secondary);flex-shrink:0;max-height:200px;overflow-y:auto}.tl-shelf-header{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;padding:8px 12px 4px}.tl-shelf-items{display:flex;flex-wrap:wrap;gap:6px;padding:4px 12px 10px}.tl-shelf-item{display:flex;align-items:center;gap:6px;padding:6px 10px;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;cursor:grab;transition:all .1s;max-width:220px}.tl-shelf-item:hover{border-color:var(--accent-blue);background:var(--bg-hover)}.tl-shelf-item.selected{border-color:var(--accent-blue);box-shadow:0 0 0 1px var(--accent-blue)}.tl-shelf-item.completed{opacity:.5}.tl-shelf-item.completed .tl-shelf-item-title{text-decoration:line-through}.tl-shelf-item-title{font-size:11px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.tl-shelf-item-est{font-size:9px;font-weight:700;color:var(--text-tertiary);white-space:nowrap;flex-shrink:0;background:var(--bg-hover);padding:1px 4px;border-radius:3px}.ft-view{display:flex;height:100%;overflow:hidden;background:var(--bg-primary)}.ft-tree-panel{width:320px;flex-shrink:0;border-right:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden}.ft-tree-toolbar{padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary);display:flex;gap:8px}.ft-tree-list{flex:1;overflow-y:auto;padding:8px 0}.ft-node{display:flex;align-items:center;gap:6px;padding:6px 12px;cursor:pointer;font-size:13px;color:var(--text-primary);transition:background .1s;-webkit-user-select:none;user-select:none}.ft-node:hover{background:var(--bg-hover)}.ft-node.selected{background:#4493f826;border-right:2px solid var(--accent-blue)}.ft-node-chevron{width:16px;flex-shrink:0;color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;cursor:pointer}.ft-node-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ft-node-badges{display:flex;align-items:center;gap:4px;flex-shrink:0}.ft-node-member-count{font-size:11px;color:var(--text-tertiary);background:var(--bg-tertiary);padding:1px 6px;border-radius:8px}.ft-node-oncall{font-size:14px}.ft-node-add-child{opacity:0;transition:opacity .1s;background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:flex;align-items:center}.ft-node-add-child:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-node:hover .ft-node-add-child{opacity:1}.ft-detail-panel{flex:1;overflow-y:auto;padding:20px 24px}.ft-empty-detail{display:flex;align-items:center;justify-content:center}.ft-detail-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.ft-detail-title{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.ft-detail-section{margin-bottom:20px}.ft-detail-section h3{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 8px}.ft-subsection{margin-top:12px}.ft-subsection h4{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;color:var(--text-tertiary);margin:0 0 6px}.ft-input{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none}.ft-input:focus{border-color:var(--accent-blue)}.ft-input-full{width:100%;box-sizing:border-box}.ft-textarea{width:100%;box-sizing:border-box;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:8px;resize:vertical;font-family:inherit;outline:none}.ft-textarea:focus{border-color:var(--accent-blue)}.ft-select{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 8px;outline:none;cursor:pointer}.ft-select:focus{border-color:var(--accent-blue)}.ft-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ft-btn:hover{background:var(--bg-hover)}.ft-btn:disabled{opacity:.5;cursor:not-allowed}.ft-btn-sm{padding:4px 8px;font-size:11px}.ft-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ft-btn-danger:hover{background:#f8514926}.ft-btn-icon{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;display:inline-flex;align-items:center}.ft-btn-icon:hover{color:var(--text-primary);background:var(--bg-tertiary)}.ft-toggle-row{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-primary);cursor:pointer;margin-bottom:10px}.ft-toggle-row input[type=checkbox]{cursor:pointer}.ft-field-row{display:flex;align-items:center;gap:10px;margin-bottom:8px}.ft-field-label{font-size:12px;color:var(--text-secondary);min-width:80px}.ft-member-list{display:flex;flex-direction:column;gap:2px}.ft-member-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;cursor:pointer;font-size:13px;color:var(--text-secondary);transition:background .1s}.ft-member-row:hover{background:var(--bg-hover)}.ft-member-row.active{color:var(--text-primary)}.ft-member-row input[type=checkbox]{cursor:pointer}.ft-member-avatar{font-size:16px}.ft-member-name{flex:1}.ft-oncall-current{display:flex;align-items:center;gap:10px;padding:12px;background:var(--bg-tertiary);border-radius:6px;border-left:3px solid var(--accent-green, #3fb950);margin-bottom:12px}.ft-oncall-current-avatar{font-size:24px}.ft-oncall-current-label{font-size:11px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.ft-oncall-current-name{font-size:14px;font-weight:600;color:var(--text-primary)}.ft-oncall-order{display:flex;flex-direction:column;gap:4px;margin:8px 0}.ft-oncall-order-item{display:flex;align-items:center;gap:8px;padding:6px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;cursor:grab;font-size:13px;transition:background .1s}.ft-oncall-order-item:active{cursor:grabbing}.ft-oncall-order-item.dragging{opacity:.5}.ft-oncall-order-index{color:var(--text-tertiary);font-size:11px;width:16px;text-align:center}.ft-oncall-override{display:flex;gap:6px;align-items:center}.ft-oncall-override .ft-select,.ft-oncall-override .ft-input{flex:1}.ft-oncall-override-history{margin-top:8px}.ft-oncall-override-row{display:flex;align-items:center;gap:8px;padding:4px 0;font-size:12px;color:var(--text-secondary)}.ft-muted{color:var(--text-tertiary);font-size:12px;font-style:italic}.ft-schedule-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:6px}.ft-schedule-table th{text-align:left;padding:6px 8px;color:var(--text-tertiary);border-bottom:1px solid var(--border-color);font-weight:500}.ft-schedule-table td{padding:6px 8px;color:var(--text-secondary);border-bottom:1px solid rgba(45,51,59,.5)}.ft-schedule-current td{background:#3fb9501a;font-weight:500;color:var(--accent-green, #3fb950)}.ft-empty{padding:40px 20px;text-align:center;color:var(--text-tertiary);font-size:13px}.ft-empty-icon{font-size:32px;margin-bottom:12px}.ft-node-resource-count{font-size:11px;color:var(--text-tertiary);background:#4493f826;padding:1px 5px;border-radius:8px}.ft-resource-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-resource-row{display:flex;align-items:center;gap:8px;padding:5px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-resource-row:hover{background:var(--bg-hover)}.ft-resource-icon{flex-shrink:0;font-size:14px}.ft-resource-label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text-primary)}.ft-resource-link{color:var(--accent-blue, #4493f8);text-decoration:none}.ft-resource-link:hover{text-decoration:underline}.ft-resource-visibility{font-size:11px;padding:2px 6px;border-radius:4px;border:1px solid transparent;background:var(--bg-tertiary);color:var(--text-tertiary);cursor:pointer;outline:none}.ft-resource-visibility[data-visibility=public]{color:var(--text-tertiary);background:var(--bg-tertiary)}.ft-resource-visibility[data-visibility=team-only]{color:#d29922;background:#d299221f;border-color:#d299224d}.ft-resource-visibility[data-visibility=restricted]{color:#f85149;background:#f851491f;border-color:#f851494d}.ft-resource-add{display:flex;gap:6px;align-items:center;margin-top:8px;flex-wrap:wrap}.ft-resource-add .ft-input{flex:1;min-width:100px}.ft-select-sm{font-size:11px;padding:4px 6px}.ft-partner-list{display:flex;flex-direction:column;gap:2px;margin-bottom:8px}.ft-partner-row{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:4px;font-size:13px;transition:background .1s}.ft-partner-row:hover{background:var(--bg-hover)}.ft-partner-link{flex:1;color:var(--accent-blue, #4493f8);cursor:pointer;font-weight:500}.ft-partner-link:hover{text-decoration:underline}.ft-partner-member-count{font-size:11px;color:var(--text-tertiary)}.ft-partner-add{display:flex;gap:6px;align-items:center;margin-top:8px}.ft-partner-add .ft-select{flex:1}.ppl-view{display:flex;flex-direction:column;height:100%;overflow:hidden;background:var(--bg-primary);padding:20px 24px}.ppl-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.ppl-title{font-size:20px;font-weight:600;color:var(--text-primary);margin:0}.ppl-stats{font-size:13px;color:var(--text-tertiary)}.ppl-content{flex:1;overflow-y:auto}.ppl-section{margin-bottom:24px}.ppl-section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin:0 0 12px}.ppl-list{display:flex;flex-direction:column;gap:8px}.ppl-empty{padding:20px;text-align:center;color:var(--text-tertiary);font-size:13px;font-style:italic}.ppl-card{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;transition:background .1s}.ppl-card:hover{background:var(--bg-hover)}.ppl-card.disabled{opacity:.5}.ppl-card.system{background:var(--bg-tertiary);border-style:dashed}.ppl-card.editing{flex-wrap:wrap;gap:10px}.ppl-card.new{border-color:var(--accent-blue);border-style:dashed;background:#4493f80d}.ppl-card-avatar{font-size:28px;flex-shrink:0}.ppl-card-info{flex:1;min-width:0}.ppl-card-name{font-size:14px;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-email{font-size:12px;color:var(--text-tertiary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ppl-card-badge{font-size:10px;padding:2px 6px;background:var(--bg-tertiary);color:var(--text-tertiary);border-radius:4px;text-transform:uppercase;letter-spacing:.3px;margin-top:4px;display:inline-block}.ppl-card-actions{display:flex;align-items:center;gap:6px;flex-shrink:0}.ppl-card-avatar-edit{position:relative}.ppl-avatar-btn{font-size:28px;background:var(--bg-tertiary);border:2px dashed var(--border-color);border-radius:8px;padding:4px 8px;cursor:pointer;transition:border-color .1s}.ppl-avatar-btn:hover{border-color:var(--accent-blue)}.ppl-avatar-picker{position:absolute;top:100%;left:0;margin-top:4px;padding:8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000004d;display:grid;grid-template-columns:repeat(6,1fr);gap:4px;z-index:100}.ppl-avatar-option{font-size:20px;padding:4px;background:none;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .1s}.ppl-avatar-option:hover{background:var(--bg-hover)}.ppl-avatar-option.selected{border-color:var(--accent-blue);background:#4493f81a}.ppl-card-fields{flex:1;display:flex;flex-direction:column;gap:6px;min-width:200px}.ppl-input{background:var(--bg-primary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:13px;padding:6px 10px;outline:none;width:100%;box-sizing:border-box}.ppl-input:focus{border-color:var(--accent-blue)}.ppl-btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-size:12px;font-weight:500;border:1px solid var(--border-color);border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer;transition:background .1s}.ppl-btn:hover{background:var(--bg-hover)}.ppl-btn:disabled{opacity:.5;cursor:not-allowed}.ppl-btn-sm{padding:4px 8px;font-size:11px}.ppl-btn-primary{background:var(--accent-blue, #4493f8);border-color:var(--accent-blue, #4493f8);color:#fff}.ppl-btn-primary:hover{background:#5ba3f8}.ppl-btn-danger{color:var(--accent-red, #f85149);border-color:#f851494d}.ppl-btn-danger:hover{background:#f8514926}.ppl-toggle{font-size:11px;padding:4px 8px;border-radius:4px;border:none;cursor:pointer;font-weight:500}.ppl-toggle.on{background:#3fb95026;color:var(--accent-green, #3fb950)}.ppl-toggle.off{background:#f851491a;color:var(--accent-red, #f85149)}.ppl-add-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 16px;font-size:13px;font-weight:500;border:2px dashed var(--border-color);border-radius:8px;background:transparent;color:var(--text-secondary);cursor:pointer;transition:all .1s}.ppl-add-btn:hover{border-color:var(--accent-blue);color:var(--accent-blue);background:#4493f80d}.ppl-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}.ppl-modal{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:20px;max-width:400px;width:90%;box-shadow:0 8px 24px #0006}.ppl-modal-title{font-size:16px;font-weight:600;color:var(--text-primary);margin-bottom:12px}.ppl-modal-body{font-size:13px;color:var(--text-secondary);margin-bottom:16px;line-height:1.5}.ppl-modal-actions{display:flex;justify-content:flex-end;gap:8px}.auth-btn-container{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.auth-btn{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;border:1px solid transparent;transition:all .15s ease}.auth-btn-signin{background:#4285f4;color:#fff;border-color:#4285f4}.auth-btn-signin:hover{background:#3367d6;border-color:#3367d6}.auth-btn-signout{background:var(--bg-tertiary, #f5f5f5);color:var(--text-secondary, #666);border-color:var(--border-color, #ddd)}.auth-btn-signout:hover{background:var(--bg-hover, #eee)}.auth-btn-loading{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:wait}.auth-btn-disabled{background:var(--bg-tertiary, #f5f5f5);color:var(--text-muted, #999);cursor:not-allowed;opacity:.7}.auth-error{font-size:11px;color:var(--color-danger, #dc3545);max-width:200px}.backend-item-status{font-size:11px;margin-left:8px}.backend-item-status.synced{color:var(--color-success, #3fb950)}.backend-item-status.loading{color:var(--text-muted, #999)}.backend-active{background:#3fb9500d}.backend-error{font-size:11px;color:var(--color-danger, #dc3545);padding:4px 12px;cursor:pointer}.github-token-input{display:flex;gap:8px;margin-top:8px}.github-token-input input{flex:1;padding:6px 10px;border:1px solid var(--border, #333);border-radius:6px;background:var(--bg-secondary, #1a1a1a);color:var(--text-primary, #e0e0e0);font-size:13px}.github-token-input input::placeholder{color:var(--text-muted, #666)}.github-token-input button{padding:6px 14px;border-radius:6px;background:var(--accent, #4a9eff);color:#fff;border:none;cursor:pointer;font-size:13px;white-space:nowrap}.github-token-input button:disabled{opacity:.5;cursor:default}.settings-hint{font-size:11px;color:var(--text-muted, #999);margin-top:4px;line-height:1.4}.settings-hint code{background:#ffffff14;padding:1px 4px;border-radius:3px;font-size:11px}.backend-icon-link{text-decoration:none;cursor:pointer}.backend-icon-link:hover{transform:scale(1.2)}.sync-status{display:inline-flex;align-items:center}.sync-status-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:4px;font-size:12px;background:var(--bg-secondary, #f8f8f8);border:1px solid var(--border-color, #ddd);cursor:pointer;transition:all .15s ease;color:var(--text-muted, #999);opacity:.7}.sync-status-btn:hover{background:var(--bg-hover, #eee)}.sync-icon{font-size:14px}.sync-state-syncing .sync-icon{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sync-state-error{border-color:var(--color-danger, #dc3545);color:var(--color-danger, #dc3545)}.sync-state-offline{border-color:var(--color-warning, #ffc107);color:var(--text-muted, #666)}</style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Register Service Worker -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('SW registered:', reg.scope))
            .catch(err => console.log('SW registration failed:', err));
        });
      }
    </script>
  </body>
</html>
